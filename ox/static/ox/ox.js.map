{"version":3,"file":"ox.js","sources":["../../../assets/ox/src/utils/reactive.ts","../../../assets/ox/src/models/index.ts","../../../assets/ox/node_modules/@pinia-orm/axios/dist/index.mjs","../../../assets/ox/src/composables/models.ts","../../../assets/ox/src/composables/app.ts","../../../assets/ox/src/composables/actions.ts","../../../assets/ox/node_modules/vuetify/lib/composables/date/adapters/vuetify.mjs","../../../assets/ox/node_modules/vuetify/lib/composables/date/date.mjs","../../../assets/ox/node_modules/vuetify/lib/framework.mjs","../../../assets/ox/node_modules/vuetify/lib/blueprints/md3.mjs","../../../assets/ox/node_modules/vuetify/lib/util/colors.mjs","../../../assets/ox/src/composables/i18n.ts","../../../assets/ox/src/composables/init.ts","../../../assets/ox/src/controllers/query.ts","../../../assets/ox/src/controllers/edit.ts","../../../assets/ox/src/controllers/modelController.ts","../../../assets/ox/src/controllers/modelList.ts","../../../assets/ox/src/controllers/panel.ts","../../../assets/ox/src/controllers/modelPanel.ts","../../../assets/ox/src/controllers/panels.ts","../../../assets/ox/src/controllers/list.ts","../../../assets/ox/src/composables/controllers.ts","../../../assets/ox/src/composables/index.ts"],"sourcesContent":["import {reactive} from 'vue'\nimport type {Reactive} from 'vue'\n\nimport {assignNonEmpty} from './functional'\n\n\n/**\n * Provide a base class for object that are designed to be reactive.\n *\n * `<O>` is the options provided to constructor.\n */\nexport default class RObject<O> {\n    /**\n     * Create a new reactive instance of the object.\n     * This where you can add watchers and computed properties.\n     */\n    static reactive<O>(options: O): Reactive<any> {\n        return reactive(new this(options))\n    }\n\n    constructor(options: O|null = null) {\n        options && assignNonEmpty(this, options)\n    }\n}\n","import {Relation, HasMany, HasManyBy, HasOne} from 'pinia-orm'\nimport type {Repository, PrimaryKey, Model as $Model} from 'pinia-orm'\n\nexport * from './model'\nexport * from './auth'\nimport type { Model } from './model'\n\n/** Shortcut to an object of repositories by model entity. */\nexport type Repos={[s: string]: Repository<Model>}\n\n\nexport function asRelation<M extends $Model>(repo: Repository<M>, relation: string|Relation): Relation|null {\n    if(typeof relation == \"string\") {\n        const fields = repo.use?.fields()\n        const field = fields && fields[relation] || null\n        relation = field instanceof Relation ? field : null\n    }\n    return relation\n}\n\n/**\n * For the provided relation, return the field name providing ids of related\n * models.\n */\nexport function getSourceKey(field: Relation): PrimaryKey|null  {\n    if(field instanceof HasMany || field instanceof HasManyBy || field instanceof HasOne)\n        return field.foreignKey\n    return null\n}\n\n\n","import { Repository, config, useRepo, definePiniaOrmPlugin } from 'pinia-orm';\nimport { getActivePinia } from 'pinia';\n\nvar __defProp$2 = Object.defineProperty;\nvar __defNormalProp$2 = (obj, key, value) => key in obj ? __defProp$2(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$2 = (obj, key, value) => {\n  __defNormalProp$2(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass Response {\n  /**\n   * Create a new response instance.\n   */\n  constructor(repository, config, response) {\n    /**\n     * The repository that called the request.\n     */\n    __publicField$2(this, \"repository\");\n    /**\n     * The request configuration.\n     */\n    __publicField$2(this, \"config\");\n    /**\n     * The axios response instance.\n     */\n    __publicField$2(this, \"response\");\n    /**\n     * Entities created by Pinia ORM.\n     */\n    __publicField$2(this, \"entities\", null);\n    /**\n     * Whether if response data is saved to the store or not.\n     */\n    __publicField$2(this, \"isSaved\", false);\n    this.repository = repository;\n    this.config = config;\n    this.response = response;\n  }\n  /**\n   * Save response data to the store.\n   */\n  async save() {\n    const data = this.getDataFromResponse();\n    if (!this.validateData(data)) {\n      console.warn(\n        \"[Pinia ORM Axios] The response data could not be saved to the store because it is not an object or an array. You might want to use `dataTransformer` option to handle non-array/object response before saving it to the store.\"\n      );\n      return;\n    }\n    let method = this.config.persistBy || \"save\";\n    if (!this.validatePersistAction(method)) {\n      console.warn(\n        '[Pinia ORM Axios] The \"persistBy\" option configured is not a recognized value. Response data will be persisted by the default `save` method.'\n      );\n      method = \"save\";\n    }\n    const result = await this.repository[method](data);\n    this.entities = Array.isArray(result) ? result : [result];\n    this.isSaved = true;\n  }\n  /**\n   * Delete the entity record where the `delete` option is configured.\n   */\n  async delete() {\n    if (this.config.delete === void 0) {\n      throw new Error(\n        \"[Pinia ORM Axios] Could not delete records because the `delete` option is not set.\"\n      );\n    }\n    await this.repository.query().destroy(this.config.delete);\n  }\n  /**\n   * Get the response data from the axios response object. If a `dataTransformer`\n   * option is configured, it will be applied to the response object. If the\n   * `dataKey` option is configured, it will return the data from the given\n   * property within the response body.\n   */\n  getDataFromResponse() {\n    if (this.config.dataTransformer) {\n      return this.config.dataTransformer(this.response);\n    }\n    if (this.config.dataKey) {\n      return this.response.data[this.config.dataKey];\n    }\n    return this.response.data;\n  }\n  /**\n   * Get persist options if any set in config.\n   */\n  // protected getPersistOptions (): PersistOptions | undefined {\n  //   const persistOptions = this.config.persistOptions\n  //\n  //   if (!persistOptions || typeof persistOptions !== 'object') {\n  //     return\n  //   }\n  //\n  //   return Object.keys(persistOptions)\n  //     .filter(this.validatePersistAction) // Filter to avoid polluting the payload.\n  //     .reduce((carry, key) => {\n  //       carry[key] = persistOptions[key]\n  //       return carry\n  //     }, {} as PersistOptions)\n  // }\n  /**\n   * Validate the given data to ensure the Pinia ORM persist methods accept it.\n   */\n  validateData(data) {\n    return data !== null && typeof data === \"object\";\n  }\n  /**\n   * Validate the given string as to ensure it correlates with the available\n   * Pinia ORM persist methods.\n   */\n  validatePersistAction(action) {\n    return [\"save\", \"insert\"].includes(action);\n  }\n}\n\nvar __defProp$1 = Object.defineProperty;\nvar __defNormalProp$1 = (obj, key, value) => key in obj ? __defProp$1(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField$1 = (obj, key, value) => {\n  __defNormalProp$1(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass Request {\n  /**\n   * Create a new api instance.\n   */\n  constructor(repository) {\n    /**\n     * The repository class.\n     */\n    __publicField$1(this, \"repository\");\n    /**\n     * The default config.\n     */\n    __publicField$1(this, \"config\", {\n      save: true\n    });\n    this.repository = repository;\n    this.registerActions();\n  }\n  /**\n   * Get the axios client.\n   */\n  get axios() {\n    if (!this.repository.axios) {\n      throw new Error(\n        \"[Pinia ORM Axios] The axios instance is not registered. Please register the axios instance to the repository.\"\n      );\n    }\n    return this.repository.axios;\n  }\n  /**\n   * Register actions from the repository config.\n   */\n  registerActions() {\n    const actions = { ...this.repository.config.axiosApi?.actions, ...this.repository.getModel().$config()?.axiosApi?.actions };\n    if (!actions) {\n      return;\n    }\n    for (const name in actions) {\n      const action = actions[name];\n      typeof action === \"function\" ? this.registerFunctionAction(name, action) : this.registerObjectAction(name, action);\n    }\n  }\n  /**\n   * Register the given object action.\n   */\n  registerObjectAction(name, action) {\n    this[name] = (config) => {\n      return this.request({ ...action, ...config });\n    };\n  }\n  /**\n   * Register the given function action.\n   */\n  registerFunctionAction(name, action) {\n    this[name] = action.bind(this);\n  }\n  /**\n   * Perform a get request.\n   */\n  get(url, config = {}) {\n    return this.request({ method: \"get\", url, ...config });\n  }\n  /**\n   * Perform a post request.\n   */\n  post(url, data = {}, config = {}) {\n    return this.request({ method: \"post\", url, data, ...config });\n  }\n  /**\n   * Perform a put request.\n   */\n  put(url, data = {}, config = {}) {\n    return this.request({ method: \"put\", url, data, ...config });\n  }\n  /**\n   * Perform a patch request.\n   */\n  patch(url, data = {}, config = {}) {\n    return this.request({ method: \"patch\", url, data, ...config });\n  }\n  /**\n   * Perform a delete request.\n   */\n  delete(url, config = {}) {\n    return this.request({ method: \"delete\", url, ...config });\n  }\n  /**\n   * Perform an api request.\n   */\n  async request(config) {\n    const requestConfig = this.createConfig(config);\n    const axiosResponse = await this.axios.request(requestConfig);\n    return this.createResponse(axiosResponse, requestConfig);\n  }\n  /**\n   * Create a new config by merging the global config, the repository config,\n   * and the given config.\n   */\n  createConfig(config) {\n    return {\n      ...this.config,\n      ...this.repository.globalApiConfig,\n      ...this.repository.apiConfig,\n      ...config\n    };\n  }\n  /**\n   * Create a new response instance by applying a few initialization processes.\n   * For example, it saves response data if `save` option id set to `true`.\n   */\n  async createResponse(axiosResponse, config) {\n    const response = new Response(this.repository, config, axiosResponse);\n    if (config.delete !== void 0) {\n      await response.delete();\n      return response;\n    }\n    config.save && await response.save();\n    return response;\n  }\n}\n\nvar __defProp = Object.defineProperty;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __publicField = (obj, key, value) => {\n  __defNormalProp(obj, typeof key !== \"symbol\" ? key + \"\" : key, value);\n  return value;\n};\nclass AxiosRepository extends Repository {\n  constructor() {\n    super(...arguments);\n    __publicField(this, \"axios\", config?.axiosApi?.axios || null);\n    __publicField(this, \"globalApiConfig\", config?.axiosApi || {});\n    __publicField(this, \"apiConfig\", {});\n  }\n  api() {\n    return useAxiosApi(this);\n  }\n  setAxios(axios) {\n    this.axios = axios;\n    return this;\n  }\n}\n\nfunction useAxiosApi(repository) {\n  return new Request(repository);\n}\n\nfunction useAxiosRepo(model) {\n  const pinia = getActivePinia();\n  AxiosRepository.useModel = model;\n  return useRepo(AxiosRepository, pinia);\n}\n\nfunction createPiniaOrmAxios(axiosConfig) {\n  return definePiniaOrmPlugin((context) => {\n    context.config.axiosApi = axiosConfig;\n    return context;\n  });\n}\nconst piniaOrmPluginAxios = createPiniaOrmAxios();\n\nexport { AxiosRepository, Request, Response, createPiniaOrmAxios, piniaOrmPluginAxios, useAxiosApi, useAxiosRepo };\n","import { provide, computed, unref } from 'vue'\nimport { getActivePinia } from 'pinia'\nimport { useRepo } from 'pinia-orm'\nimport { useAxiosRepo } from '@pinia-orm/axios'\nimport type {Ref} from 'vue'\nimport type {Repository} from 'pinia-orm'\n\nimport { Model, User, Permissions } from '../models'\nimport type {Repos, IPermissionItem} from '../models'\n\n\nexport type Models = (typeof Model)[] | {[name: string]: (typeof Model)}\n\n/**\n * Use provided pinia-orm models, returning an object with:\n * - repos: pinia-orm api repositories as dict by entity\n * - models: pinia-orm models\n *\n * `provide()` those values\n */\nexport function useModels(models: Models, defaults: boolean = true) {\n    const repos: Repos = {}\n\n    if(!Array.isArray(models))\n       models = Object.values(models)\n\n    if(defaults && !(models as (typeof Model)[]).includes(User))\n       models.push(User)\n\n    for(const model of models)\n        if(model && model.entity) {\n            if(model.entity in repos)\n                continue\n\n            // there might be a bug here, without useRepo, axios is\n            // null on repositories\n            useRepo(model)\n            repos[model.entity] = useAxiosRepo(model) as Repository\n        }\n\n    provide(\"models\", models)\n    provide(\"repos\", repos)\n    return { models, repos, }\n}\n\n\nexport function usePermissionsProps() {\n    return {\n        permissions: [String, Function, Object, Array],\n    }\n}\n\n\nexport function usePermissions(user: User|Ref<User>, perms: IPermissionItem[], value: Model) {\n    const permissions = perms instanceof Permissions ? perms : new Permissions(perms)\n    const allowed = computed(() => permissions.can(unref(user), unref(value)))\n    return { permissions, allowed }\n}\n","import {computed, reactive, provide} from 'vue'\nimport type {ComputedRef, Reactive} from 'vue'\n\nimport {User, Model} from '../models'\nimport type {Repos} from '../models'\nimport { useModels } from './models'\nimport { State } from '../utils'\nimport type {IObject} from '../utils'\n\n\n/**\n * Interface describing application data.\n *\n * Application data is initial data passed down to application from\n * Django generated page.\n */\nexport interface IAppData extends IObject {\n    //! Current panel name\n    panel?: string\n    //! Current panel's view name\n    view?: string\n    //! User's data.\n    user?: IObject\n}\n\n/**\n * This provide configuration to {@link AppContext}.\n */\nexport interface IApp {\n    /**\n     * Root API url\n     */\n    apiUrl?: string\n    /**\n     * Id of `<script>` element containing initial application data.\n     */\n    dataEl?: string\n    /**\n     * Models used by application.\n     */\n    models?: (typeof Model)[]\n    /**\n     * Extra application data.\n     */\n    data?: IAppData\n}\n\n\n/**\n * This class provides context for Oxylus application.\n *\n * Which is:\n * - initial data: this is loaded from `<script>` HTML object.\n * - models: it will create adequate `pinia-orm/axios` repositories for them.\n * - panel: current Panel information.\n *\n * The context is provided to Vue components in order to allow them\n * to access global information, such as current user or Panel.\n */\nexport class AppContext {\n    static reactive(opts: IApp) : IRAppContext {\n        const obj = reactive(new this(opts)) as IRAppContext\n        obj.user = computed(() => new User(obj.data?.user || {}))\n        return obj\n    }\n\n    constructor(opts: IApp = {}) {\n        Object.assign(this, opts)\n        this.state = State.none()\n        this.showState = false\n    }\n\n    /**\n     * Load data into AppData. If no `value` is provided, read it from\n     * source element.\n     */\n    load(value: any = undefined) {\n        if(this.dataEl !== undefined) {\n            if(value === undefined)\n                value = this.readData(this.dataEl)\n            value.dataEl = this.dataEl\n            this.data = value\n            if(this.panel && this.data.panel)\n                this.panel.value = value\n        }\n\n        if(this.models !== undefined) {\n            this.repos = useModels(this.models).repos\n        }\n    }\n\n    /**\n     * Read data from the context of provided source element.\n     * @param {String} el - id of the DOM element.\n     * @return {Object} read data\n     */\n    readData(dataEl: string): any {\n        const el = document.getElementById(dataEl)\n        if(!el)\n            throw `Element {elementId} not found`;\n        return el.innerText ? JSON.parse(el.innerText) : {};\n    }\n}\nexport interface AppContext extends IApp {\n    /** Models' repositories */\n    repos?: Repos\n    /**\n     * Application level state. This can be displayed to user using\n     * {@link AppContext.showState}.\n     *\n     * This element can display errors to users.\n     */\n    state: State\n    /**\n     * Show application state to user.\n     */\n    showState: boolean\n}\nexport interface IRAppContext extends Reactive<AppContext> {\n    user: ComputedRef<User>\n}\n\n\n/**\n * Create a new {@link AppContext} and provide the following values:\n * - `context`: {@link AppContext} object;\n * - `user`: current {@link models.User};\n * - `panel`: application {@link Panel};\n */\nexport function useAppContext(opts: IApp, load: boolean = true): AppContext {\n    const obj = AppContext.reactive(opts)\n    load && obj.dataEl && obj.load()\n\n    provide('context', obj)\n    provide('user', obj.user)\n    // provide('repos')\n    return obj\n}\n","import { ref } from 'vue'\n\nimport type { ComputedRef, Ref } from 'vue'\nimport type { Repository } from 'pinia-orm'\nimport type { Response } from '@pinia-orm/axios'\n\nimport { usePermissions, usePermissionsProps } from './models'\nimport { User, Model } from '../models'\nimport type { IPermissionItem, Permissions } from '../models'\n\n\nexport type ActionRun<M extends Model, R> = (user: User, item: M, ...args: any[]) => Promise<R>\nexport type ActionCompleted<M extends Model, R> = (user: User, item: Model, result: R) => void\n\n\nexport interface ActionProps<M extends Model, R>\n{\n    /**\n     * Value or model instance.\n     */\n    item: M\n    /**\n     * Label text displayed to user.\n     */\n    title: string\n    /**\n     * Displayed icon\n     */\n    icon: string\n    /**\n     * Displayed color\n     */\n    color?: string\n    /**\n     * Display action as a small button\n     */\n    button?: boolean\n    /**\n     * If provided, ask user for a confirmation before executing the action.\n     */\n    confirm?: string\n    /**\n     * Required permission to run the action\n     */\n    permissions: IPermissionItem[]\n    /**\n     * The function to call when action is executed\n     */\n    run: ActionRun<M,R>\n}\n\n\nexport interface IAction<M extends Model, R> {\n    /**\n     * Wether the action is running.\n     */\n    processing: Ref<boolean>\n    /**\n     * List of required {@link Permission} to run the action.\n     */\n    permissions: Permissions\n    /**\n     * Wether the user is allowed to run the action.\n     */\n    allowed: ComputedRef<boolean>\n    /**\n     * Action properties\n     */\n    props: ActionProps<M, R>\n}\n\n/**\n * Action's parameters, `user` MUST be provided.\n */\ntype ActionOpts = {\n    /**\n     * The user running the action.\n     */\n    user: User\n    /**\n     * If provided, emits `completed` once the action has been\n     * executed.\n     */\n    emits?: (event: string, ...opts: any[]) => void\n}\n\n\n/**\n * An `Action` is a function executable by the user.\n *\n * This class provides:\n * - user permissions check: {@link ActionProps.permissions}, {@link Action.permissions}, {@link Action.allowed}\n * - running status: {@link Action.processing}\n * - event emits when action is done: `completed` ({@link ActionCompleted})\n */\nclass Action<M extends Model, R> {\n    constructor(opts: ActionOpts, props: ActionProps<M,R>) {\n        Object.assign(this, opts)\n        this.props = props\n\n        this.processing = ref(false)\n        const perms = usePermissions(this.user, props.permissions, props.item)\n        this.permissions = perms.permissions\n        this.allowed = perms.allowed\n    }\n\n    /**\n     * Execute the action.\n     */\n    async run(...args: any[]): Promise<R> {\n        if(this.props.confirm && !confirm(this.props.confirm))\n            return\n        if(!this.allowed.value)\n            throw Error(`You are not allowed to execute this action`)\n\n        this.processing.value = true\n        let result : R = this.props.run(this.user, this.props.item, ...args)\n        if(result instanceof Promise)\n            result = await result\n\n        this.processing.value = false\n        if(this.emits)\n            this.emits('completed', this.props.item, ...args)\n        return result\n    }\n}\n\ninterface Action<M extends Model, R> extends IAction<M,R> {}\n\n\n/**\n * Create a new {@link Action}.\n *\n * Important note: the object is NOT reactive, although some of its\n * attributes are.\n */\nexport function useAction<M extends Model,R>(opts: ActionOpts, props: ActionProps<M,R>) : Action<M,R> {\n    return new Action(opts, props)\n}\n","// Utilities\nimport { createRange, padStart } from \"../../../util/index.mjs\"; // Types\nconst firstDay = {\n  '001': 1,\n  AD: 1,\n  AE: 6,\n  AF: 6,\n  AG: 0,\n  AI: 1,\n  AL: 1,\n  AM: 1,\n  AN: 1,\n  AR: 1,\n  AS: 0,\n  AT: 1,\n  AU: 1,\n  AX: 1,\n  AZ: 1,\n  BA: 1,\n  BD: 0,\n  BE: 1,\n  BG: 1,\n  BH: 6,\n  BM: 1,\n  BN: 1,\n  BR: 0,\n  BS: 0,\n  BT: 0,\n  BW: 0,\n  BY: 1,\n  BZ: 0,\n  CA: 0,\n  CH: 1,\n  CL: 1,\n  CM: 1,\n  CN: 1,\n  CO: 0,\n  CR: 1,\n  CY: 1,\n  CZ: 1,\n  DE: 1,\n  DJ: 6,\n  DK: 1,\n  DM: 0,\n  DO: 0,\n  DZ: 6,\n  EC: 1,\n  EE: 1,\n  EG: 6,\n  ES: 1,\n  ET: 0,\n  FI: 1,\n  FJ: 1,\n  FO: 1,\n  FR: 1,\n  GB: 1,\n  'GB-alt-variant': 0,\n  GE: 1,\n  GF: 1,\n  GP: 1,\n  GR: 1,\n  GT: 0,\n  GU: 0,\n  HK: 0,\n  HN: 0,\n  HR: 1,\n  HU: 1,\n  ID: 0,\n  IE: 1,\n  IL: 0,\n  IN: 0,\n  IQ: 6,\n  IR: 6,\n  IS: 1,\n  IT: 1,\n  JM: 0,\n  JO: 6,\n  JP: 0,\n  KE: 0,\n  KG: 1,\n  KH: 0,\n  KR: 0,\n  KW: 6,\n  KZ: 1,\n  LA: 0,\n  LB: 1,\n  LI: 1,\n  LK: 1,\n  LT: 1,\n  LU: 1,\n  LV: 1,\n  LY: 6,\n  MC: 1,\n  MD: 1,\n  ME: 1,\n  MH: 0,\n  MK: 1,\n  MM: 0,\n  MN: 1,\n  MO: 0,\n  MQ: 1,\n  MT: 0,\n  MV: 5,\n  MX: 0,\n  MY: 1,\n  MZ: 0,\n  NI: 0,\n  NL: 1,\n  NO: 1,\n  NP: 0,\n  NZ: 1,\n  OM: 6,\n  PA: 0,\n  PE: 0,\n  PH: 0,\n  PK: 0,\n  PL: 1,\n  PR: 0,\n  PT: 0,\n  PY: 0,\n  QA: 6,\n  RE: 1,\n  RO: 1,\n  RS: 1,\n  RU: 1,\n  SA: 0,\n  SD: 6,\n  SE: 1,\n  SG: 0,\n  SI: 1,\n  SK: 1,\n  SM: 1,\n  SV: 0,\n  SY: 6,\n  TH: 0,\n  TJ: 1,\n  TM: 1,\n  TR: 1,\n  TT: 0,\n  TW: 0,\n  UA: 1,\n  UM: 0,\n  US: 0,\n  UY: 1,\n  UZ: 1,\n  VA: 1,\n  VE: 0,\n  VI: 0,\n  VN: 1,\n  WS: 0,\n  XK: 1,\n  YE: 0,\n  ZA: 0,\n  ZW: 0\n};\nfunction getWeekArray(date, locale, firstDayOfWeek) {\n  const weeks = [];\n  let currentWeek = [];\n  const firstDayOfMonth = startOfMonth(date);\n  const lastDayOfMonth = endOfMonth(date);\n  const first = firstDayOfWeek ?? firstDay[locale.slice(-2).toUpperCase()] ?? 0;\n  const firstDayWeekIndex = (firstDayOfMonth.getDay() - first + 7) % 7;\n  const lastDayWeekIndex = (lastDayOfMonth.getDay() - first + 7) % 7;\n  for (let i = 0; i < firstDayWeekIndex; i++) {\n    const adjacentDay = new Date(firstDayOfMonth);\n    adjacentDay.setDate(adjacentDay.getDate() - (firstDayWeekIndex - i));\n    currentWeek.push(adjacentDay);\n  }\n  for (let i = 1; i <= lastDayOfMonth.getDate(); i++) {\n    const day = new Date(date.getFullYear(), date.getMonth(), i);\n\n    // Add the day to the current week\n    currentWeek.push(day);\n\n    // If the current week has 7 days, add it to the weeks array and start a new week\n    if (currentWeek.length === 7) {\n      weeks.push(currentWeek);\n      currentWeek = [];\n    }\n  }\n  for (let i = 1; i < 7 - lastDayWeekIndex; i++) {\n    const adjacentDay = new Date(lastDayOfMonth);\n    adjacentDay.setDate(adjacentDay.getDate() + i);\n    currentWeek.push(adjacentDay);\n  }\n  if (currentWeek.length > 0) {\n    weeks.push(currentWeek);\n  }\n  return weeks;\n}\nfunction startOfWeek(date, locale, firstDayOfWeek) {\n  const day = firstDayOfWeek ?? firstDay[locale.slice(-2).toUpperCase()] ?? 0;\n  const d = new Date(date);\n  while (d.getDay() !== day) {\n    d.setDate(d.getDate() - 1);\n  }\n  return d;\n}\nfunction endOfWeek(date, locale) {\n  const d = new Date(date);\n  const lastDay = ((firstDay[locale.slice(-2).toUpperCase()] ?? 0) + 6) % 7;\n  while (d.getDay() !== lastDay) {\n    d.setDate(d.getDate() + 1);\n  }\n  return d;\n}\nfunction startOfMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth(), 1);\n}\nfunction endOfMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 0);\n}\nfunction parseLocalDate(value) {\n  const parts = value.split('-').map(Number);\n\n  // new Date() uses local time zone when passing individual date component values\n  return new Date(parts[0], parts[1] - 1, parts[2]);\n}\nconst _YYYMMDD = /^([12]\\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\\d|3[01]))$/;\nfunction date(value) {\n  if (value == null) return new Date();\n  if (value instanceof Date) return value;\n  if (typeof value === 'string') {\n    let parsed;\n    if (_YYYMMDD.test(value)) {\n      return parseLocalDate(value);\n    } else {\n      parsed = Date.parse(value);\n    }\n    if (!isNaN(parsed)) return new Date(parsed);\n  }\n  return null;\n}\nconst sundayJanuarySecond2000 = new Date(2000, 0, 2);\nfunction getWeekdays(locale, firstDayOfWeek) {\n  const daysFromSunday = firstDayOfWeek ?? firstDay[locale.slice(-2).toUpperCase()] ?? 0;\n  return createRange(7).map(i => {\n    const weekday = new Date(sundayJanuarySecond2000);\n    weekday.setDate(sundayJanuarySecond2000.getDate() + daysFromSunday + i);\n    return new Intl.DateTimeFormat(locale, {\n      weekday: 'narrow'\n    }).format(weekday);\n  });\n}\nfunction format(value, formatString, locale, formats) {\n  const newDate = date(value) ?? new Date();\n  const customFormat = formats?.[formatString];\n  if (typeof customFormat === 'function') {\n    return customFormat(newDate, formatString, locale);\n  }\n  let options = {};\n  switch (formatString) {\n    case 'fullDate':\n      options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      };\n      break;\n    case 'fullDateWithWeekday':\n      options = {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      };\n      break;\n    case 'normalDate':\n      const day = newDate.getDate();\n      const month = new Intl.DateTimeFormat(locale, {\n        month: 'long'\n      }).format(newDate);\n      return `${day} ${month}`;\n    case 'normalDateWithWeekday':\n      options = {\n        weekday: 'short',\n        day: 'numeric',\n        month: 'short'\n      };\n      break;\n    case 'shortDate':\n      options = {\n        month: 'short',\n        day: 'numeric'\n      };\n      break;\n    case 'year':\n      options = {\n        year: 'numeric'\n      };\n      break;\n    case 'month':\n      options = {\n        month: 'long'\n      };\n      break;\n    case 'monthShort':\n      options = {\n        month: 'short'\n      };\n      break;\n    case 'monthAndYear':\n      options = {\n        month: 'long',\n        year: 'numeric'\n      };\n      break;\n    case 'monthAndDate':\n      options = {\n        month: 'long',\n        day: 'numeric'\n      };\n      break;\n    case 'weekday':\n      options = {\n        weekday: 'long'\n      };\n      break;\n    case 'weekdayShort':\n      options = {\n        weekday: 'short'\n      };\n      break;\n    case 'dayOfMonth':\n      return new Intl.NumberFormat(locale).format(newDate.getDate());\n    case 'hours12h':\n      options = {\n        hour: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'hours24h':\n      options = {\n        hour: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'minutes':\n      options = {\n        minute: 'numeric'\n      };\n      break;\n    case 'seconds':\n      options = {\n        second: 'numeric'\n      };\n      break;\n    case 'fullTime':\n      options = {\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'fullTime12h':\n      options = {\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'fullTime24h':\n      options = {\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'fullDateTime':\n      options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'fullDateTime12h':\n      options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'fullDateTime24h':\n      options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'keyboardDate':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit'\n      };\n      break;\n    case 'keyboardDateTime':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'keyboardDateTime12h':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'keyboardDateTime24h':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: 'numeric',\n        minute: 'numeric',\n        second: 'numeric',\n        hour12: false\n      };\n      break;\n    default:\n      options = customFormat ?? {\n        timeZone: 'UTC',\n        timeZoneName: 'short'\n      };\n  }\n  return new Intl.DateTimeFormat(locale, options).format(newDate);\n}\nfunction toISO(adapter, value) {\n  const date = adapter.toJsDate(value);\n  const year = date.getFullYear();\n  const month = padStart(String(date.getMonth() + 1), 2, '0');\n  const day = padStart(String(date.getDate()), 2, '0');\n  return `${year}-${month}-${day}`;\n}\nfunction parseISO(value) {\n  const [year, month, day] = value.split('-').map(Number);\n  return new Date(year, month - 1, day);\n}\nfunction addMinutes(date, amount) {\n  const d = new Date(date);\n  d.setMinutes(d.getMinutes() + amount);\n  return d;\n}\nfunction addHours(date, amount) {\n  const d = new Date(date);\n  d.setHours(d.getHours() + amount);\n  return d;\n}\nfunction addDays(date, amount) {\n  const d = new Date(date);\n  d.setDate(d.getDate() + amount);\n  return d;\n}\nfunction addWeeks(date, amount) {\n  const d = new Date(date);\n  d.setDate(d.getDate() + amount * 7);\n  return d;\n}\nfunction addMonths(date, amount) {\n  const d = new Date(date);\n  d.setDate(1);\n  d.setMonth(d.getMonth() + amount);\n  return d;\n}\nfunction getYear(date) {\n  return date.getFullYear();\n}\nfunction getMonth(date) {\n  return date.getMonth();\n}\nfunction getDate(date) {\n  return date.getDate();\n}\nfunction getNextMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 1);\n}\nfunction getPreviousMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth() - 1, 1);\n}\nfunction getHours(date) {\n  return date.getHours();\n}\nfunction getMinutes(date) {\n  return date.getMinutes();\n}\nfunction startOfYear(date) {\n  return new Date(date.getFullYear(), 0, 1);\n}\nfunction endOfYear(date) {\n  return new Date(date.getFullYear(), 11, 31);\n}\nfunction isWithinRange(date, range) {\n  return isAfter(date, range[0]) && isBefore(date, range[1]);\n}\nfunction isValid(date) {\n  const d = new Date(date);\n  return d instanceof Date && !isNaN(d.getTime());\n}\nfunction isAfter(date, comparing) {\n  return date.getTime() > comparing.getTime();\n}\nfunction isAfterDay(date, comparing) {\n  return isAfter(startOfDay(date), startOfDay(comparing));\n}\nfunction isBefore(date, comparing) {\n  return date.getTime() < comparing.getTime();\n}\nfunction isEqual(date, comparing) {\n  return date.getTime() === comparing.getTime();\n}\nfunction isSameDay(date, comparing) {\n  return date.getDate() === comparing.getDate() && date.getMonth() === comparing.getMonth() && date.getFullYear() === comparing.getFullYear();\n}\nfunction isSameMonth(date, comparing) {\n  return date.getMonth() === comparing.getMonth() && date.getFullYear() === comparing.getFullYear();\n}\nfunction isSameYear(date, comparing) {\n  return date.getFullYear() === comparing.getFullYear();\n}\nfunction getDiff(date, comparing, unit) {\n  const d = new Date(date);\n  const c = new Date(comparing);\n  switch (unit) {\n    case 'years':\n      return d.getFullYear() - c.getFullYear();\n    case 'quarters':\n      return Math.floor((d.getMonth() - c.getMonth() + (d.getFullYear() - c.getFullYear()) * 12) / 4);\n    case 'months':\n      return d.getMonth() - c.getMonth() + (d.getFullYear() - c.getFullYear()) * 12;\n    case 'weeks':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60 * 60 * 24 * 7));\n    case 'days':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60 * 60 * 24));\n    case 'hours':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60 * 60));\n    case 'minutes':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60));\n    case 'seconds':\n      return Math.floor((d.getTime() - c.getTime()) / 1000);\n    default:\n      {\n        return d.getTime() - c.getTime();\n      }\n  }\n}\nfunction setHours(date, count) {\n  const d = new Date(date);\n  d.setHours(count);\n  return d;\n}\nfunction setMinutes(date, count) {\n  const d = new Date(date);\n  d.setMinutes(count);\n  return d;\n}\nfunction setMonth(date, count) {\n  const d = new Date(date);\n  d.setMonth(count);\n  return d;\n}\nfunction setDate(date, day) {\n  const d = new Date(date);\n  d.setDate(day);\n  return d;\n}\nfunction setYear(date, year) {\n  const d = new Date(date);\n  d.setFullYear(year);\n  return d;\n}\nfunction startOfDay(date) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0, 0);\n}\nfunction endOfDay(date) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate(), 23, 59, 59, 999);\n}\nexport class VuetifyDateAdapter {\n  constructor(options) {\n    this.locale = options.locale;\n    this.formats = options.formats;\n  }\n  date(value) {\n    return date(value);\n  }\n  toJsDate(date) {\n    return date;\n  }\n  toISO(date) {\n    return toISO(this, date);\n  }\n  parseISO(date) {\n    return parseISO(date);\n  }\n  addMinutes(date, amount) {\n    return addMinutes(date, amount);\n  }\n  addHours(date, amount) {\n    return addHours(date, amount);\n  }\n  addDays(date, amount) {\n    return addDays(date, amount);\n  }\n  addWeeks(date, amount) {\n    return addWeeks(date, amount);\n  }\n  addMonths(date, amount) {\n    return addMonths(date, amount);\n  }\n  getWeekArray(date, firstDayOfWeek) {\n    return getWeekArray(date, this.locale, firstDayOfWeek ? Number(firstDayOfWeek) : undefined);\n  }\n  startOfWeek(date, firstDayOfWeek) {\n    return startOfWeek(date, this.locale, firstDayOfWeek ? Number(firstDayOfWeek) : undefined);\n  }\n  endOfWeek(date) {\n    return endOfWeek(date, this.locale);\n  }\n  startOfMonth(date) {\n    return startOfMonth(date);\n  }\n  endOfMonth(date) {\n    return endOfMonth(date);\n  }\n  format(date, formatString) {\n    return format(date, formatString, this.locale, this.formats);\n  }\n  isEqual(date, comparing) {\n    return isEqual(date, comparing);\n  }\n  isValid(date) {\n    return isValid(date);\n  }\n  isWithinRange(date, range) {\n    return isWithinRange(date, range);\n  }\n  isAfter(date, comparing) {\n    return isAfter(date, comparing);\n  }\n  isAfterDay(date, comparing) {\n    return isAfterDay(date, comparing);\n  }\n  isBefore(date, comparing) {\n    return !isAfter(date, comparing) && !isEqual(date, comparing);\n  }\n  isSameDay(date, comparing) {\n    return isSameDay(date, comparing);\n  }\n  isSameMonth(date, comparing) {\n    return isSameMonth(date, comparing);\n  }\n  isSameYear(date, comparing) {\n    return isSameYear(date, comparing);\n  }\n  setMinutes(date, count) {\n    return setMinutes(date, count);\n  }\n  setHours(date, count) {\n    return setHours(date, count);\n  }\n  setMonth(date, count) {\n    return setMonth(date, count);\n  }\n  setDate(date, day) {\n    return setDate(date, day);\n  }\n  setYear(date, year) {\n    return setYear(date, year);\n  }\n  getDiff(date, comparing, unit) {\n    return getDiff(date, comparing, unit);\n  }\n  getWeekdays(firstDayOfWeek) {\n    return getWeekdays(this.locale, firstDayOfWeek ? Number(firstDayOfWeek) : undefined);\n  }\n  getYear(date) {\n    return getYear(date);\n  }\n  getMonth(date) {\n    return getMonth(date);\n  }\n  getDate(date) {\n    return getDate(date);\n  }\n  getNextMonth(date) {\n    return getNextMonth(date);\n  }\n  getPreviousMonth(date) {\n    return getPreviousMonth(date);\n  }\n  getHours(date) {\n    return getHours(date);\n  }\n  getMinutes(date) {\n    return getMinutes(date);\n  }\n  startOfDay(date) {\n    return startOfDay(date);\n  }\n  endOfDay(date) {\n    return endOfDay(date);\n  }\n  startOfYear(date) {\n    return startOfYear(date);\n  }\n  endOfYear(date) {\n    return endOfYear(date);\n  }\n}\n//# sourceMappingURL=vuetify.mjs.map","// Composables\nimport { useLocale } from \"../locale.mjs\"; // Utilities\nimport { inject, reactive, watch } from 'vue';\nimport { mergeDeep } from \"../../util/index.mjs\"; // Types\n// Adapters\nimport { VuetifyDateAdapter } from \"./adapters/vuetify.mjs\";\n/** Supports module augmentation to specify date adapter types */\nexport let DateModule;\nexport const DateOptionsSymbol = Symbol.for('vuetify:date-options');\nexport const DateAdapterSymbol = Symbol.for('vuetify:date-adapter');\nexport function createDate(options, locale) {\n  const _options = mergeDeep({\n    adapter: VuetifyDateAdapter,\n    locale: {\n      af: 'af-ZA',\n      // ar: '', # not the same value for all variants\n      bg: 'bg-BG',\n      ca: 'ca-ES',\n      ckb: '',\n      cs: 'cs-CZ',\n      de: 'de-DE',\n      el: 'el-GR',\n      en: 'en-US',\n      // es: '', # not the same value for all variants\n      et: 'et-EE',\n      fa: 'fa-IR',\n      fi: 'fi-FI',\n      // fr: '', #not the same value for all variants\n      hr: 'hr-HR',\n      hu: 'hu-HU',\n      he: 'he-IL',\n      id: 'id-ID',\n      it: 'it-IT',\n      ja: 'ja-JP',\n      ko: 'ko-KR',\n      lv: 'lv-LV',\n      lt: 'lt-LT',\n      nl: 'nl-NL',\n      no: 'no-NO',\n      pl: 'pl-PL',\n      pt: 'pt-PT',\n      ro: 'ro-RO',\n      ru: 'ru-RU',\n      sk: 'sk-SK',\n      sl: 'sl-SI',\n      srCyrl: 'sr-SP',\n      srLatn: 'sr-SP',\n      sv: 'sv-SE',\n      th: 'th-TH',\n      tr: 'tr-TR',\n      az: 'az-AZ',\n      uk: 'uk-UA',\n      vi: 'vi-VN',\n      zhHans: 'zh-CN',\n      zhHant: 'zh-TW'\n    }\n  }, options);\n  return {\n    options: _options,\n    instance: createInstance(_options, locale)\n  };\n}\nfunction createInstance(options, locale) {\n  const instance = reactive(typeof options.adapter === 'function'\n  // eslint-disable-next-line new-cap\n  ? new options.adapter({\n    locale: options.locale[locale.current.value] ?? locale.current.value,\n    formats: options.formats\n  }) : options.adapter);\n  watch(locale.current, value => {\n    instance.locale = options.locale[value] ?? value ?? instance.locale;\n  });\n  return instance;\n}\nexport function useDate() {\n  const options = inject(DateOptionsSymbol);\n  if (!options) throw new Error('[Vuetify] Could not find injected date options');\n  const locale = useLocale();\n  return createInstance(options, locale);\n}\n\n// https://stackoverflow.com/questions/274861/how-do-i-calculate-the-week-number-given-a-date/275024#275024\nexport function getWeek(adapter, value) {\n  const date = adapter.toJsDate(value);\n  let year = date.getFullYear();\n  let d1w1 = new Date(year, 0, 1);\n  if (date < d1w1) {\n    year = year - 1;\n    d1w1 = new Date(year, 0, 1);\n  } else {\n    const tv = new Date(year + 1, 0, 1);\n    if (date >= tv) {\n      year = year + 1;\n      d1w1 = tv;\n    }\n  }\n  const diffTime = Math.abs(date.getTime() - d1w1.getTime());\n  const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\n  return Math.floor(diffDays / 7) + 1;\n}\n//# sourceMappingURL=date.mjs.map","// Composables\nimport { createDate, DateAdapterSymbol, DateOptionsSymbol } from \"./composables/date/date.mjs\";\nimport { createDefaults, DefaultsSymbol } from \"./composables/defaults.mjs\";\nimport { createDisplay, DisplaySymbol } from \"./composables/display.mjs\";\nimport { createGoTo, GoToSymbol } from \"./composables/goto.mjs\";\nimport { createIcons, IconSymbol } from \"./composables/icons.mjs\";\nimport { createLocale, LocaleSymbol } from \"./composables/locale.mjs\";\nimport { createTheme, ThemeSymbol } from \"./composables/theme.mjs\"; // Utilities\nimport { nextTick, reactive } from 'vue';\nimport { defineComponent, getUid, IN_BROWSER, mergeDeep } from \"./util/index.mjs\"; // Types\nexport * from \"./composables/index.mjs\";\nexport function createVuetify() {\n  let vuetify = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    blueprint,\n    ...rest\n  } = vuetify;\n  const options = mergeDeep(blueprint, rest);\n  const {\n    aliases = {},\n    components = {},\n    directives = {}\n  } = options;\n  const defaults = createDefaults(options.defaults);\n  const display = createDisplay(options.display, options.ssr);\n  const theme = createTheme(options.theme);\n  const icons = createIcons(options.icons);\n  const locale = createLocale(options.locale);\n  const date = createDate(options.date, locale);\n  const goTo = createGoTo(options.goTo, locale);\n  const install = app => {\n    for (const key in directives) {\n      app.directive(key, directives[key]);\n    }\n    for (const key in components) {\n      app.component(key, components[key]);\n    }\n    for (const key in aliases) {\n      app.component(key, defineComponent({\n        ...aliases[key],\n        name: key,\n        aliasName: aliases[key].name\n      }));\n    }\n    theme.install(app);\n    app.provide(DefaultsSymbol, defaults);\n    app.provide(DisplaySymbol, display);\n    app.provide(ThemeSymbol, theme);\n    app.provide(IconSymbol, icons);\n    app.provide(LocaleSymbol, locale);\n    app.provide(DateOptionsSymbol, date.options);\n    app.provide(DateAdapterSymbol, date.instance);\n    app.provide(GoToSymbol, goTo);\n    if (IN_BROWSER && options.ssr) {\n      if (app.$nuxt) {\n        app.$nuxt.hook('app:suspense:resolve', () => {\n          display.update();\n        });\n      } else {\n        const {\n          mount\n        } = app;\n        app.mount = function () {\n          const vm = mount(...arguments);\n          nextTick(() => display.update());\n          app.mount = mount;\n          return vm;\n        };\n      }\n    }\n    getUid.reset();\n    if (typeof __VUE_OPTIONS_API__ !== 'boolean' || __VUE_OPTIONS_API__) {\n      app.mixin({\n        computed: {\n          $vuetify() {\n            return reactive({\n              defaults: inject.call(this, DefaultsSymbol),\n              display: inject.call(this, DisplaySymbol),\n              theme: inject.call(this, ThemeSymbol),\n              icons: inject.call(this, IconSymbol),\n              locale: inject.call(this, LocaleSymbol),\n              date: inject.call(this, DateAdapterSymbol)\n            });\n          }\n        }\n      });\n    }\n  };\n  return {\n    install,\n    defaults,\n    display,\n    theme,\n    icons,\n    locale,\n    date,\n    goTo\n  };\n}\nexport const version = \"3.7.3\";\ncreateVuetify.version = version;\n\n// Vue's inject() can only be used in setup\nfunction inject(key) {\n  const vm = this.$;\n  const provides = vm.parent?.provides ?? vm.vnode.appContext?.provides;\n  if (provides && key in provides) {\n    return provides[key];\n  }\n}\n//# sourceMappingURL=framework.mjs.map","// Icons\nimport { mdi } from \"../iconsets/mdi.mjs\"; // Types\nexport const md3 = {\n  defaults: {\n    VAppBar: {\n      flat: true\n    },\n    VAutocomplete: {\n      variant: 'filled'\n    },\n    VBanner: {\n      color: 'primary'\n    },\n    VBottomSheet: {\n      contentClass: 'rounded-t-xl overflow-hidden'\n    },\n    VBtn: {\n      color: 'primary',\n      rounded: 'xl'\n    },\n    VBtnGroup: {\n      rounded: 'xl',\n      VBtn: {\n        rounded: null\n      }\n    },\n    VCard: {\n      rounded: 'lg'\n    },\n    VCheckbox: {\n      color: 'secondary',\n      inset: true\n    },\n    VChip: {\n      rounded: 'sm'\n    },\n    VCombobox: {\n      variant: 'filled'\n    },\n    VNavigationDrawer: {\n      // VList: {\n      //   nav: true,\n      //   VListItem: {\n      //     rounded: 'xl',\n      //   },\n      // },\n    },\n    VSelect: {\n      variant: 'filled'\n    },\n    VSlider: {\n      color: 'primary'\n    },\n    VTabs: {\n      color: 'primary'\n    },\n    VTextarea: {\n      variant: 'filled'\n    },\n    VTextField: {\n      variant: 'filled'\n    },\n    VToolbar: {\n      VBtn: {\n        color: null\n      }\n    }\n  },\n  icons: {\n    defaultSet: 'mdi',\n    sets: {\n      mdi\n    }\n  },\n  theme: {\n    themes: {\n      light: {\n        colors: {\n          primary: '#6750a4',\n          secondary: '#b4b0bb',\n          tertiary: '#7d5260',\n          error: '#b3261e',\n          surface: '#fffbfe'\n        }\n      }\n    }\n  }\n};\n//# sourceMappingURL=md3.mjs.map","export const red = {\n  base: '#f44336',\n  lighten5: '#ffebee',\n  lighten4: '#ffcdd2',\n  lighten3: '#ef9a9a',\n  lighten2: '#e57373',\n  lighten1: '#ef5350',\n  darken1: '#e53935',\n  darken2: '#d32f2f',\n  darken3: '#c62828',\n  darken4: '#b71c1c',\n  accent1: '#ff8a80',\n  accent2: '#ff5252',\n  accent3: '#ff1744',\n  accent4: '#d50000'\n};\nexport const pink = {\n  base: '#e91e63',\n  lighten5: '#fce4ec',\n  lighten4: '#f8bbd0',\n  lighten3: '#f48fb1',\n  lighten2: '#f06292',\n  lighten1: '#ec407a',\n  darken1: '#d81b60',\n  darken2: '#c2185b',\n  darken3: '#ad1457',\n  darken4: '#880e4f',\n  accent1: '#ff80ab',\n  accent2: '#ff4081',\n  accent3: '#f50057',\n  accent4: '#c51162'\n};\nexport const purple = {\n  base: '#9c27b0',\n  lighten5: '#f3e5f5',\n  lighten4: '#e1bee7',\n  lighten3: '#ce93d8',\n  lighten2: '#ba68c8',\n  lighten1: '#ab47bc',\n  darken1: '#8e24aa',\n  darken2: '#7b1fa2',\n  darken3: '#6a1b9a',\n  darken4: '#4a148c',\n  accent1: '#ea80fc',\n  accent2: '#e040fb',\n  accent3: '#d500f9',\n  accent4: '#aa00ff'\n};\nexport const deepPurple = {\n  base: '#673ab7',\n  lighten5: '#ede7f6',\n  lighten4: '#d1c4e9',\n  lighten3: '#b39ddb',\n  lighten2: '#9575cd',\n  lighten1: '#7e57c2',\n  darken1: '#5e35b1',\n  darken2: '#512da8',\n  darken3: '#4527a0',\n  darken4: '#311b92',\n  accent1: '#b388ff',\n  accent2: '#7c4dff',\n  accent3: '#651fff',\n  accent4: '#6200ea'\n};\nexport const indigo = {\n  base: '#3f51b5',\n  lighten5: '#e8eaf6',\n  lighten4: '#c5cae9',\n  lighten3: '#9fa8da',\n  lighten2: '#7986cb',\n  lighten1: '#5c6bc0',\n  darken1: '#3949ab',\n  darken2: '#303f9f',\n  darken3: '#283593',\n  darken4: '#1a237e',\n  accent1: '#8c9eff',\n  accent2: '#536dfe',\n  accent3: '#3d5afe',\n  accent4: '#304ffe'\n};\nexport const blue = {\n  base: '#2196f3',\n  lighten5: '#e3f2fd',\n  lighten4: '#bbdefb',\n  lighten3: '#90caf9',\n  lighten2: '#64b5f6',\n  lighten1: '#42a5f5',\n  darken1: '#1e88e5',\n  darken2: '#1976d2',\n  darken3: '#1565c0',\n  darken4: '#0d47a1',\n  accent1: '#82b1ff',\n  accent2: '#448aff',\n  accent3: '#2979ff',\n  accent4: '#2962ff'\n};\nexport const lightBlue = {\n  base: '#03a9f4',\n  lighten5: '#e1f5fe',\n  lighten4: '#b3e5fc',\n  lighten3: '#81d4fa',\n  lighten2: '#4fc3f7',\n  lighten1: '#29b6f6',\n  darken1: '#039be5',\n  darken2: '#0288d1',\n  darken3: '#0277bd',\n  darken4: '#01579b',\n  accent1: '#80d8ff',\n  accent2: '#40c4ff',\n  accent3: '#00b0ff',\n  accent4: '#0091ea'\n};\nexport const cyan = {\n  base: '#00bcd4',\n  lighten5: '#e0f7fa',\n  lighten4: '#b2ebf2',\n  lighten3: '#80deea',\n  lighten2: '#4dd0e1',\n  lighten1: '#26c6da',\n  darken1: '#00acc1',\n  darken2: '#0097a7',\n  darken3: '#00838f',\n  darken4: '#006064',\n  accent1: '#84ffff',\n  accent2: '#18ffff',\n  accent3: '#00e5ff',\n  accent4: '#00b8d4'\n};\nexport const teal = {\n  base: '#009688',\n  lighten5: '#e0f2f1',\n  lighten4: '#b2dfdb',\n  lighten3: '#80cbc4',\n  lighten2: '#4db6ac',\n  lighten1: '#26a69a',\n  darken1: '#00897b',\n  darken2: '#00796b',\n  darken3: '#00695c',\n  darken4: '#004d40',\n  accent1: '#a7ffeb',\n  accent2: '#64ffda',\n  accent3: '#1de9b6',\n  accent4: '#00bfa5'\n};\nexport const green = {\n  base: '#4caf50',\n  lighten5: '#e8f5e9',\n  lighten4: '#c8e6c9',\n  lighten3: '#a5d6a7',\n  lighten2: '#81c784',\n  lighten1: '#66bb6a',\n  darken1: '#43a047',\n  darken2: '#388e3c',\n  darken3: '#2e7d32',\n  darken4: '#1b5e20',\n  accent1: '#b9f6ca',\n  accent2: '#69f0ae',\n  accent3: '#00e676',\n  accent4: '#00c853'\n};\nexport const lightGreen = {\n  base: '#8bc34a',\n  lighten5: '#f1f8e9',\n  lighten4: '#dcedc8',\n  lighten3: '#c5e1a5',\n  lighten2: '#aed581',\n  lighten1: '#9ccc65',\n  darken1: '#7cb342',\n  darken2: '#689f38',\n  darken3: '#558b2f',\n  darken4: '#33691e',\n  accent1: '#ccff90',\n  accent2: '#b2ff59',\n  accent3: '#76ff03',\n  accent4: '#64dd17'\n};\nexport const lime = {\n  base: '#cddc39',\n  lighten5: '#f9fbe7',\n  lighten4: '#f0f4c3',\n  lighten3: '#e6ee9c',\n  lighten2: '#dce775',\n  lighten1: '#d4e157',\n  darken1: '#c0ca33',\n  darken2: '#afb42b',\n  darken3: '#9e9d24',\n  darken4: '#827717',\n  accent1: '#f4ff81',\n  accent2: '#eeff41',\n  accent3: '#c6ff00',\n  accent4: '#aeea00'\n};\nexport const yellow = {\n  base: '#ffeb3b',\n  lighten5: '#fffde7',\n  lighten4: '#fff9c4',\n  lighten3: '#fff59d',\n  lighten2: '#fff176',\n  lighten1: '#ffee58',\n  darken1: '#fdd835',\n  darken2: '#fbc02d',\n  darken3: '#f9a825',\n  darken4: '#f57f17',\n  accent1: '#ffff8d',\n  accent2: '#ffff00',\n  accent3: '#ffea00',\n  accent4: '#ffd600'\n};\nexport const amber = {\n  base: '#ffc107',\n  lighten5: '#fff8e1',\n  lighten4: '#ffecb3',\n  lighten3: '#ffe082',\n  lighten2: '#ffd54f',\n  lighten1: '#ffca28',\n  darken1: '#ffb300',\n  darken2: '#ffa000',\n  darken3: '#ff8f00',\n  darken4: '#ff6f00',\n  accent1: '#ffe57f',\n  accent2: '#ffd740',\n  accent3: '#ffc400',\n  accent4: '#ffab00'\n};\nexport const orange = {\n  base: '#ff9800',\n  lighten5: '#fff3e0',\n  lighten4: '#ffe0b2',\n  lighten3: '#ffcc80',\n  lighten2: '#ffb74d',\n  lighten1: '#ffa726',\n  darken1: '#fb8c00',\n  darken2: '#f57c00',\n  darken3: '#ef6c00',\n  darken4: '#e65100',\n  accent1: '#ffd180',\n  accent2: '#ffab40',\n  accent3: '#ff9100',\n  accent4: '#ff6d00'\n};\nexport const deepOrange = {\n  base: '#ff5722',\n  lighten5: '#fbe9e7',\n  lighten4: '#ffccbc',\n  lighten3: '#ffab91',\n  lighten2: '#ff8a65',\n  lighten1: '#ff7043',\n  darken1: '#f4511e',\n  darken2: '#e64a19',\n  darken3: '#d84315',\n  darken4: '#bf360c',\n  accent1: '#ff9e80',\n  accent2: '#ff6e40',\n  accent3: '#ff3d00',\n  accent4: '#dd2c00'\n};\nexport const brown = {\n  base: '#795548',\n  lighten5: '#efebe9',\n  lighten4: '#d7ccc8',\n  lighten3: '#bcaaa4',\n  lighten2: '#a1887f',\n  lighten1: '#8d6e63',\n  darken1: '#6d4c41',\n  darken2: '#5d4037',\n  darken3: '#4e342e',\n  darken4: '#3e2723'\n};\nexport const blueGrey = {\n  base: '#607d8b',\n  lighten5: '#eceff1',\n  lighten4: '#cfd8dc',\n  lighten3: '#b0bec5',\n  lighten2: '#90a4ae',\n  lighten1: '#78909c',\n  darken1: '#546e7a',\n  darken2: '#455a64',\n  darken3: '#37474f',\n  darken4: '#263238'\n};\nexport const grey = {\n  base: '#9e9e9e',\n  lighten5: '#fafafa',\n  lighten4: '#f5f5f5',\n  lighten3: '#eeeeee',\n  lighten2: '#e0e0e0',\n  lighten1: '#bdbdbd',\n  darken1: '#757575',\n  darken2: '#616161',\n  darken3: '#424242',\n  darken4: '#212121'\n};\nexport const shades = {\n  black: '#000000',\n  white: '#ffffff',\n  transparent: '#ffffff00'\n};\nexport default {\n  red,\n  pink,\n  purple,\n  deepPurple,\n  indigo,\n  blue,\n  lightBlue,\n  cyan,\n  teal,\n  green,\n  lightGreen,\n  lime,\n  yellow,\n  amber,\n  orange,\n  deepOrange,\n  brown,\n  blueGrey,\n  grey,\n  shades\n};\n//# sourceMappingURL=colors.mjs.map","import { unref, watch } from 'vue'\nimport {useI18n as $useI18n, createI18n as $createI18n} from 'vue-i18n'\nimport type { Composer } from 'vue-i18n'\nimport type { Model } from 'pinia-orm'\n\nimport config from '../config'\nimport {getCookieList} from '../utils'\n\n\n/**\n * Initialize vue-i18n, looking in cookies in order to load the right locale.\n */\nexport function createI18n() {\n    // remove country specific locale as they are not provided by locales\n    // client side\n    const candidates = (getCookieList(\"lang\", \",\") || [\"en\"]).map(\n        x => x.toLowerCase().replace(/[_-](\\w+)/, \"\")\n    )\n    const locale = candidates.find(x => x in config.locales)\n    return $createI18n({\n        legacy: false,\n        fallbackLocale: 'en',\n        locale\n    })\n}\n\n\n/**\n * Main vue-i18n instance used by Oxylus application.\n */\nexport const i18n = createI18n()\n\n\n/**\n * Shortcut to {@link i18n} `t()` function.\n */\nexport function t(...args): string {\n    return i18n.global.t(...args)\n}\n\n\n/**\n * Set locale (load it if required).\n */\nexport function setLocale(i18n: Composer, path: string, locale: string) {\n    if(!(locale in config.locales))\n        throw Error(\"Locale is not provided by config.\")\n\n    i18n.global.locale.value = locale\n    loadLocaleFrom(i18n, path, locale)\n\n    // FIXME: axios.defaults.headers.common['Accept-Language'] support?\n\n    document.querySelector('html').setAttribute('lang', locale)\n}\n\n/**\n * Keeps track of already loaded locales (by path)\n */\nexport const loadedLocalePaths = new Set()\n\n\nexport interface IUseI18n {\n    path?: string,\n    fallback?: boolean,\n}\n\n/**\n * This composable return vue-i18n's `t()` function and watch for\n * locale change in order to dynamically load corresponding message file.\n *\n * @param {String} [options.path] parent path of locales' dir.\n * @param {Boolean} [options.fallback] if true, use fallback locale\n * @param [options.opts] passed down to vue-i18n's ``useI18n``.\n * @return ``t()`` function.\n */\nexport function useI18n({path=\"./\", fallback=true, ...opts}: IUseI18n={}) {\n    const i18n = $useI18n(opts)\n    loadLocale(i18n, {path, fallback})\n    watch(() => i18n.locale, () => loadLocale(i18n, {path, fallback}))\n    return i18n\n}\n\n\n/**\n * Load locale of specific name and add it to composer's messages.\n */\nasync function loadLocaleFrom(i18n: Composer, path: string, locale: string) {\n    const locale2 = locale.replace(/[_-](\\w+)/, '')\n    path = `${path}locales/${locale2}.json`\n    if(loadedLocalePaths.has(path))\n        return\n\n    loadedLocalePaths.add(path)\n\n    const messages = await fetch(path).then(r => r.json())\n    // we don't use setLocaleMessage, because we merge locales\n    // from different apps\n    i18n.messages.value[locale] = {\n        ...i18n.messages.value[locale],\n        ...messages\n    }\n}\n\n\n/**\n * Load locale using provided path and i18n locale composer.\n *\n * @param i18n - vue-i18n locale Composer;\n * @param [options.path] path to parent directory of locale dir;\n * @param [options.fallback] if True, use fallback locale whenever required.\n */\nfunction loadLocale(i18n: Composer, {path=\"./\", fallback=true}={}): Promise<void> {\n    if(!path.startsWith('/'))\n        path = import.meta.resolve(path)\n    if(!path.endsWith('/'))\n        path += '/'\n\n    let promise = loadLocaleFrom(i18n, path, unref(i18n.locale))\n    if(fallback && i18n.fallbackLocale.value)\n        promise = promise.catch((error) => loadLocaleFrom(i18n, path, unref(i18n.fallbackLocale) as string))\n            .catch((error) => {\n                throw Error(\n                    `Could not load locale ${i18n.locale.value} nor its fallback ${i18n.fallbackLocale.value} (path: ${path}). Error: ${error}`\n                )\n            })\n    return promise\n}\n\n\nexport const tKeys = {\n    model: (model: typeof Model) => `models.${model.entity}`,\n    field: (field: string) => `fields.${field}`\n}\n","import { createApp as $createApp, reactive, watch } from 'vue'\nimport { createVuetify as $createVuetify } from 'vuetify'\nimport { md3 } from 'vuetify/blueprints'\nimport colors from 'vuetify/util/colors'\n\nimport { createPinia as $createPinia, setActivePinia } from 'pinia'\nimport { createORM } from 'pinia-orm'\nimport { createPiniaOrmAxios } from '@pinia-orm/axios'\nimport axios from 'axios'\n\nimport '../styles/index.scss'\nimport * as vendorComponents from 'ox/vendor'\nimport config from '../config'\nimport {i18n} from './i18n'\n\nimport type {IObject} from '../utils'\n\n\n/**\n * {@link createVuetify} parameters. Theses are passed down to Vuetify's\n * plugin initialization.\n */\nexport interface ICreateVuetifyOpts extends IObject {\n    components?: IObject[]\n}\n\n\n/**\n * Options passed to {@link createApp}.\n */\nexport interface ICreateAppOpts {\n    /**\n     * Vue's `createApp` `props` arguments\n     */\n    props?: IObject\n    /**\n     *  Vuetify plugin's parameters (passed to {@link createVuetify})\n     */\n    vuetify?: ICreateVuetifyOpts\n    /**\n     * Plugins to add to Vue application.\n     */\n    plugins?: IObject[]\n}\n\nexport interface IInitOpts extends ICreateAppOpts {\n    /** Vue's App config. */\n    App?: IObject\n    /** Element selector to mount application on. */\n    el?: string\n    /**\n     * If True (default), defer application creation after page has been\n     * loaded (on `window.load` event)\n     */\n    onLoad?: boolean\n}\n\n\n/**\n * Main entry point to initialize and mount an application.\n *\n * The base `App` config is provided by `ox/components` modules.\n */\nexport function init({App=null, el='#app', onLoad=true, ...options}: IInitOpts={}) {\n    function initApp() {\n        const app = createApp(App, options)\n        const vm = el ? app.mount(el) : null\n        document.body.classList.remove('loading')\n        return {app, el, vm}\n    }\n\n    return new Promise((resolve) => {\n        if(onLoad)\n            return window.addEventListener(\n                'load', () => resolve(initApp())\n            )\n        resolve(initApp())\n    })\n}\n\n\n/**\n * Create Oxerp application (including Vuetify).\n * It also provide app's global property `window` in order to allow components\n * access to this object.\n */\nexport function createApp(app: IObject, {props={}, vuetify={}, plugins=null}: ICreateAppOpts={}) {\n    app = $createApp(app, props)\n    app.config.globalProperties.window = window\n\n    app.use(createVuetify(vuetify))\n    app.use(i18n)\n    plugins && plugins.forEach(plugin => app.use(plugin))\n    return app\n}\n\n\n\n/**\n * Create and return vuetify plugin with default components set.\n * This is called by `createApp`.\n */\nexport function createVuetify({components={}, ...opts}: ICreateVuetifyOpts) {\n    opts.components = {\n        ...vendorComponents,\n        ...components\n    }\n    return $createVuetify({\n        blueprint: md3,\n        theme: {\n            themes: {\n                light: {\n                    dark: false,\n                    colors: {\n                        primary: colors.green.darken1,\n                        secondary: colors.green.lighten4\n                    }\n                }\n            }\n        },\n        ...opts\n    })\n}\n\n\n\n/**\n * Create Pinia and PiniaOrm plugins instances.\n * If no `baseURL` is provided, get it from `document.body.dataset.apiUrl`.\n */\nexport function createPinia({axiosConfig=null, baseURL=null}: IObject={}) {\n    if(!baseURL)\n        baseURL = document.body.dataset.apiUrl\n\n    const pinia = $createPinia()\n    const piniaOrm = createORM({})\n    // temp workaround: createORM does not keep provided plugins\n    // using {plugins: ...} later\n    piniaOrm().use(\n        createPiniaOrmAxios({\n            axios,\n            ...(axiosConfig || config.axiosConfig),\n            baseURL,\n        })\n    )\n    setActivePinia(pinia)\n    return pinia.use(piniaOrm)\n}\n","import {Repository, Relation} from 'pinia-orm'\nimport type {Model} from 'pinia-orm'\nimport type {Response} from '@pinia-orm/axios'\n\nimport {collectAttr} from '../utils'\nimport type {IObject} from '../utils'\nimport {asRelation, getSourceKey} from '../models'\nimport type {Repos} from '../models'\n\n\n/** Interface of {@link Query} class. */\nexport interface IQuery<M extends Model> {\n    /** Model repository used to store results. */\n    repo: Repository<M>\n    /**\n     * Repositories used to store relations.\n     *\n     * This argument may be ignored if there is no need to fetch\n     * relations.\n     */\n    repos: Repos\n}\n\n/** {@link Query.fetch} parameters. */\nexport interface IQueryFetch<M extends Model> extends Partial<object> {\n    /** Fetch from this url. */\n    url?: string\n    /** Fetch items with this id. */\n    ids?: number[] | Set<number>\n    /** Model repository (instead of `Query.repo`'s one). */\n    repo?: Repository<M>\n    /** Lookup field for ids (default: `id__in`). */\n    lookup?: string\n    /** Extra GET parameters. */\n    params?: IObject\n    /** Fetch items from thoses relations. */\n    relations?: string[]\n}\n\n/**\n * {@link Query.all} parameters.\n */\nexport interface IQueryAll<M extends Model> extends IQueryFetch<M> {\n    /**\n     * Key of object returned by server that provide url to next items.\n     */\n    nextKey?: string\n    /**\n     * Provide a limit to the number of request to do consecutivelly.\n     * If `-1`, no limit (**use with caution!**).\n     */\n    limit?: number\n}\n\n\n/**\n * This class allows to fetch objects from api, and their relations.\n *\n * It is a utility class built around ``pinia-orm/axios``, using\n * repositories' ``api().get`` method.\n *\n * It allows:\n *\n * - to fetch a model list or all values (using `next` key);\n * - to fetch relations of objects based on fields names;\n *\n * When fetching relations, please ensure that {@link Query.repos} is provided.\n *\n * @example\n * const query = new Query(repos.users, repos)\n *\n * // this fetch User model objects from API, then the related groups.\n * const result = await query.fetch({url: '/users', relations: ['groups']})\n */\nexport default class Query<M extends Model> {\n    /**\n    * @param {Repos} [repos] all models repositories\n    * @param {Repository<M>} [repo] the main repository\n    */\n    constructor(repo: string|Repository<M>, repos: Repos|null=null) {\n        if(typeof(repo) == \"string\") {\n            if(!repos)\n                throw Error(`Repository \"${repo}\" is provided as string, but no \"repos\" argument is provided.`)\n            if(!(repo in repos))\n                throw Error(`Repository \"${repo}\" is not present in provided repositories.`)\n            this.repo = repos[repo]\n        }\n        else\n            this.repo = repo\n        this.repos = repos\n    }\n\n    /**\n     * Fetch items from api.\n     *\n     * @param [options.ids] select by ids\n     * @param {Repository} [options.repo] use this repository instead of \\\n     * ``Query.repo``.\n     * @param [options.url] use this url instead of repository's one.\n     * @param [options.lookup] query GET parameters used to get ids.\n     * @param [options.params] extra GET parameters\n     * @param [options.opts] options passed down to ``repo.api.get``\n     */\n    async fetch({url, ids=null, repo=null, lookup=\"id__in\", params=undefined, relations=null, ...opts}: IQueryFetch<M> = {}) : Promise<Response> {\n        repo ??= this.repo\n        if(ids && lookup !== undefined) {\n            params = {...(params || {})}\n            params[lookup] = [...ids]\n        }\n        const response = await repo.api().get(url, {...opts, params})\n\n        if(relations)\n            response.relations = await this.relations(response.entities, relations, {...opts, params: {}})\n        return response\n    }\n\n    /**\n     * Fetch all items from api.\n     *\n     * @param [options.nextKey] response object key to get next url\n     * @param [options.limit] max count of consecutive requests\n     * @return Response of the first request, whoses ``entities`` has \\\n     * model instances of all requests.\n     */\n    async all({nextKey='next', limit=-1, ...opts} : IQueryAll<M> ={}) : Promise<Response> {\n        const result = await this.fetch(opts)\n\n        let url = result.response.data[nextKey]\n        while(url) {\n            const result2 = await this.fetch({...opts, url})\n            if(result2.entities)\n                result.entities = result.entities !== null ? result.entities.concat(result2.entities) : result2.entities\n            url = result2.response.data[nextKey]\n            if(limit>0) limit--\n            if(!limit) break\n        }\n        return result\n    }\n\n    /**\n     * Fetch related objects for the provided list and field names.\n     *\n     * @param objs - the objects to get related ids from.\n     * @param options.fields - list of field names.\n     * @param options.opts - options to pass down to {@link Quey.relation}.\n     * @return the resulting entities.\n     */\n    async relations(objs: M[], fields: string[], opts = {}) : Promise<{[s: string]: Response}>\n    {\n        this._ensureRepos(\"relations\")\n        const entities: {[s: string]: Response} = {}\n        const relations = this.repo.use?.fields()\n        if(relations)\n            for(const field of fields) {\n                const relation = relations[field]\n                if(relation instanceof Relation)\n                    entities[field] = await this.relation(objs, relation, opts)\n                else\n                    throw Error(`Field ${field} is not a relation`)\n            }\n        return entities\n    }\n\n    protected _ensureRepos(funcName: string) {\n        if(!this.repos)\n            throw Error(`Query.repos is not provided although it is mandatory to call ${funcName}.`)\n    }\n\n    /**\n     * Fetch related objects for the provided object list and field name.\n     * It uses {@link Query.all} in order to fetch all items.\n     *\n     * @param objs - the objects to get ids from.\n     * @param relation - objects' field or field name.\n     * @param options - options to pass down to `all()`.\n     */\n    async relation(objs: Array<M>, relation: string | Relation, options: IQueryAll<M> ={}) : Promise<Response> {\n        this._ensureRepos(\"relations\")\n\n        const rel = asRelation(this.repo, relation)\n        if(!rel)\n            throw Error(`No Relation found for field ${relation}.`)\n\n        const key = (<typeof Model>rel.related.constructor).entity\n        const repo2 = this.repos[key]\n        if(!repo2)\n            throw Error(`No repository \"${key}\" found.`)\n\n        const fk = getSourceKey(rel)\n        if(!fk)\n            throw Error(`No source ids attributes for ${relation}.`)\n        const ids = collectAttr(objs, fk)\n        const query = new Query(repo2, this.repos)\n        return query.all({...options, ids, repo: repo2})\n    }\n\n}\n\nexport default interface Query<M extends Model> extends IQuery<M> {}\n\n\nexport function query<M extends Model>(repo: string|Repository<M>, repos: Repos|null): Query<M> {\n    return new Query(repo, repos)\n}\n","import { computed, isRef, ref, reactive, toRaw, watch, unref } from 'vue'\nimport type { ComputedRef, Reactive } from 'vue'\nimport type { Field } from 'pinia-orm'\nimport type { Repository } from '@pinia-orm/axios'\n\nimport { reset, State, RObject } from '../utils'\nimport type { IObject } from '../utils'\nimport type { Model } from '../models'\n\n\n/**\n * Editor class interface.\n */\nexport interface IEditor<T> {\n    [index: string]: any\n\n    /**\n     * @property initial - initial value provided to the editor\n     */\n    initial: T\n    /**\n     * @property value - current edited value\n     */\n    value: T\n    /**\n     * @property name - editor name\n     */\n    name?: string\n    /**\n     * @property url - url to send value to\n     */\n    url?: string\n    /**\n    * @property state - current editor state. Set to `State.PROCESSING` when\n    * saving instance.\n    */\n    state: State,\n\n    /**\n     * @property saved - callback to run after object has been saved\n     */\n    saved?: (item: T, editor: IEditor<T>) => void\n}\n\n\n/**\n * Reactive Editor class interface.\n */\nexport interface IREditor<T> extends Reactive<Editor<T>> {\n    /**\n     * Value has been edited.\n     */\n    edited: ComputedRef<boolean>\n    /**\n     * Input data are valid.\n     */\n    valid: ComputedRef<boolean>\n}\n\n/**\n * An Editor handles data edition without changing original value.\n * It provides utilities in order to:\n * - detect if changes have been made;\n * - reset edited values to initial state;\n * - save data to server;\n *\n * Default implementation handles raw Object edition, but not saving data to the server.\n * Note: this might lead to errors due to reactivity when returned from composable.\n */\nexport default class Editor<T extends IObject> extends RObject<IEditor<T>> {\n    state = State.none()\n    value: T = {} as T\n\n    static reactive<T extends IObject>({initial, ...opts}: IEditor<T>) : IREditor<T> {\n        console.log('reactive editor', initial)\n        const obj = super.reactive({initial: unref(initial), ...opts})\n        //if(isRef(initial))\n        //    obj.watch(initial, (v: T) => obj.reset(v))\n        return obj\n    }\n\n    constructor(attrs: IEditor<T>, _attrs: IObject={})\n    {\n        super(attrs)\n        if(!this.state)\n            this.state = new State()\n\n        this.value = {} as T\n        this.reset(this.initial)\n    }\n\n    get errors() : any {\n        return this.state.isError && this.state.data || null\n    }\n\n    /**\n    * Reset editor editor data to initial.\n    * When value is provided, reset initial to this value.\n    */\n    reset(initial: T|null = null): void {\n        if(initial === null)\n            initial = this.initial\n        else\n            this.initial = initial\n        this._reset(initial)\n        this.state.none()\n    }\n\n    _reset(value: T) {\n        reset(this.value, value)\n    }\n\n    isValid(): boolean {\n        return this._isValid()\n    }\n\n    _isValid(): boolean { return true }\n\n\n    get edited(): boolean {\n        return Object.keys(this.value).some(k => this.value[k] != this.initial[k])\n    }\n\n    /**\n     * Save data. It will `serialize()` value then `send()` it.\n     *\n     * Note: default implementation does not provide `send()` method\n     * and thus will raise an error.\n     *\n     * @param [value] if provided use this instead of `this.value`.\n     * @return state.\n     */\n    async save(value: T|null = null): Promise<State> {\n        this.state.processing()\n\n        if(!this.isValid())\n            return this.state.error({\n                \"_\": \"Some of the input values are invalid\"\n            })\n        value = this.serialize(value ?? this.value)\n\n        const state = await this.send(value)\n        if(state.isOk) {\n            this.reset(state.data as T)\n            this.saved?.(this.value, this)\n        }\n        else\n            this.state = state\n        return this.state\n    }\n\n    /** Serialize value before sending. */\n    serialize<R>(value: T): any { return value }\n\n    /** Send value (not implemented, MUST BE in subclasses). */\n    send<D>(_: D): Promise<State> {\n        throw \"not implemented\"\n    }\n}\nexport interface Editor<T> extends IEditor<T> {}\n\n\n/**\n * ModelEditor interface.\n */\ninterface IModelEditor<T extends Model> extends IEditor<T> {\n    repo: Repository\n    initial: T & {[k: string]: any}\n    value: T & {[k:string]: any}\n}\n\n\n/**\n * Editor sub-class used to edit model instances.\n */\nexport class ModelEditor<T extends Model> extends Editor<T> {\n\n    constructor({repo, url, ...opts} : IModelEditor<T>) {\n        url = url || repo.use?.meta?.url\n        super({url, repo, ...opts})\n        window.repo = repo\n    }\n\n    get fields() : {[k: string]: Field} {\n        // we need to use a getter since we can't initialize this.fields\n        // before calling super.constructor (which imply this.reset)\n        if(!this._fields)\n            this._fields = this.repo && Object.keys((this.repo.use as typeof Model).fields()) || []\n        return this._fields\n    }\n\n    _reset(val: T): void {\n        this.value = reactive(new this.initial.constructor())\n        this.fields.reduce((dst, k) => { dst[k] = val[k]; return dst}, this.value)\n    }\n\n    get edited(): boolean {\n        return this.fields.some((k:string) => this.value[k] != this.initial[k])\n    }\n\n    serialize(value: T): {[k: string]: any} {\n        return value.$toJson(null, {relations: false})\n    }\n\n    send<D>(value: D) : Promise<State> {\n        let [func, url] = [\"post\", this.url]\n        if(value.id) {\n            url = `${url}${value.id}/`\n            func = \"put\"\n        }\n        return this.repo.api()[func](url, value).then(\n            (result: Response) => State.ok(result.entities[0]),\n            (error: Response) => State.error(error.response.data)\n        )\n    }\n}\n\n\n// /**\n//  * Editor subclass used to edit ordered arrays.\n//  */\n// export class ArrayEditor extends Editor {\n//     _reset(val) { this.value = this.bind ? val : [...val] }\n//     isEdited() { this.value != this.initial }\n// }\n//\n//\n// /**\n//  * Editor subclass used to edit unordered arrays.\n//  */\n// export class CollectionEditor extends ArrayEditor {\n//     isEdited() {\n//         return this.value.length != this.initial.length ||\n//             this.value.some(v => this.initial.indexOf(v) == -1)\n//     }\n// }\n","import type {Repository, Query as $Query} from 'pinia-orm'\nimport type {Response} from '@pinia-orm/axios'\n\nimport {RObject, State} from '../utils'\nimport type {Model} from '../models'\nimport type {IObject} from '../utils'\n\nimport Query from './query'\nimport type {IQueryFetch} from './query'\n\n\nexport type FilterValue = number | string\nexport type Filters = IObject<FilterValue>\n\n\nexport interface IModelController<M extends Model> {\n    /** Response's key used to return data */\n    dataKey: string\n    /** {@link Query} used to fetch list items. */\n    query: Query<M>\n    /** Query's GET parameters used to filter the list. */\n    filters?: Filters\n    /** Related fields to fetch when items are queried.  */\n    relations?: string[]\n    /** Use this URL instead of model's defined one. */\n    url?: string\n}\n\nexport interface IModelFetch<M extends Model> extends IQueryFetch<M> {\n    /** Provide extra GET parameters. */\n    filters?: Filters\n    /** Response's key used to return data */\n    dataKey: string\n}\n\n\n/**\n * Base controller class that handles model fetching from the server in conjunction\n * with ORM framework.\n *\n * This provides:\n * - load items from the server and manage state accordingly (using {@link Query});\n * - fetch filters;\n * - items are retrieved from ORM store with specified relations;\n *\n * It does not:\n * - fetch items' related objects.\n *\n * This is used for {@link ModelDetail} and {@link ModelList}.\n */\nexport default class ModelController<M extends Model, O=IModelController<M>> extends RObject<O> {\n    state = State.none()\n    filters?: Filters = null\n\n    /** The repository of contained items. */\n    get repo(): Repository<M> { return this.query.repo }\n\n    /** The model of contained items. */\n    get model(): typeof Model  { return this.repo.use }\n\n    /** Return orm's query to object. This will includes declared {@link List.relations}.\n     *\n     *   @param ids - optional id lookup\n     *   @param first - if true, return the first item\n     *   @return orm's query\n     */\n    queryset(ids: number|number[]|null=null, first=false) : $Query<M> {\n        let query = this.repo.query()\n        if(this.relations)\n            for(const relation of this.relations)\n                query = query.with(relation)\n\n        return ids ? query.whereId(ids) : query\n    }\n\n    /**\n     * Fetch model instance from the server and select them.\n     *\n     * Calling this method updates state to:\n     * - `PROCESSING`: request is being made;\n     * - `NONE`: request has been done without error;\n     * - `ERROR`: if an error happened;\n     *\n     * Flowchart:\n     * - {@link ModelController.fetch}\n     * - {@link ModelController.handleResponse}\n     */\n    async load(options: IModelFetch<M>): Promise<Response|null> {\n        this.state.processing()\n        let response = null\n        try {\n            response = await this.fetch(options)\n            response = await this.handleResponse(options, response)\n        }\n        catch(error) {\n            this.state.error(error)\n        }\n        if(!this.state.isError)\n            this.state.none()\n        return response\n    }\n\n    /** Fetch model instance from the server.\n     *\n     * Flowchart:\n     * - {@link ModelController.getQueryParams}\n     * - {@link Query.fetch}\n     */\n    async fetch(options: IModelFetch<M>) : Promise<Response> {\n        const opts = this.getQueryOptions(options)\n        return await this.query.fetch(opts)\n    }\n\n    /** Handle response from the {@link ModelContainer.fetch}'s request. */\n    async handleResponse(options: IModelFetch<M>, response: Response): Promise<Response> {\n        // TODO: handle status code\n        return response\n    }\n\n    /** Get {@link Query.fetch} options. */\n    protected getQueryOptions({filters=null, ...options}: IModelFetch<M>): IQueryFetch<M> {\n        if(!options.relations && this.relations)\n            options.relations = this.relations\n        if(!options.dataKey && this.dataKey)\n            options.dataKey = this.dataKey\n        if(!options.url && this.url)\n            options.url = this.url || this.model.meta?.url\n\n        if(filters)\n            Object.assign(this.filters, filters)\n\n        if(this.filters)\n            options.params = {...this.filters, ...(options.params ?? [])}\n        return options\n    }\n}\nexport default interface ModelController<M extends Model, O> extends IModelController<M> {\n    /** Current request's state. */\n    state: State\n}\n","import type {Response} from '@pinia-orm/axios'\n\nimport type {Model} from '../models'\nimport {collectAttr} from '../utils'\n\nimport Query from './query'\nimport ModelController from './modelController'\nimport type {IModelController, IModelFetch} from './modelController'\n\n\n/** Base interface of a ModelList */\nexport interface IModelList<M extends Model> extends ModelController<M> {\n    /** Response's key used to return URL to previous paginated items. */\n    prevKey: string\n    /** Response's key used to return URL to next paginated items.  */\n    nextKey: string\n    /** Response's key used to return total items count. */\n    countKey: string\n}\n\n/** Reactive ModelList interface options */\nexport interface IRModelListOpts<M extends Model> extends IModelList<M> {\n    value?: any\n}\n\n/**\n * Arguments of {@link ModelList.fetch}. It is passed down to {@link Query.fetch}.\n */\nexport interface IModelListFetch<M extends Model> extends IModelFetch<M> {\n    /**\n     * Append items to list. If `false` (default), fetch results will replace\n     * current list items.\n     */\n    append?: boolean\n}\n\n\n\n/**\n * Handle a list of model instances fetched using Rest Api. It is\n * used in model's panels.\n *\n * It uses {@link Query} object in order to fetch items and relations.\n *\n *\n * @example\n * const value = ref(null)\n * const list = new ModelList.reactive({\n *     query: new Query(repos.users, repos),\n *     relations: ['groups'],\n *     value,\n * })\n *\n * await list.load({url: '/users'})\n */\nexport default class ModelList<M extends Model> extends ModelController<M, IModelList<M>> {\n    items: M[] = []\n    nextUrl: string|null = null\n    prevUrl: string|null = null\n    count: number|null = null\n\n    dataKey = \"results\"\n    nextKey = \"next\"\n    prevKey = \"previous\"\n    countKey = \"count\"\n\n    /** Get items count. */\n    get length(): number { return this.items.length }\n\n    get(index: number): M { return index < this.items.length ? this.items[index] : null }\n\n    /** Get item by id */\n    find(id: number): M { return this.items.find(i => i.id == id) }\n\n    /** Get item index by id */\n    findIndex(id: number): number { return this.items.findIndex(i => i.id == id) }\n\n    /**\n     * Get item next to provided one at the specified direction.\n     *\n     * @param item - reference item\n     * @param step - increment or decrement item index by this value.\n     * @return the target item or null if not found.\n     */\n    getSibling(item: M, step: number): M|null {\n        const index = this.findIndex(item.id)\n        const sibling = index > 0 ? index+step : -1\n        return sibling > 0 ? this.get(sibling) : null\n    }\n\n    /**\n     * Fetch next items from API, override `url` using {@link ModelList.nextUrl}.\n     */\n    async loadNext(options: IModelListFetch<M>): Promise<Response> {\n        return await this.load({...options, url: this.nextUrl})\n    }\n\n    /**\n     * Fetch previous items from API, override `url` using {@link ModelList.prevUrl}.\n     */\n    async loadPrev(options: IModelListFetch<M>): Promise<Response> {\n        return await this.load({...options, url: this.prevUrl})\n    }\n\n    /** Fetch items from API (using self's {@link Query.fetch}). */\n    async handleResponse({append=false, ...options}: IModelListFetch<M>, response: Response): Promise<Response> {\n        response = await super.handleResponse(options, response)\n        if(!this.state.isError) {\n            const ids = [...collectAttr(response.entities, 'id')]\n            const items = this.queryset(ids).get()\n            this.items = append ? this.items.concat(items) : items\n            this.nextUrl = response.response.data[this.nextKey] || null\n            this.prevUrl = response.response.data[this.prevKey] || null\n            this.count = response.response.data[this.countKey] || this.items.length\n        }\n        return response\n    }\n}\n\nexport default interface ModelList<M extends Model> extends IModelList<M> {\n    items: M[]\n    nextUrl: string|null\n    prevUrl: string|null\n    count: number|null\n}\n\nexport type ModelListOpts<M extends Model> = IRModelListOpts<M> & {\n    query?: Query<M>,\n    value?: any\n}\n","import {computed, watch} from 'vue'\nimport type {WatchHandle, Reactive} from 'vue'\n\nimport {t} from '../composables'\nimport {RObject, State} from '../utils'\nimport type Panels from './panels'\n\n\nexport interface IPanelInfo {\n    /** Panel's name */\n    name: string\n    /** The view title displayed to user. */\n    title?: string\n    /** The view's icon displayed to user. */\n    icon?: string\n}\n\n\n/** Properties of OxPanel **/\nexport interface IPanelProps extends IPanelInfo {\n    /** Index view name **/\n    index?: string\n    /** Optional state (used with `ox-state-alert`). */\n    state?: State\n    /** Url to related help page */\n    help?: string\n}\n\n/** Component properties used by OxPanelNav */\nexport type IPanelNavProps = IPanelInfo & {\n    /** Panels page **/\n    href?: string\n    /** Only display the navigation item when panel is active. */\n    auto?: boolean\n}\n\nexport interface IPanel<P> extends IPanelInfo {\n    /** Panel component properties. */\n    props: P\n    /**\n    * {@link Panels} used to specify current view and value.\n    *\n    * This element may be shared among multiple panels.\n    */\n    panels: Panels\n    /**\n     * Current unsaved changes. This can be updated by component in order\n     * to prevent data loss when changing panels.\n     */\n    editions: Set<string>\n}\n\nexport interface IRPanel<P extends IPanelProps=IPanelProps, O=IPanel<P>> extends Reactive<Panel<P, O>> {\n    watcher: WatchHandle\n}\n\n\n/**\n * This is the base class used by panels.\n */\nexport default class Panel<P extends IPanelProps=IPanelProps, O=IPanel<P>> extends RObject<IPanel<P>> {\n    /**\n     * Translation key for message displayed on `confirm()` to leave unsaved\n     * changes.\n     */\n    confirmTKey = \"panel.confirm\"\n\n    /** Panel name (based on props) **/\n    get name(): string { return this.props?.name || '' }\n\n    /** Current view. */\n    get view(): string|null { return this.panels.panel == this.name ? this.panels.view : null }\n\n    /** Current value */\n    get value(): any { return this.panels.panel == this.name ? this.panels.value : null }\n\n    /** Wether there are still edited items on current view. */\n    get edited(): boolean { return !!this.editions?.size }\n\n    /**\n     * Return reactive version of panel.\n     *\n     * Add watcher over panels's panel ({@link Panel.onChange})\n     */\n    static reactive<P extends IPanelProps=IPanelProps, O=IPanel<P>>(options: IPanel<P>): IRPanel<P,O> {\n        const obj = super.reactive(options) as IRPanel<P,O>\n        obj.watcher = watch(() => obj.panels.panel, (val) => obj.onChange(val))\n        return obj\n    }\n\n    /** Return adequate icon based on props and model **/\n    get icon(): string { return this.props?.icon || null }\n\n    /** Return panel's title based on props. */\n    get title(): string { return this.props?.title }\n\n    /** Set or remove an edition by name. */\n    setEdition(name: string, edited: boolean) {\n        if(edited) this.editions.add(name)\n        else this.editions.delete(name)\n    }\n\n    /**\n     * Called when view or panel changes. It returns `true` if view/panel can be changed.\n     *\n     * Ask user for confirmation if there is unsaved changes (aka editions).\n     *\n     * @return true if we can proceed to view/panel change.\n     */\n    onLeave() {\n        if(!this.edited)\n            return true\n\n        const msg = t(this.confirmTKey)\n        return confirm(msg)\n    }\n\n    /** Handle panels' panel change. */\n    onChange(panel: string) {\n        if(panel == this.name) {\n            if(this.panels.current != this)\n                this.panels.current = this\n            if(!this.panels.view)\n                this.panels.view = this.props?.index\n        }\n    }\n}\nexport default interface Panel<P extends IPanelProps=IPanelProps, O=IPanel<P>> extends IPanel<P> {}\n","import {computed, reactive, toRefs} from 'vue'\nimport type {Reactive} from 'vue'\nimport type {Repository} from 'pinia-orm'\n\nimport {Model} from '../models'\nimport {mapToObject} from '../utils'\nimport {t, tKeys} from '../composables/i18n'\n\nimport type List from './list'\nimport type Query from './query'\nimport type {Repos} from '../models'\n\nimport type {IPanel, IPanelProps} from './panel'\nimport type Panels from './panels'\n\nimport Panel from './panel'\n\n\n/** Model panel component properties. */\nexport interface IModelPanelProps<M extends Model> extends IPanelProps {\n    repo: Repository<M>\n    search: string\n    view: string\n    headers?: string[]\n    showFilters?: boolean\n}\n\n/** Model panel interface. */\nexport interface IModelPanel<M extends Model,P extends IModelPanelProps<M>=IModelPanelProps<M>> extends IPanel<P> {\n    list: List<M>\n}\n\n/** Reactive model panel interface. */\nexport interface IRModelPanel extends Reactive<IModelPanel> {}\n\n\n/** This class handles model panel (used by {@link OxModelPanel}. */\nexport default class ModelPanel<M extends Model,P extends IModelPanelProps<M>=IModelPanelProps<M>,O=IModelPanel<M>> extends Panel<P,O> {\n    showFilters: boolean = false\n\n    constructor(options: IModelPanel<M>) {\n        super(options)\n        this.showFilters = this.props?.showFilters || false\n    }\n\n    /** Current model's repository. */\n    get repo() { return this.props.repo }\n\n    /** Current model. */\n    get model() { return this.repo.use }\n\n    /** Query (shortcut to `this.list.query`). **/\n    get query() { return this.list.query }\n\n    /** Return icon based on props and model **/\n    get icon(): string { return super.icon || this.model.meta?.icon }\n\n    /** Return panel's title based on view and current item. */\n    get title(): string {\n        const {props, list, panels} = this\n        const model = this.repo.use\n        if(model) {\n            // many items\n            if(this.view?.startsWith('list.'))\n                return t(tKeys.model(model), 3)\n\n            if(this.view?.startsWith('detail.') && panels.value) {\n                if(panels.value.$title)\n                    return panels.value.$title\n\n                const name = t(tKeys.model(model))\n                return panels.value.id\n                    ? t(`models._.title`, {model: name, id: panels.value.id})\n                    : t(`models._.title.new`, {model: name})\n            }\n        }\n        return super.title\n    }\n\n    /**\n     * Edit a new item.\n     *\n     * @param view - edit view.\n     */\n    create(view: string='.detail.add') {\n        this.panels.show({panel: this.name, view, value: new this.model()})\n    }\n\n    /** Called when an item has been created. By default, show edit view. */\n    created(value: M, view: string=\".detail.edit\") {\n        this.list.load()\n        this.panels.show({panel: this.name, view, value, force: true})\n    }\n}\n\n\nexport default interface ModelPanel<M extends Model,P extends IModelPanelProps<M>=IModelPanelProps<M>,O=IModelPanel<M>> extends IModelPanel<M,P> {\n    showFilters: boolean\n}\n","import {provide} from 'vue'\nimport {RObject} from '../utils'\nimport type Panel from './panel'\n\n\nexport interface IPanels {\n    /** Current panel's name. **/\n    panel: string\n    /** Current panel's view **/\n    view?: string\n    /** Current value **/\n    value?: any\n}\n\n\nexport interface IPanelShow extends IPanels {\n    force?: boolean\n    href?: string\n}\n\n/**\n * This class is used to panels a panel, providing extra information such\n * as value and view. It is shared among panels.\n *\n * Use it as this provides utilities to avoid data loss and allow current\n * panel to have control over leaving it.\n */\nexport default class Panels extends RObject<IPanels> {\n    panel: string = \"\"\n    view: string = \"\"\n    value?: any = null\n    current?: Panel = null\n\n    static readPath(path: string) : IPanels {\n        if(!path)\n            return {panel: \"\", view: \"\"}\n\n        const idx = path.indexOf('.')\n        if(idx < 0)\n            return {panel: path, view: ''}\n        return {panel: path.substring(0, idx), view: path.substring(idx+1)}\n    }\n\n    show({force=false, href=null, ...panels}: IPanelShow) {\n        const proceed = force || !this.current || this.current.onLeave()\n        if(!proceed)\n            return\n\n        if(href && window.location.pathname != href) {\n            if(!panels.panel)\n                throw Error(\"The attribute `href` requires`panel`.\")\n\n            window.location.href = `${href}?panel=${panels.panel}&view=${panels.view}`\n            return\n        }\n\n        this.reset(panels)\n    }\n\n    reset({panel, view=null, value=null}: IPanels) {\n        this.panel = panel || this.panel\n        this.view = view || \"\"\n        this.value = value\n    }\n}\nexport default interface Panels extends IPanels {\n    /** Current panel (set by panels) **/\n    current?: Panel\n}\n","import {computed, provide, reactive, unref} from 'vue'\nimport {Repository} from 'pinia-orm'\nimport type {ComputedRef, Reactive, Ref} from 'vue'\n\nimport {Model} from '../models'\nimport type {Repos} from '../models'\nimport {collectAttr, assignNonEmpty, State, RObject} from '../utils'\nimport type {IObject} from '../utils'\n\nimport Query from './query'\nimport type {IQueryFetch} from './query'\n\nexport type FilterValue = number | string\nexport type Filters = IObject<FilterValue>\n\n\n/** Base interface of a List */\nexport interface IList<M extends Model> {\n    /** Response's key used to return data */\n    dataKey: string\n    /** Response's key used to return URL to previous paginated items. */\n    prevKey: string\n    /** Response's key used to return URL to next paginated items.  */\n    nextKey: string\n    /** Response's key used to return total items count. */\n    countKey: string\n}\n\n/** Reactive List interface options */\nexport interface IRListOpts<M extends Model> extends IList<M> {\n    value?: any\n}\n\n/** Interface of reactive List */\nexport interface IRList<M extends Model> extends Reactive<List<M>> {\n    value?: Ref<M>|M\n    items: ComputedRef<M[]>\n    prev: ComputedRef<M|null>\n    next: ComputedRef<M|null>\n}\n\n\n/**\n * Arguments of {@link List.fetch}. It is passed down to {@link Query.fetch}.\n */\nexport interface IListFetch<M extends Model> extends IQueryFetch<M> {\n    /**\n     * Append items to list. If `false` (default), fetch results will replace\n     * current list items.\n     */\n    append?: boolean\n}\n\n\n\n/**\n * Handle a list of model instances fetched using Rest Api. It is\n * used in model's panels.\n *\n * It uses {@link Query} object in order to fetch items and relations.\n *\n *\n * @example\n * const value = ref(null)\n * const list = new List.reactive({\n *     query: new Query(repos.users, repos),\n *     relations: ['groups'],\n *     value,\n * })\n *\n * await list.fetch({url: '/users'})\n */\nexport default class List<M extends Model> extends RObject<IList<M>> {\n    nextUrl: string|null = null\n    prevUrl: string|null = null\n    count: number|null = null\n    ids: number[] = []\n\n    dataKey = \"results\"\n    nextKey = \"next\"\n    prevKey = \"previous\"\n    countKey = \"count\"\n\n    /** Get items count. */\n    get length() { return this.ids.length }\n\n    /**\n     * Return list items (fetched from repository)\n     * @return an array of items.\n     */\n    get items() : Array<M> {\n        return this.queryset(this.ids).get()\n    }\n\n    indexOf(id: number) { return this.ids.indexOf(id) }\n\n    /** Fetch items from API (using self's {@link Query.fetch}). */\n    async handleResponse({append=false, ...opts}: IListFetch<M>, response: Response): Promise<Response> {\n        response = await super.handleResponse(opts, response)\n        if(this.state.isError)\n            return response\n\n        const ids = [...collectAttr(result.entities, 'id')]\n        this.ids = append ? this.ids.concat(ids) : ids\n\n        this.nextUrl = result.response.data[this.nextKey] || null\n        this.prevUrl = result.response.data[this.prevKey] || null\n        this.count = result.response.data[this.countKey] || this.ids.length\n\n        this.state.none()\n        return result\n    }\n\n    /**\n     * Fetch next items from API, override `url` using {@link List.nextUrl}.\n     */\n    async fetchNext(opts: IListFetch<M>) {\n        return await this.fetch({...opts, url: this.nextUrl})\n    }\n\n    /**\n     * Fetch previous items from API, override `url` using {@link List.prevUrl}.\n     */\n    async fetchPrev(opts: IListFetch<M>) {\n        return await this.fetch({...opts, url: this.prevUrl})\n    }\n}\n\nexport default interface List<M extends Model> extends IList<M> {\n    state: State\n    nextUrl: string|null\n    prevUrl: string|null\n    count: number|null\n    ids: number[]\n}\n\nexport type ListOpts<M extends Model> = IRListOpts<M> & {\n    query?: Query<M>,\n    value?: any\n}\n\n\nexport class Detail<M extends Model> extends RObject {\n    query : Query<M>\n    id : number|null = null\n    relations: string[] = []\n\n    select(id, fetch: boolean|null=null) {\n        if(index !== null && id !== null)\n            throw Error(\"Only one of `index` and `id` must be provided.\")\n\n        if(id)\n            index = this.ids.indexOf(id)\n\n        if(isRef(this.index))\n            this.index.value = index\n        else\n            this.index = index\n    }\n\n    async fetch(options: IListFetch<M> ={}) {\n        const result = await super.fetch(options)\n        if(!options.append)\n            this.select({index: -1})\n        return result\n    }\n}\n","import {inject, provide, toRefs} from 'vue'\n\nimport {injectOrProvide} from '../utils'\nimport type {Repository} from 'pinia-orm'\nimport type {Repos} from '../models'\n\nimport {Panels, ModelPanel, Query, List, Editor, ModelEditor} from '../controllers'\nimport type {IPanels, IModelPanel, IRModelPanel} from '../controllers'\n\n\n/**\n * Create a new reactive {@link Panels} and provide it as `panels`.\n *\n * @return the reactive Panels.\n */\nexport function usePanels(options: IPanels = {}) {\n    const obj = Panels.reactive(options)\n    provide('panels', obj)\n    return obj\n}\n\n/**\n * Create a new {@link List} and provide it as `list`.\n *\n * If no `query` if provided, create one using `repo` and `repos`.\n */\nexport function useList<M extends Model>(options : ListOpts<M>) : IRList<M>\n{\n    const list = List.reactive<M>(options)\n    provide('list', list)\n    return list\n}\n\n\nexport interface IUseModelPanel extends IModelPanel {\n    repos: Repos\n}\n\n/**\n * Create a new reactive {@link ModelPanel} and provide it as `panel`.\n *\n * @return the reactive panel.\n */\nexport function useModelPanel({panels, query, list, repos, ...options}: IUseModelPanel = {}) : IRModelPanel<M> {\n    panels = panels ?? inject('panels')\n    repos = repos ?? inject('repos')\n    query = query ?? injectOrProvide('query', () => new Query(options.props.repo, repos))\n    list = list ?? injectOrProvide('list', () => {\n        const {value} = toRefs(panels)\n        return SelectList.reactive({index: value, query})\n    }, true)\n\n    const panel = ModelPanel.reactive({panels, list, ...options})\n    provide('panel', panel)\n    provide('item', computed(() => panel.list.item))\n    return panel\n}\n\n/**\n * This composable return a new query from provided arguments.\n */\nexport function useQuery(repo: Repository, repos: Repos|null=null) {\n    const query = new Query(repo, repos)\n    provide('query', query)\n    return query\n}\n\n\n/**\n * This composable create an new Editor and returns it as reactive object.\n * It register the newly created editor when `editors` and `key` are provided.\n */\nexport function useEditor({editorClass=Editor, emits=null, panel=null, ...opts}) {\n    // provide default saved method\n    if(emits)\n        opts.saved ??= ((item: IObject, editor) => emits('saved', item, editor))\n\n    const editor = editorClass.reactive(opts)\n    if(panel) {\n        watch(() => editor.edited, (val) => panel.setEdition(editor.name, val))\n    }\n    return editor\n}\n\n/** Return a new reactive ModelEditor */\nexport function useModelEditor(opts) {\n    return useEditor({...opts, editorClass: ModelEditor})\n}\n\n// export function arrayEditor(opts) {\n//     return editor({...opts, editorClass: ArrayEditor})\n// }\n//\n// export function collectionEditor(opts) {\n//     return editor({...opts, editorClass: CollectionEditor})\n// }\n","import { defineAsyncComponent as $defineAsyncComponent } from 'vue'\n\nexport * from './app'\nexport * from './actions'\nexport * from './init'\nexport * from './i18n'\nexport * from './models'\nexport * from './controllers'\n\n\n/**\n * Similar to `defineAsyncComponent` allowing to load a component\n * by name from a provided module url.\n */\nexport function defineAsyncComponent(url: string, name: string) {\n    return $defineAsyncComponent(() => {\n        return import(url).then(module => {\n            if(!name)\n                return module\n            const obj = Object.values(module).filter(y => y.__name == name)[0]\n            return obj\n        })\n    })\n}\n\n\n/**\n * This exception is used in order to display the message to user\n * when it is raised.\n */\nclass UserError extends Error {}\n"],"names":["RObject","options","reactive","assignNonEmpty","asRelation","repo","relation","fields","_a","field","Relation","getSourceKey","HasMany","HasManyBy","HasOne","__defProp$2","__defNormalProp$2","obj","key","value","__publicField$2","Response","repository","config","response","data","method","result","action","__defProp$1","__defNormalProp$1","__publicField$1","Request","actions","_c","_b","name","url","requestConfig","axiosResponse","__defProp","__defNormalProp","__publicField","AxiosRepository","Repository","useAxiosApi","axios","useAxiosRepo","model","pinia","getActivePinia","useRepo","createPiniaOrmAxios","axiosConfig","definePiniaOrmPlugin","context","useModels","models","defaults","repos","User","provide","usePermissionsProps","usePermissions","user","perms","permissions","Permissions","allowed","computed","unref","AppContext","opts","State","dataEl","el","useAppContext","load","Action","props","ref","args","useAction","firstDay","getWeekArray","date","locale","firstDayOfWeek","weeks","currentWeek","firstDayOfMonth","startOfMonth","lastDayOfMonth","endOfMonth","first","firstDayWeekIndex","lastDayWeekIndex","i","adjacentDay","day","startOfWeek","d","endOfWeek","lastDay","parseLocalDate","parts","_YYYMMDD","parsed","sundayJanuarySecond2000","getWeekdays","daysFromSunday","createRange","weekday","format","formatString","formats","newDate","customFormat","month","toISO","adapter","year","padStart","parseISO","addMinutes","amount","addHours","addDays","addWeeks","addMonths","getYear","getMonth","getDate","getNextMonth","getPreviousMonth","getHours","getMinutes","startOfYear","endOfYear","isWithinRange","range","isAfter","isBefore","isValid","comparing","isAfterDay","startOfDay","isEqual","isSameDay","isSameMonth","isSameYear","getDiff","unit","c","setHours","count","setMinutes","setMonth","setDate","setYear","endOfDay","VuetifyDateAdapter","DateOptionsSymbol","DateAdapterSymbol","createDate","_options","mergeDeep","createInstance","instance","watch","createVuetify","vuetify","blueprint","rest","aliases","components","directives","createDefaults","display","createDisplay","theme","createTheme","icons","createIcons","createLocale","goTo","createGoTo","app","defineComponent","DefaultsSymbol","DisplaySymbol","ThemeSymbol","IconSymbol","LocaleSymbol","GoToSymbol","IN_BROWSER","mount","vm","nextTick","getUid","inject","version","provides","md3","mdi","red","pink","purple","deepPurple","indigo","blue","lightBlue","cyan","teal","green","lightGreen","lime","yellow","amber","orange","deepOrange","brown","blueGrey","grey","shades","colors","createI18n","getCookieList","x","$createI18n","i18n","t","setLocale","path","loadedLocalePaths","useI18n","fallback","$useI18n","loadLocale","loadLocaleFrom","locale2","messages","r","promise","error","tKeys","init","App","onLoad","initApp","createApp","resolve","plugins","$createApp","plugin","vendorComponents","$createVuetify","createPinia","baseURL","$createPinia","piniaOrm","createORM","setActivePinia","Query","ids","lookup","params","relations","nextKey","limit","result2","objs","entities","funcName","rel","repo2","fk","collectAttr","query","Editor","attrs","_attrs","initial","reset","k","state","_","ModelEditor","val","dst","func","ModelController","filters","ModelList","index","id","item","step","sibling","append","items","Panel","edited","msg","panel","ModelPanel","list","panels","view","Panels","idx","force","href","List","usePanels","useList","useModelPanel","injectOrProvide","toRefs","useQuery","useEditor","editorClass","emits","editor","useModelEditor","defineAsyncComponent","$defineAsyncComponent","module","y"],"mappings":";;;;;;;;;AAWA,MAAqBA,EAAW;AAAA;AAAA;AAAA;AAAA;AAAA,EAK5B,OAAO,SAAYC,GAA2B;AAC1C,WAAOC,EAAS,IAAI,KAAKD,CAAO,CAAC;AAAA,EAAA;AAAA,EAGrC,YAAYA,IAAkB,MAAM;AACrB,IAAAA,KAAAE,GAAe,MAAMF,CAAO;AAAA,EAAA;AAE/C;ACZgB,SAAAG,GAA6BC,GAAqBC,GAA0C;;AACrG,MAAA,OAAOA,KAAY,UAAU;AACtB,UAAAC,KAASC,IAAAH,EAAK,QAAL,gBAAAG,EAAU,UACnBC,IAAQF,KAAUA,EAAOD,CAAQ,KAAK;AACjC,IAAAA,IAAAG,aAAiBC,KAAWD,IAAQ;AAAA,EAAA;AAE5C,SAAAH;AACX;AAMO,SAASK,GAAaF,GAAmC;AAC5D,SAAGA,aAAiBG,MAAWH,aAAiBI,MAAaJ,aAAiBK,KACnEL,EAAM,aACV;AACX;;;;;;;;;;;;;ACzBA,IAAIM,KAAc,OAAO,gBACrBC,KAAoB,CAACC,GAAKC,GAAKC,MAAUD,KAAOD,IAAMF,GAAYE,GAAKC,GAAK,EAAE,YAAY,IAAM,cAAc,IAAM,UAAU,IAAM,OAAAC,EAAK,CAAE,IAAIF,EAAIC,CAAG,IAAIC,GAC1JC,IAAkB,CAACH,GAAKC,GAAKC,OAC/BH,GAAkBC,GAAK,OAAOC,KAAQ,WAAWA,IAAM,KAAKA,GAAKC,CAAK,GAC/DA;AAET,MAAME,GAAS;AAAA;AAAA;AAAA;AAAA,EAIb,YAAYC,GAAYC,GAAQC,GAAU;AAIxC,IAAAJ,EAAgB,MAAM,YAAY,GAIlCA,EAAgB,MAAM,QAAQ,GAI9BA,EAAgB,MAAM,UAAU,GAIhCA,EAAgB,MAAM,YAAY,IAAI,GAItCA,EAAgB,MAAM,WAAW,EAAK,GACtC,KAAK,aAAaE,GAClB,KAAK,SAASC,GACd,KAAK,WAAWC;AAAA,EACpB;AAAA;AAAA;AAAA;AAAA,EAIE,MAAM,OAAO;AACX,UAAMC,IAAO,KAAK,oBAAqB;AACvC,QAAI,CAAC,KAAK,aAAaA,CAAI,GAAG;AAC5B,cAAQ;AAAA,QACN;AAAA,MACD;AACD;AAAA,IACN;AACI,QAAIC,IAAS,KAAK,OAAO,aAAa;AACtC,IAAK,KAAK,sBAAsBA,CAAM,MACpC,QAAQ;AAAA,MACN;AAAA,IACD,GACDA,IAAS;AAEX,UAAMC,IAAS,MAAM,KAAK,WAAWD,CAAM,EAAED,CAAI;AACjD,SAAK,WAAW,MAAM,QAAQE,CAAM,IAAIA,IAAS,CAACA,CAAM,GACxD,KAAK,UAAU;AAAA,EACnB;AAAA;AAAA;AAAA;AAAA,EAIE,MAAM,SAAS;AACb,QAAI,KAAK,OAAO,WAAW;AACzB,YAAM,IAAI;AAAA,QACR;AAAA,MACD;AAEH,UAAM,KAAK,WAAW,MAAK,EAAG,QAAQ,KAAK,OAAO,MAAM;AAAA,EAC5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOE,sBAAsB;AACpB,WAAI,KAAK,OAAO,kBACP,KAAK,OAAO,gBAAgB,KAAK,QAAQ,IAE9C,KAAK,OAAO,UACP,KAAK,SAAS,KAAK,KAAK,OAAO,OAAO,IAExC,KAAK,SAAS;AAAA,EACzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAqBE,aAAaF,GAAM;AACjB,WAAOA,MAAS,QAAQ,OAAOA,KAAS;AAAA,EAC5C;AAAA;AAAA;AAAA;AAAA;AAAA,EAKE,sBAAsBG,GAAQ;AAC5B,WAAO,CAAC,QAAQ,QAAQ,EAAE,SAASA,CAAM;AAAA,EAC7C;AACA;AAEA,IAAIC,KAAc,OAAO,gBACrBC,KAAoB,CAACb,GAAKC,GAAKC,MAAUD,KAAOD,IAAMY,GAAYZ,GAAKC,GAAK,EAAE,YAAY,IAAM,cAAc,IAAM,UAAU,IAAM,OAAAC,EAAK,CAAE,IAAIF,EAAIC,CAAG,IAAIC,GAC1JY,IAAkB,CAACd,GAAKC,GAAKC,OAC/BW,GAAkBb,GAAK,OAAOC,KAAQ,WAAWA,IAAM,KAAKA,GAAKC,CAAK,GAC/DA;AAET,MAAMa,GAAQ;AAAA;AAAA;AAAA;AAAA,EAIZ,YAAYV,GAAY;AAItB,IAAAS,EAAgB,MAAM,YAAY,GAIlCA,EAAgB,MAAM,UAAU;AAAA,MAC9B,MAAM;AAAA,IACZ,CAAK,GACD,KAAK,aAAaT,GAClB,KAAK,gBAAiB;AAAA,EAC1B;AAAA;AAAA;AAAA;AAAA,EAIE,IAAI,QAAQ;AACV,QAAI,CAAC,KAAK,WAAW;AACnB,YAAM,IAAI;AAAA,QACR;AAAA,MACD;AAEH,WAAO,KAAK,WAAW;AAAA,EAC3B;AAAA;AAAA;AAAA;AAAA,EAIE,kBAAkB;;AAChB,UAAMW,IAAU,EAAE,IAAGzB,IAAA,KAAK,WAAW,OAAO,aAAvB,gBAAAA,EAAiC,SAAS,IAAG0B,KAAAC,IAAA,KAAK,WAAW,SAAQ,EAAG,QAAS,MAApC,gBAAAA,EAAsC,aAAtC,gBAAAD,EAAgD,QAAS;AAC3H,QAAKD;AAGL,iBAAWG,KAAQH,GAAS;AAC1B,cAAML,IAASK,EAAQG,CAAI;AAC3B,eAAOR,KAAW,aAAa,KAAK,uBAAuBQ,GAAMR,CAAM,IAAI,KAAK,qBAAqBQ,GAAMR,CAAM;AAAA,MACvH;AAAA,EACA;AAAA;AAAA;AAAA;AAAA,EAIE,qBAAqBQ,GAAMR,GAAQ;AACjC,SAAKQ,CAAI,IAAI,CAACb,MACL,KAAK,QAAQ,EAAE,GAAGK,GAAQ,GAAGL,EAAM,CAAE;AAAA,EAElD;AAAA;AAAA;AAAA;AAAA,EAIE,uBAAuBa,GAAMR,GAAQ;AACnC,SAAKQ,CAAI,IAAIR,EAAO,KAAK,IAAI;AAAA,EACjC;AAAA;AAAA;AAAA;AAAA,EAIE,IAAIS,GAAKd,IAAS,IAAI;AACpB,WAAO,KAAK,QAAQ,EAAE,QAAQ,OAAO,KAAAc,GAAK,GAAGd,GAAQ;AAAA,EACzD;AAAA;AAAA;AAAA;AAAA,EAIE,KAAKc,GAAKZ,IAAO,CAAA,GAAIF,IAAS,CAAA,GAAI;AAChC,WAAO,KAAK,QAAQ,EAAE,QAAQ,QAAQ,KAAAc,GAAK,MAAAZ,GAAM,GAAGF,GAAQ;AAAA,EAChE;AAAA;AAAA;AAAA;AAAA,EAIE,IAAIc,GAAKZ,IAAO,CAAA,GAAIF,IAAS,CAAA,GAAI;AAC/B,WAAO,KAAK,QAAQ,EAAE,QAAQ,OAAO,KAAAc,GAAK,MAAAZ,GAAM,GAAGF,GAAQ;AAAA,EAC/D;AAAA;AAAA;AAAA;AAAA,EAIE,MAAMc,GAAKZ,IAAO,CAAA,GAAIF,IAAS,CAAA,GAAI;AACjC,WAAO,KAAK,QAAQ,EAAE,QAAQ,SAAS,KAAAc,GAAK,MAAAZ,GAAM,GAAGF,GAAQ;AAAA,EACjE;AAAA;AAAA;AAAA;AAAA,EAIE,OAAOc,GAAKd,IAAS,IAAI;AACvB,WAAO,KAAK,QAAQ,EAAE,QAAQ,UAAU,KAAAc,GAAK,GAAGd,GAAQ;AAAA,EAC5D;AAAA;AAAA;AAAA;AAAA,EAIE,MAAM,QAAQA,GAAQ;AACpB,UAAMe,IAAgB,KAAK,aAAaf,CAAM,GACxCgB,IAAgB,MAAM,KAAK,MAAM,QAAQD,CAAa;AAC5D,WAAO,KAAK,eAAeC,GAAeD,CAAa;AAAA,EAC3D;AAAA;AAAA;AAAA;AAAA;AAAA,EAKE,aAAaf,GAAQ;AACnB,WAAO;AAAA,MACL,GAAG,KAAK;AAAA,MACR,GAAG,KAAK,WAAW;AAAA,MACnB,GAAG,KAAK,WAAW;AAAA,MACnB,GAAGA;AAAA,IACJ;AAAA,EACL;AAAA;AAAA;AAAA;AAAA;AAAA,EAKE,MAAM,eAAegB,GAAehB,GAAQ;AAC1C,UAAMC,IAAW,IAAIH,GAAS,KAAK,YAAYE,GAAQgB,CAAa;AACpE,WAAIhB,EAAO,WAAW,UACpB,MAAMC,EAAS,OAAQ,GAChBA,MAETD,EAAO,QAAQ,MAAMC,EAAS,KAAM,GAC7BA;AAAA,EACX;AACA;AAEA,IAAIgB,KAAY,OAAO,gBACnBC,KAAkB,CAACxB,GAAKC,GAAKC,MAAUD,KAAOD,IAAMuB,GAAUvB,GAAKC,GAAK,EAAE,YAAY,IAAM,cAAc,IAAM,UAAU,IAAM,OAAAC,EAAK,CAAE,IAAIF,EAAIC,CAAG,IAAIC,GACtJuB,IAAgB,CAACzB,GAAKC,GAAKC,OAC7BsB,GAAgBxB,GAAK,OAAOC,KAAQ,WAAWA,IAAM,KAAKA,GAAKC,CAAK,GAC7DA;AAET,MAAMwB,UAAwBC,GAAW;AAAA,EACvC,cAAc;;AACZ,UAAM,GAAG,SAAS,GAClBF,EAAc,MAAM,WAASP,KAAA3B,IAAAe,MAAA,gBAAAf,EAAQ,aAAR,gBAAA2B,EAAkB,UAAS,IAAI,GAC5DO,EAAc,MAAM,qBAAmBR,IAAAX,MAAA,gBAAAW,EAAQ,aAAY,CAAA,CAAE,GAC7DQ,EAAc,MAAM,aAAa,EAAE;AAAA,EACvC;AAAA,EACE,MAAM;AACJ,WAAOG,GAAY,IAAI;AAAA,EAC3B;AAAA,EACE,SAASC,GAAO;AACd,gBAAK,QAAQA,GACN;AAAA,EACX;AACA;AAEA,SAASD,GAAYvB,GAAY;AAC/B,SAAO,IAAIU,GAAQV,CAAU;AAC/B;AAEA,SAASyB,GAAaC,GAAO;AAC3B,QAAMC,IAAQC,GAAgB;AAC9B,SAAAP,EAAgB,WAAWK,GACpBG,GAAQR,GAAiBM,CAAK;AACvC;AAEA,SAASG,GAAoBC,GAAa;AACxC,SAAOC,GAAqB,CAACC,OAC3BA,EAAQ,OAAO,WAAWF,GACnBE,EACR;AACH;ACtQgB,SAAAC,GAAUC,GAAgBC,IAAoB,IAAM;AAChE,QAAMC,IAAe,CAAC;AAEnB,EAAC,MAAM,QAAQF,CAAM,MACZA,IAAA,OAAO,OAAOA,CAAM,IAE7BC,KAAY,CAAED,EAA4B,SAASG,CAAI,KACvDH,EAAO,KAAKG,CAAI;AAEnB,aAAUZ,KAASS;AACZ,QAAAT,KAASA,EAAM,QAAQ;AACtB,UAAGA,EAAM,UAAUW;AACf;AAIJ,MAAAR,GAAQH,CAAK,GACbW,EAAMX,EAAM,MAAM,IAAID,GAAaC,CAAK;AAAA,IAAA;AAGhD,SAAAa,EAAQ,UAAUJ,CAAM,GACxBI,EAAQ,SAASF,CAAK,GACf,EAAE,QAAAF,GAAQ,OAAAE,EAAO;AAC5B;AAGO,SAASG,KAAsB;AAC3B,SAAA;AAAA,IACH,aAAa,CAAC,QAAQ,UAAU,QAAQ,KAAK;AAAA,EACjD;AACJ;AAGgB,SAAAC,GAAeC,GAAsBC,GAA0B9C,GAAc;AACzF,QAAM+C,IAAcD,aAAiBE,IAAcF,IAAQ,IAAIE,EAAYF,CAAK,GAC1EG,IAAUC,GAAS,MAAMH,EAAY,IAAII,EAAMN,CAAI,GAAGM,EAAMnD,CAAK,CAAC,CAAC;AAClE,SAAA,EAAE,aAAA+C,GAAa,SAAAE,EAAQ;AAClC;ACEO,MAAMG,GAAW;AAAA,EACpB,OAAO,SAASC,GAA2B;AACvC,UAAMvD,IAAMf,EAAS,IAAI,KAAKsE,CAAI,CAAC;AAC/B,WAAAvD,EAAA,OAAOoD,GAAS;;AAAM,iBAAIT,IAAKpD,IAAAS,EAAI,SAAJ,gBAAAT,EAAU,SAAQ,CAAA,CAAE;AAAA,KAAC,GACjDS;AAAA,EAAA;AAAA,EAGX,YAAYuD,IAAa,IAAI;AAClB,WAAA,OAAO,MAAMA,CAAI,GACnB,KAAA,QAAQC,EAAM,KAAK,GACxB,KAAK,YAAY;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOrB,KAAKtD,IAAa,QAAW;AACtB,IAAA,KAAK,WAAW,WACZA,MAAU,WACDA,IAAA,KAAK,SAAS,KAAK,MAAM,IACrCA,EAAM,SAAS,KAAK,QACpB,KAAK,OAAOA,GACT,KAAK,SAAS,KAAK,KAAK,UACvB,KAAK,MAAM,QAAQA,KAGxB,KAAK,WAAW,WACf,KAAK,QAAQqC,GAAU,KAAK,MAAM,EAAE;AAAA,EACxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQJ,SAASkB,GAAqB;AACpB,UAAAC,IAAK,SAAS,eAAeD,CAAM;AACzC,QAAG,CAACC;AACM,YAAA;AACV,WAAOA,EAAG,YAAY,KAAK,MAAMA,EAAG,SAAS,IAAI,CAAC;AAAA,EAAA;AAE1D;AA2BgB,SAAAC,GAAcJ,GAAYK,IAAgB,IAAkB;AAClE,QAAA5D,IAAMsD,GAAW,SAASC,CAAI;AAC5B,SAAAK,KAAA5D,EAAI,UAAUA,EAAI,KAAK,GAE/B4C,EAAQ,WAAW5C,CAAG,GACd4C,EAAA,QAAQ5C,EAAI,IAAI,GAEjBA;AACX;AC1CA,MAAM6D,GAA2B;AAAA,EAC7B,YAAYN,GAAkBO,GAAyB;AAC5C,WAAA,OAAO,MAAMP,CAAI,GACxB,KAAK,QAAQO,GAER,KAAA,aAAaC,GAAI,EAAK;AAC3B,UAAMf,IAAQF,GAAe,KAAK,MAAMgB,EAAM,aAAaA,EAAM,IAAI;AACrE,SAAK,cAAcd,EAAM,aACzB,KAAK,UAAUA,EAAM;AAAA,EAAA;AAAA;AAAA;AAAA;AAAA,EAMzB,MAAM,OAAOgB,GAAyB;AAClC,QAAG,KAAK,MAAM,WAAW,CAAC,QAAQ,KAAK,MAAM,OAAO;AAChD;AACD,QAAA,CAAC,KAAK,QAAQ;AACb,YAAM,MAAM,4CAA4C;AAE5D,SAAK,WAAW,QAAQ;AACpB,QAAAtD,IAAa,KAAK,MAAM,IAAI,KAAK,MAAM,KAAK,MAAM,MAAM,GAAGsD,CAAI;AACnE,WAAGtD,aAAkB,YACjBA,IAAS,MAAMA,IAEnB,KAAK,WAAW,QAAQ,IACrB,KAAK,SACJ,KAAK,MAAM,aAAa,KAAK,MAAM,MAAM,GAAGsD,CAAI,GAC7CtD;AAAA,EAAA;AAEf;AAWgB,SAAAuD,GAA6BV,GAAkBO,GAAuC;AAC3F,SAAA,IAAID,GAAON,GAAMO,CAAK;AACjC;ACxIA,MAAMI,IAAW;AAAA,EACf,OAAO;AAAA,EACP,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,kBAAkB;AAAA,EAClB,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EACJ,IAAI;AAAA,EA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","x_google_ignoreList":[2,6,7,8,9,10]}
