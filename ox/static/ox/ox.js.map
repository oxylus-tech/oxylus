{"version":3,"file":"ox.js","sources":["../../../assets/ox/src/models/index.ts","../../../assets/node_modules/.pnpm/@pinia-orm+axios@1.10.2_axios@1.9.0_pinia-orm@1.10.2_pinia@2.3.1_typescript@5.8.3_vue@3_820808fc56c26caa850f1c1b6b7ed0f0/node_modules/@pinia-orm/axios/dist/index.mjs","../../../assets/ox/src/composables/models.ts","../../../assets/ox/src/composables/app.ts","../../../assets/ox/src/composables/actions.ts","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/composables/date/adapters/vuetify.js","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/composables/date/date.js","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/framework.js","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/blueprints/md3.js","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/util/colors.js","../../../assets/node_modules/.pnpm/@intlify+shared@10.0.7/node_modules/@intlify/shared/dist/shared.mjs","../../../assets/node_modules/.pnpm/@intlify+message-compiler@10.0.7/node_modules/@intlify/message-compiler/dist/message-compiler.mjs","../../../assets/node_modules/.pnpm/@intlify+core-base@10.0.7/node_modules/@intlify/core-base/dist/core-base.mjs","../../../assets/node_modules/.pnpm/vue-i18n@10.0.7_vue@3.5.13_typescript@5.8.3_/node_modules/vue-i18n/dist/vue-i18n.mjs","../../../assets/ox/src/composables/i18n.ts","../../../assets/ox/src/composables/init.ts","../../../assets/ox/src/controllers/query.ts","../../../assets/ox/src/controllers/editor.ts","../../../assets/ox/src/controllers/panel.ts","../../../assets/ox/src/controllers/panels.ts","../../../assets/ox/src/controllers/modelController.ts","../../../assets/ox/src/controllers/modelList.ts","../../../assets/ox/src/controllers/modelEditor.ts","../../../assets/ox/src/controllers/modelPanel.ts","../../../assets/ox/src/composables/controllers.ts","../../../assets/ox/src/composables/rules.ts","../../../assets/ox/src/composables/index.ts"],"sourcesContent":["import {Relation, BelongsTo, HasMany, HasManyBy, HasOne} from 'pinia-orm'\nimport type {Repository, PrimaryKey, Model as $Model} from 'pinia-orm'\n\nimport type { ClassType } from '../utils'\n\nexport * from './model'\nexport * from './auth'\nimport type { Model } from './model'\n\n/** Shortcut to an object of repositories by model entity. */\nexport type Repos={[s: string]: Repository<Model>}\n\n/** Generic type for typing model classes. **/\nexport type ModelType<T extends Model> = ClassType<T>\n\n\n/** Return relation based on field name or Relation field. */\nexport function asRelation<M extends $Model>(repo: Repository<M>, relation: string|Relation): Relation|null {\n    if(typeof relation == \"string\") {\n        const fields = repo.use?.fields()\n        const field = fields && fields[relation] || null\n        relation = field instanceof Relation ? field : null\n    }\n    return relation\n}\n\n/**\n * For the provided relation, return the field name providing ids of related\n * models.\n */\nexport function getSourceKey(field: Relation): PrimaryKey|null  {\n    if(field instanceof HasMany || field instanceof HasManyBy || field instanceof HasOne || field instanceof BelongsTo)\n        return field.foreignKey\n    return null\n}\n","import { Repository, config, useRepo, definePiniaOrmPlugin } from 'pinia-orm';\nimport { getActivePinia } from 'pinia';\n\nclass Response {\n  /**\n   * The repository that called the request.\n   */\n  repository;\n  /**\n   * The request configuration.\n   */\n  config;\n  /**\n   * The axios response instance.\n   */\n  response;\n  /**\n   * Entities created by Pinia ORM.\n   */\n  entities = null;\n  /**\n   * Whether if response data is saved to the store or not.\n   */\n  isSaved = false;\n  /**\n   * Create a new response instance.\n   */\n  constructor(repository, config, response) {\n    this.repository = repository;\n    this.config = config;\n    this.response = response;\n  }\n  /**\n   * Save response data to the store.\n   */\n  async save() {\n    const data = this.getDataFromResponse();\n    if (!this.validateData(data)) {\n      console.warn(\n        \"[Pinia ORM Axios] The response data could not be saved to the store because it is not an object or an array. You might want to use `dataTransformer` option to handle non-array/object response before saving it to the store.\"\n      );\n      return;\n    }\n    let method = this.config.persistBy || \"save\";\n    if (!this.validatePersistAction(method)) {\n      console.warn(\n        '[Pinia ORM Axios] The \"persistBy\" option configured is not a recognized value. Response data will be persisted by the default `save` method.'\n      );\n      method = \"save\";\n    }\n    const result = await this.repository[method](data);\n    this.entities = Array.isArray(result) ? result : [result];\n    this.isSaved = true;\n  }\n  /**\n   * Delete the entity record where the `delete` option is configured.\n   */\n  async delete() {\n    if (this.config.delete === void 0) {\n      throw new Error(\n        \"[Pinia ORM Axios] Could not delete records because the `delete` option is not set.\"\n      );\n    }\n    await this.repository.query().destroy(this.config.delete);\n  }\n  /**\n   * Get the response data from the axios response object. If a `dataTransformer`\n   * option is configured, it will be applied to the response object. If the\n   * `dataKey` option is configured, it will return the data from the given\n   * property within the response body.\n   */\n  getDataFromResponse() {\n    if (this.config.dataTransformer) {\n      return this.config.dataTransformer(this.response);\n    }\n    if (this.config.dataKey) {\n      return this.response.data[this.config.dataKey];\n    }\n    return this.response.data;\n  }\n  /**\n   * Get persist options if any set in config.\n   */\n  // protected getPersistOptions (): PersistOptions | undefined {\n  //   const persistOptions = this.config.persistOptions\n  //\n  //   if (!persistOptions || typeof persistOptions !== 'object') {\n  //     return\n  //   }\n  //\n  //   return Object.keys(persistOptions)\n  //     .filter(this.validatePersistAction) // Filter to avoid polluting the payload.\n  //     .reduce((carry, key) => {\n  //       carry[key] = persistOptions[key]\n  //       return carry\n  //     }, {} as PersistOptions)\n  // }\n  /**\n   * Validate the given data to ensure the Pinia ORM persist methods accept it.\n   */\n  validateData(data) {\n    return data !== null && typeof data === \"object\";\n  }\n  /**\n   * Validate the given string as to ensure it correlates with the available\n   * Pinia ORM persist methods.\n   */\n  validatePersistAction(action) {\n    return [\"save\", \"insert\"].includes(action);\n  }\n}\n\nclass Request {\n  /**\n   * The repository class.\n   */\n  repository;\n  /**\n   * The default config.\n   */\n  config = {\n    save: true\n  };\n  /**\n   * Create a new api instance.\n   */\n  constructor(repository) {\n    this.repository = repository;\n    this.registerActions();\n  }\n  /**\n   * Get the axios client.\n   */\n  get axios() {\n    this.repository.axios = this.repository.axios ?? this.repository.config.axiosApi.axios;\n    if (!this.repository.axios) {\n      throw new Error(\n        \"[Pinia ORM Axios] The axios instance is not registered. Please register the axios instance to the repository.\"\n      );\n    }\n    return this.repository.axios;\n  }\n  /**\n   * Register actions from the repository config.\n   */\n  registerActions() {\n    const actions = { ...this.repository.config.axiosApi?.actions, ...this.repository.getModel().$config()?.axiosApi?.actions };\n    if (!actions) {\n      return;\n    }\n    for (const name in actions) {\n      const action = actions[name];\n      typeof action === \"function\" ? this.registerFunctionAction(name, action) : this.registerObjectAction(name, action);\n    }\n  }\n  /**\n   * Register the given object action.\n   */\n  registerObjectAction(name, action) {\n    this[name] = (config) => {\n      return this.request({ ...action, ...config });\n    };\n  }\n  /**\n   * Register the given function action.\n   */\n  registerFunctionAction(name, action) {\n    this[name] = action.bind(this);\n  }\n  /**\n   * Perform a get request.\n   */\n  get(url, config = {}) {\n    return this.request({ method: \"get\", url, ...config });\n  }\n  /**\n   * Perform a post request.\n   */\n  post(url, data = {}, config = {}) {\n    return this.request({ method: \"post\", url, data, ...config });\n  }\n  /**\n   * Perform a put request.\n   */\n  put(url, data = {}, config = {}) {\n    return this.request({ method: \"put\", url, data, ...config });\n  }\n  /**\n   * Perform a patch request.\n   */\n  patch(url, data = {}, config = {}) {\n    return this.request({ method: \"patch\", url, data, ...config });\n  }\n  /**\n   * Perform a delete request.\n   */\n  delete(url, config = {}) {\n    return this.request({ method: \"delete\", url, ...config });\n  }\n  /**\n   * Perform an api request.\n   */\n  async request(config) {\n    const requestConfig = this.createConfig(config);\n    const axiosResponse = await this.axios.request(requestConfig);\n    return this.createResponse(axiosResponse, requestConfig);\n  }\n  /**\n   * Create a new config by merging the global config, the repository config,\n   * and the given config.\n   */\n  createConfig(config) {\n    return {\n      ...this.config,\n      ...this.repository.globalApiConfig,\n      ...this.repository.apiConfig,\n      ...config\n    };\n  }\n  /**\n   * Create a new response instance by applying a few initialization processes.\n   * For example, it saves response data if `save` option id set to `true`.\n   */\n  async createResponse(axiosResponse, config) {\n    const response = new Response(this.repository, config, axiosResponse);\n    if (config.delete !== void 0) {\n      await response.delete();\n      return response;\n    }\n    config.save && await response.save();\n    return response;\n  }\n}\n\nclass AxiosRepository extends Repository {\n  axios;\n  globalApiConfig;\n  apiConfig;\n  constructor(database, pinia) {\n    super(database, pinia);\n    this.axios = config?.axiosApi?.axios || null;\n    this.globalApiConfig = config?.axiosApi || {};\n    this.apiConfig = {};\n  }\n  api() {\n    return useAxiosApi(this);\n  }\n  setAxios(axios) {\n    this.axios = axios;\n    return this;\n  }\n}\n\nfunction useAxiosApi(repository) {\n  return new Request(repository);\n}\n\nfunction useAxiosRepo(model) {\n  const pinia = getActivePinia();\n  AxiosRepository.useModel = model;\n  return useRepo(AxiosRepository, pinia);\n}\n\nfunction createPiniaOrmAxios(axiosConfig) {\n  return definePiniaOrmPlugin((context) => {\n    context.config.axiosApi = axiosConfig;\n    return context;\n  });\n}\nconst piniaOrmPluginAxios = createPiniaOrmAxios();\n\nexport { AxiosRepository, Request, Response, createPiniaOrmAxios, piniaOrmPluginAxios, useAxiosApi, useAxiosRepo };\n","import { inject, provide, computed, unref } from 'vue'\nimport { getActivePinia } from 'pinia'\nimport { useRepo } from 'pinia-orm'\nimport { useAxiosRepo } from '@pinia-orm/axios'\nimport type {Ref} from 'vue'\nimport type {Repository} from 'pinia-orm'\n\nimport { Model, User, Permissions } from '../models'\nimport type {Repos, IPermissionItem} from '../models'\n\n\nexport type Models = (typeof Model)[] | {[name: string]: (typeof Model)}\n\n/**\n * {@link useModels} options.\n */\nexport interface IUseModelOpts {\n    /** Use injected repository if already present. */\n    useInject?: boolean\n    /** Use default models */\n    useDefaults?: boolean\n}\n\n/**\n * Use provided pinia-orm models, returning an object with:\n * - repos: pinia-orm api repositories as dict by entity\n * - models: pinia-orm models\n *\n * It uses injected repos by default if already provided. You\n * can disable it through options.\n *\n * `provide()` those values if not already provided.\n */\nexport function useModels(models: Models, {useInject=true, useDefaults=true}: IUseModelOpts = {}) {\n    var repos : Repos = useInject && (inject('repos') || {}) as Repos\n    const injected = (useInject && !!Object.keys(repos).length)\n\n    if(!Array.isArray(models))\n       models = Object.values(models)\n\n    if(useDefaults)\n       models.push(User)\n\n    for(const model of models)\n        if(model && model.entity) {\n            if(model.entity in repos)\n                continue\n\n            // there might be a bug here, without useRepo, axios is\n            // null on repositories\n            useRepo(model)\n            repos[model.entity] = useAxiosRepo(model) as Repository<Model>\n        }\n\n    !injected && provide(\"repos\", repos)\n    return repos\n}\n\n\nexport function usePermissionsProps() {\n    return {\n        permissions: [String, Function, Object, Array],\n    }\n}\n\n\nexport function usePermissions(user: User|Ref<User>, perms: IPermissionItem[], value: Model) {\n    const permissions = perms instanceof Permissions ? perms : new Permissions(perms)\n    const allowed = computed(() => permissions.can(unref(user), unref(value)))\n    return { permissions, allowed }\n}\n","import {computed, reactive, provide} from 'vue'\nimport type {ComputedRef, Reactive} from 'vue'\n\nimport {User, Model} from '../models'\nimport type {Repos} from '../models'\nimport { useModels } from './models'\nimport { State } from '../utils'\nimport type {IObject} from '../utils'\n\n\n/**\n * Interface describing application data.\n *\n * Application data is initial data passed down to application from\n * Django generated page.\n */\nexport interface IAppData extends IObject {\n    //! User's data.\n    user?: IObject\n}\n\n/**\n * This provide configuration to {@link AppContext}.\n */\nexport interface IApp {\n    /**\n     * Root API url\n     */\n    apiUrl?: string\n    /**\n     * Id of `<script>` element containing initial application data.\n     */\n    dataEl?: string\n    /**\n     * Models used by application.\n     */\n    models?: (typeof Model)[]\n    /**\n     * Extra application data.\n     */\n    data?: IAppData\n}\n\n\n/**\n * This class provides context for Oxylus application.\n *\n * Which is:\n * - initial data: this is loaded from `<script>` HTML object.\n * - models: it will create adequate `pinia-orm/axios` repositories for them.\n *\n * The context is provided to Vue components in order to allow them\n * to access global information, such as current user or Panel.\n */\nexport class AppContext {\n    static reactive(opts: IApp) : IRAppContext {\n        const obj = reactive(new this(opts)) as IRAppContext\n        obj.user = computed(() => new User(obj.data?.user || {}))\n        return obj\n    }\n\n    constructor(opts: IApp = {}) {\n        Object.assign(this, opts)\n        this.state = State.none()\n        this.showState = false\n    }\n\n    /**\n     * Load data into AppData. If no `value` is provided, read it from\n     * source element.\n     */\n    load(value: any = undefined) {\n        if(this.dataEl !== undefined) {\n            if(value === undefined)\n                value = this.readData(this.dataEl)\n            value.dataEl = this.dataEl\n            this.data = value\n        }\n\n        if(this.models !== undefined) {\n            this.repos = useModels(this.models)\n        }\n    }\n\n    /**\n     * Read data from the context of provided source element.\n     * @param {String} el - id of the DOM element.\n     * @return {Object} read data\n     */\n    readData(dataEl: string): any {\n        const el = document.getElementById(dataEl)\n        if(!el)\n            throw `Element {elementId} not found`;\n        return el.innerText ? JSON.parse(el.innerText) : {};\n    }\n}\nexport interface AppContext extends IApp {\n    /** Models' repositories */\n    repos?: Repos\n    /**\n     * Application level state. This can be displayed to user using\n     * {@link AppContext.showState}.\n     *\n     * This element can display errors to users.\n     */\n    state: State\n    /**\n     * Show application state to user.\n     */\n    showState: boolean\n}\nexport interface IRAppContext extends Reactive<AppContext> {\n    user: ComputedRef<User>\n}\n\n\n/**\n * Create a new {@link AppContext} and provide the following values:\n * - `context`: {@link AppContext} object;\n * - `user`: current {@link models.User};\n */\nexport function useAppContext(opts: IApp, load: boolean = true): AppContext {\n    const obj = AppContext.reactive(opts)\n    load && obj.dataEl && obj.load()\n\n    provide('context', obj)\n    provide('user', obj.user)\n    // provide('repos')\n    return obj\n}\n","import { ref } from 'vue'\n\nimport type { ComputedRef, Ref } from 'vue'\nimport type { Repository } from 'pinia-orm'\nimport type { Response } from '@pinia-orm/axios'\n\nimport { usePermissions, usePermissionsProps } from './models'\nimport { User, Model } from '../models'\nimport type { IPermissionItems, Permissions } from '../models'\n\n\nexport type ActionRun<M extends Model, R> = (user: User, item: M, ...args: any[]) => Promise<R>\nexport type ActionCompleted<M extends Model, R> = (user: User, item: Model, result: R) => void\n\n\nexport interface IActionProps<M extends Model, R>\n{\n    /**\n     * Value or model instance.\n     */\n    item: M\n    /**\n     * Label text displayed to user.\n     */\n    title: string\n    /**\n     * Displayed icon\n     */\n    icon: string\n    /**\n     * Displayed color\n     */\n    color?: string\n    /**\n     * Display action as a small button\n     */\n    button?: boolean\n    /**\n     * If provided, ask user for a confirmation before executing the action.\n     */\n    confirm?: string\n    /**\n     * Required permission to run the action\n     */\n    permissions: IPermissionItems\n    /**\n     * The function to call when action is executed\n     */\n    run: ActionRun<M,R>\n\n    /** If provided, open this link */\n    href?: string\n}\n\n\nexport interface IAction<M extends Model, R> {\n    /**\n     * Wether the action is running.\n     */\n    processing: Ref<boolean>\n    /**\n     * List of required {@link Permission} to run the action.\n     */\n    permissions: Permissions\n    /**\n     * Wether the user is allowed to run the action.\n     */\n    allowed: ComputedRef<boolean>\n    /**\n     * Action properties\n     */\n    props: ActionProps<M, R>\n}\n\n/**\n * Action's parameters, `user` MUST be provided.\n */\nexport interface IAction<M extends Model, R> {\n    /** Action components properties */\n    props: IActionProps<M, R>\n    /** The user running the action. */\n    user: User\n    /** If provided, emits `completed` once the action has been executed. */\n    emits?: (event: string, ...opts: any[]) => void\n}\n\n\n/**\n * Create a new action, returning:\n * - processing: ref to boolean indicating wether the action is processing\n * - permissions: Permissions instance\n * - allowed: computed ref indicating wether the action is allowed\n * - run: async function to call in order to run the method\n */\nexport function useAction<M extends Model,R>({props, user, emits=null}: IAction<M,R>) {\n    const processing = ref(false)\n    const {permissions, allowed} = usePermissions(user, props.permissions, props.item)\n\n    /** Execute the action. */\n    const run = async (...args: any[]): Promise<R> => {\n        if(props.confirm && !confirm(props.confirm))\n            return\n        if(!allowed.value)\n            throw Error(`You are not allowed to execute this action`)\n\n        processing.value = true\n        if(props.href) {\n            document.location.href = props.href\n            return\n        }\n\n        let result : R = props.run(user, props.item, ...args)\n        if(result instanceof Promise)\n            result = await result\n\n        processing.value = false\n        if(emits)\n            emits('completed', props.item, ...args)\n        return result\n    }\n    return {processing, permissions, allowed, run}\n}\n","// Utilities\nimport { createRange, padStart } from \"../../../util/index.js\"; // Types\nfunction weekInfo(locale) {\n  // https://simplelocalize.io/data/locales/\n  // then `new Intl.Locale(...).getWeekInfo()`\n  const code = locale.slice(-2).toUpperCase();\n  switch (true) {\n    case locale === 'GB-alt-variant':\n      {\n        return {\n          firstDay: 0,\n          firstWeekSize: 4\n        };\n      }\n    case locale === '001':\n      {\n        return {\n          firstDay: 1,\n          firstWeekSize: 1\n        };\n      }\n    case `AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE\n    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US\n    VE VI WS YE ZA ZW`.includes(code):\n      {\n        return {\n          firstDay: 0,\n          firstWeekSize: 1\n        };\n      }\n    case `AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV\n    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(code):\n      {\n        return {\n          firstDay: 1,\n          firstWeekSize: 1\n        };\n      }\n    case `AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS\n    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(code):\n      {\n        return {\n          firstDay: 1,\n          firstWeekSize: 4\n        };\n      }\n    case `AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY`.includes(code):\n      {\n        return {\n          firstDay: 6,\n          firstWeekSize: 1\n        };\n      }\n    case code === 'MV':\n      {\n        return {\n          firstDay: 5,\n          firstWeekSize: 1\n        };\n      }\n    case code === 'PT':\n      {\n        return {\n          firstDay: 0,\n          firstWeekSize: 4\n        };\n      }\n    default:\n      return null;\n  }\n}\nfunction getWeekArray(date, locale, firstDayOfWeek) {\n  const weeks = [];\n  let currentWeek = [];\n  const firstDayOfMonth = startOfMonth(date);\n  const lastDayOfMonth = endOfMonth(date);\n  const first = firstDayOfWeek ?? weekInfo(locale)?.firstDay ?? 0;\n  const firstDayWeekIndex = (firstDayOfMonth.getDay() - first + 7) % 7;\n  const lastDayWeekIndex = (lastDayOfMonth.getDay() - first + 7) % 7;\n  for (let i = 0; i < firstDayWeekIndex; i++) {\n    const adjacentDay = new Date(firstDayOfMonth);\n    adjacentDay.setDate(adjacentDay.getDate() - (firstDayWeekIndex - i));\n    currentWeek.push(adjacentDay);\n  }\n  for (let i = 1; i <= lastDayOfMonth.getDate(); i++) {\n    const day = new Date(date.getFullYear(), date.getMonth(), i);\n\n    // Add the day to the current week\n    currentWeek.push(day);\n\n    // If the current week has 7 days, add it to the weeks array and start a new week\n    if (currentWeek.length === 7) {\n      weeks.push(currentWeek);\n      currentWeek = [];\n    }\n  }\n  for (let i = 1; i < 7 - lastDayWeekIndex; i++) {\n    const adjacentDay = new Date(lastDayOfMonth);\n    adjacentDay.setDate(adjacentDay.getDate() + i);\n    currentWeek.push(adjacentDay);\n  }\n  if (currentWeek.length > 0) {\n    weeks.push(currentWeek);\n  }\n  return weeks;\n}\nfunction startOfWeek(date, locale, firstDayOfWeek) {\n  const day = firstDayOfWeek ?? weekInfo(locale)?.firstDay ?? 0;\n  const d = new Date(date);\n  while (d.getDay() !== day) {\n    d.setDate(d.getDate() - 1);\n  }\n  return d;\n}\nfunction endOfWeek(date, locale) {\n  const d = new Date(date);\n  const lastDay = ((weekInfo(locale)?.firstDay ?? 0) + 6) % 7;\n  while (d.getDay() !== lastDay) {\n    d.setDate(d.getDate() + 1);\n  }\n  return d;\n}\nfunction startOfMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth(), 1);\n}\nfunction endOfMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 0);\n}\nfunction parseLocalDate(value) {\n  const parts = value.split('-').map(Number);\n\n  // new Date() uses local time zone when passing individual date component values\n  return new Date(parts[0], parts[1] - 1, parts[2]);\n}\nconst _YYYMMDD = /^([12]\\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\\d|3[01]))$/;\nfunction date(value) {\n  if (value == null) return new Date();\n  if (value instanceof Date) return value;\n  if (typeof value === 'string') {\n    let parsed;\n    if (_YYYMMDD.test(value)) {\n      return parseLocalDate(value);\n    } else {\n      parsed = Date.parse(value);\n    }\n    if (!isNaN(parsed)) return new Date(parsed);\n  }\n  return null;\n}\nconst sundayJanuarySecond2000 = new Date(2000, 0, 2);\nfunction getWeekdays(locale, firstDayOfWeek) {\n  const daysFromSunday = firstDayOfWeek ?? weekInfo(locale)?.firstDay ?? 0;\n  return createRange(7).map(i => {\n    const weekday = new Date(sundayJanuarySecond2000);\n    weekday.setDate(sundayJanuarySecond2000.getDate() + daysFromSunday + i);\n    return new Intl.DateTimeFormat(locale, {\n      weekday: 'narrow'\n    }).format(weekday);\n  });\n}\nfunction format(value, formatString, locale, formats) {\n  const newDate = date(value) ?? new Date();\n  const customFormat = formats?.[formatString];\n  if (typeof customFormat === 'function') {\n    return customFormat(newDate, formatString, locale);\n  }\n  let options = {};\n  switch (formatString) {\n    case 'fullDate':\n      options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      };\n      break;\n    case 'fullDateWithWeekday':\n      options = {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      };\n      break;\n    case 'normalDate':\n      const day = newDate.getDate();\n      const month = new Intl.DateTimeFormat(locale, {\n        month: 'long'\n      }).format(newDate);\n      return `${day} ${month}`;\n    case 'normalDateWithWeekday':\n      options = {\n        weekday: 'short',\n        day: 'numeric',\n        month: 'short'\n      };\n      break;\n    case 'shortDate':\n      options = {\n        month: 'short',\n        day: 'numeric'\n      };\n      break;\n    case 'year':\n      options = {\n        year: 'numeric'\n      };\n      break;\n    case 'month':\n      options = {\n        month: 'long'\n      };\n      break;\n    case 'monthShort':\n      options = {\n        month: 'short'\n      };\n      break;\n    case 'monthAndYear':\n      options = {\n        month: 'long',\n        year: 'numeric'\n      };\n      break;\n    case 'monthAndDate':\n      options = {\n        month: 'long',\n        day: 'numeric'\n      };\n      break;\n    case 'weekday':\n      options = {\n        weekday: 'long'\n      };\n      break;\n    case 'weekdayShort':\n      options = {\n        weekday: 'short'\n      };\n      break;\n    case 'dayOfMonth':\n      return new Intl.NumberFormat(locale).format(newDate.getDate());\n    case 'hours12h':\n      options = {\n        hour: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'hours24h':\n      options = {\n        hour: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'minutes':\n      options = {\n        minute: 'numeric'\n      };\n      break;\n    case 'seconds':\n      options = {\n        second: 'numeric'\n      };\n      break;\n    case 'fullTime':\n      options = {\n        hour: 'numeric',\n        minute: 'numeric'\n      };\n      break;\n    case 'fullTime12h':\n      options = {\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'fullTime24h':\n      options = {\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'fullDateTime':\n      options = {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric'\n      };\n      break;\n    case 'fullDateTime12h':\n      options = {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'fullDateTime24h':\n      options = {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'keyboardDate':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit'\n      };\n      break;\n    case 'keyboardDateTime':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: 'numeric',\n        minute: 'numeric'\n      };\n      return new Intl.DateTimeFormat(locale, options).format(newDate).replace(/, /g, ' ');\n    case 'keyboardDateTime12h':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: true\n      };\n      return new Intl.DateTimeFormat(locale, options).format(newDate).replace(/, /g, ' ');\n    case 'keyboardDateTime24h':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: false\n      };\n      return new Intl.DateTimeFormat(locale, options).format(newDate).replace(/, /g, ' ');\n    default:\n      options = customFormat ?? {\n        timeZone: 'UTC',\n        timeZoneName: 'short'\n      };\n  }\n  return new Intl.DateTimeFormat(locale, options).format(newDate);\n}\nfunction toISO(adapter, value) {\n  const date = adapter.toJsDate(value);\n  const year = date.getFullYear();\n  const month = padStart(String(date.getMonth() + 1), 2, '0');\n  const day = padStart(String(date.getDate()), 2, '0');\n  return `${year}-${month}-${day}`;\n}\nfunction parseISO(value) {\n  const [year, month, day] = value.split('-').map(Number);\n  return new Date(year, month - 1, day);\n}\nfunction addMinutes(date, amount) {\n  const d = new Date(date);\n  d.setMinutes(d.getMinutes() + amount);\n  return d;\n}\nfunction addHours(date, amount) {\n  const d = new Date(date);\n  d.setHours(d.getHours() + amount);\n  return d;\n}\nfunction addDays(date, amount) {\n  const d = new Date(date);\n  d.setDate(d.getDate() + amount);\n  return d;\n}\nfunction addWeeks(date, amount) {\n  const d = new Date(date);\n  d.setDate(d.getDate() + amount * 7);\n  return d;\n}\nfunction addMonths(date, amount) {\n  const d = new Date(date);\n  d.setDate(1);\n  d.setMonth(d.getMonth() + amount);\n  return d;\n}\nfunction getYear(date) {\n  return date.getFullYear();\n}\nfunction getMonth(date) {\n  return date.getMonth();\n}\nfunction getWeek(date, locale, firstDayOfWeek, firstWeekMinSize) {\n  const weekInfoFromLocale = weekInfo(locale);\n  const weekStart = firstDayOfWeek ?? weekInfoFromLocale?.firstDay ?? 0;\n  const minWeekSize = firstWeekMinSize ?? weekInfoFromLocale?.firstWeekSize ?? 1;\n  function firstWeekSize(year) {\n    const yearStart = new Date(year, 0, 1);\n    return 7 - getDiff(yearStart, startOfWeek(yearStart, locale, weekStart), 'days');\n  }\n  let year = getYear(date);\n  const currentWeekEnd = addDays(startOfWeek(date, locale, weekStart), 6);\n  if (year < getYear(currentWeekEnd) && firstWeekSize(year + 1) >= minWeekSize) {\n    year++;\n  }\n  const yearStart = new Date(year, 0, 1);\n  const size = firstWeekSize(year);\n  const d1w1 = size >= minWeekSize ? addDays(yearStart, size - 7) : addDays(yearStart, size);\n  return 1 + getDiff(date, d1w1, 'weeks');\n}\nfunction getDate(date) {\n  return date.getDate();\n}\nfunction getNextMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 1);\n}\nfunction getPreviousMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth() - 1, 1);\n}\nfunction getHours(date) {\n  return date.getHours();\n}\nfunction getMinutes(date) {\n  return date.getMinutes();\n}\nfunction startOfYear(date) {\n  return new Date(date.getFullYear(), 0, 1);\n}\nfunction endOfYear(date) {\n  return new Date(date.getFullYear(), 11, 31);\n}\nfunction isWithinRange(date, range) {\n  return isAfter(date, range[0]) && isBefore(date, range[1]);\n}\nfunction isValid(date) {\n  const d = new Date(date);\n  return d instanceof Date && !isNaN(d.getTime());\n}\nfunction isAfter(date, comparing) {\n  return date.getTime() > comparing.getTime();\n}\nfunction isAfterDay(date, comparing) {\n  return isAfter(startOfDay(date), startOfDay(comparing));\n}\nfunction isBefore(date, comparing) {\n  return date.getTime() < comparing.getTime();\n}\nfunction isEqual(date, comparing) {\n  return date.getTime() === comparing.getTime();\n}\nfunction isSameDay(date, comparing) {\n  return date.getDate() === comparing.getDate() && date.getMonth() === comparing.getMonth() && date.getFullYear() === comparing.getFullYear();\n}\nfunction isSameMonth(date, comparing) {\n  return date.getMonth() === comparing.getMonth() && date.getFullYear() === comparing.getFullYear();\n}\nfunction isSameYear(date, comparing) {\n  return date.getFullYear() === comparing.getFullYear();\n}\nfunction getDiff(date, comparing, unit) {\n  const d = new Date(date);\n  const c = new Date(comparing);\n  switch (unit) {\n    case 'years':\n      return d.getFullYear() - c.getFullYear();\n    case 'quarters':\n      return Math.floor((d.getMonth() - c.getMonth() + (d.getFullYear() - c.getFullYear()) * 12) / 4);\n    case 'months':\n      return d.getMonth() - c.getMonth() + (d.getFullYear() - c.getFullYear()) * 12;\n    case 'weeks':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60 * 60 * 24 * 7));\n    case 'days':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60 * 60 * 24));\n    case 'hours':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60 * 60));\n    case 'minutes':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60));\n    case 'seconds':\n      return Math.floor((d.getTime() - c.getTime()) / 1000);\n    default:\n      {\n        return d.getTime() - c.getTime();\n      }\n  }\n}\nfunction setHours(date, count) {\n  const d = new Date(date);\n  d.setHours(count);\n  return d;\n}\nfunction setMinutes(date, count) {\n  const d = new Date(date);\n  d.setMinutes(count);\n  return d;\n}\nfunction setMonth(date, count) {\n  const d = new Date(date);\n  d.setMonth(count);\n  return d;\n}\nfunction setDate(date, day) {\n  const d = new Date(date);\n  d.setDate(day);\n  return d;\n}\nfunction setYear(date, year) {\n  const d = new Date(date);\n  d.setFullYear(year);\n  return d;\n}\nfunction startOfDay(date) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0, 0);\n}\nfunction endOfDay(date) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate(), 23, 59, 59, 999);\n}\nexport class VuetifyDateAdapter {\n  constructor(options) {\n    this.locale = options.locale;\n    this.formats = options.formats;\n  }\n  date(value) {\n    return date(value);\n  }\n  toJsDate(date) {\n    return date;\n  }\n  toISO(date) {\n    return toISO(this, date);\n  }\n  parseISO(date) {\n    return parseISO(date);\n  }\n  addMinutes(date, amount) {\n    return addMinutes(date, amount);\n  }\n  addHours(date, amount) {\n    return addHours(date, amount);\n  }\n  addDays(date, amount) {\n    return addDays(date, amount);\n  }\n  addWeeks(date, amount) {\n    return addWeeks(date, amount);\n  }\n  addMonths(date, amount) {\n    return addMonths(date, amount);\n  }\n  getWeekArray(date, firstDayOfWeek) {\n    const firstDay = firstDayOfWeek !== undefined ? Number(firstDayOfWeek) : undefined;\n    return getWeekArray(date, this.locale, firstDay);\n  }\n  startOfWeek(date, firstDayOfWeek) {\n    const firstDay = firstDayOfWeek !== undefined ? Number(firstDayOfWeek) : undefined;\n    return startOfWeek(date, this.locale, firstDay);\n  }\n  endOfWeek(date) {\n    return endOfWeek(date, this.locale);\n  }\n  startOfMonth(date) {\n    return startOfMonth(date);\n  }\n  endOfMonth(date) {\n    return endOfMonth(date);\n  }\n  format(date, formatString) {\n    return format(date, formatString, this.locale, this.formats);\n  }\n  isEqual(date, comparing) {\n    return isEqual(date, comparing);\n  }\n  isValid(date) {\n    return isValid(date);\n  }\n  isWithinRange(date, range) {\n    return isWithinRange(date, range);\n  }\n  isAfter(date, comparing) {\n    return isAfter(date, comparing);\n  }\n  isAfterDay(date, comparing) {\n    return isAfterDay(date, comparing);\n  }\n  isBefore(date, comparing) {\n    return !isAfter(date, comparing) && !isEqual(date, comparing);\n  }\n  isSameDay(date, comparing) {\n    return isSameDay(date, comparing);\n  }\n  isSameMonth(date, comparing) {\n    return isSameMonth(date, comparing);\n  }\n  isSameYear(date, comparing) {\n    return isSameYear(date, comparing);\n  }\n  setMinutes(date, count) {\n    return setMinutes(date, count);\n  }\n  setHours(date, count) {\n    return setHours(date, count);\n  }\n  setMonth(date, count) {\n    return setMonth(date, count);\n  }\n  setDate(date, day) {\n    return setDate(date, day);\n  }\n  setYear(date, year) {\n    return setYear(date, year);\n  }\n  getDiff(date, comparing, unit) {\n    return getDiff(date, comparing, unit);\n  }\n  getWeekdays(firstDayOfWeek) {\n    const firstDay = firstDayOfWeek !== undefined ? Number(firstDayOfWeek) : undefined;\n    return getWeekdays(this.locale, firstDay);\n  }\n  getYear(date) {\n    return getYear(date);\n  }\n  getMonth(date) {\n    return getMonth(date);\n  }\n  getWeek(date, firstDayOfWeek, firstWeekMinSize) {\n    const firstDay = firstDayOfWeek !== undefined ? Number(firstDayOfWeek) : undefined;\n    return getWeek(date, this.locale, firstDay, firstWeekMinSize);\n  }\n  getDate(date) {\n    return getDate(date);\n  }\n  getNextMonth(date) {\n    return getNextMonth(date);\n  }\n  getPreviousMonth(date) {\n    return getPreviousMonth(date);\n  }\n  getHours(date) {\n    return getHours(date);\n  }\n  getMinutes(date) {\n    return getMinutes(date);\n  }\n  startOfDay(date) {\n    return startOfDay(date);\n  }\n  endOfDay(date) {\n    return endOfDay(date);\n  }\n  startOfYear(date) {\n    return startOfYear(date);\n  }\n  endOfYear(date) {\n    return endOfYear(date);\n  }\n}\n//# sourceMappingURL=vuetify.js.map","// Composables\nimport { useLocale } from \"../locale.js\"; // Utilities\nimport { inject, reactive, watch } from 'vue';\nimport { mergeDeep } from \"../../util/index.js\"; // Types\n// Adapters\nimport { VuetifyDateAdapter } from \"./adapters/vuetify.js\";\n/** Supports module augmentation to specify date adapter types */\nexport let DateModule;\nexport const DateOptionsSymbol = Symbol.for('vuetify:date-options');\nexport const DateAdapterSymbol = Symbol.for('vuetify:date-adapter');\nexport function createDate(options, locale) {\n  const _options = mergeDeep({\n    adapter: VuetifyDateAdapter,\n    locale: {\n      af: 'af-ZA',\n      // ar: '', # not the same value for all variants\n      bg: 'bg-BG',\n      ca: 'ca-ES',\n      ckb: '',\n      cs: 'cs-CZ',\n      de: 'de-DE',\n      el: 'el-GR',\n      en: 'en-US',\n      // es: '', # not the same value for all variants\n      et: 'et-EE',\n      fa: 'fa-IR',\n      fi: 'fi-FI',\n      // fr: '', #not the same value for all variants\n      hr: 'hr-HR',\n      hu: 'hu-HU',\n      he: 'he-IL',\n      id: 'id-ID',\n      it: 'it-IT',\n      ja: 'ja-JP',\n      ko: 'ko-KR',\n      lv: 'lv-LV',\n      lt: 'lt-LT',\n      nl: 'nl-NL',\n      no: 'no-NO',\n      pl: 'pl-PL',\n      pt: 'pt-PT',\n      ro: 'ro-RO',\n      ru: 'ru-RU',\n      sk: 'sk-SK',\n      sl: 'sl-SI',\n      srCyrl: 'sr-SP',\n      srLatn: 'sr-SP',\n      sv: 'sv-SE',\n      th: 'th-TH',\n      tr: 'tr-TR',\n      az: 'az-AZ',\n      uk: 'uk-UA',\n      vi: 'vi-VN',\n      zhHans: 'zh-CN',\n      zhHant: 'zh-TW'\n    }\n  }, options);\n  return {\n    options: _options,\n    instance: createInstance(_options, locale)\n  };\n}\nfunction createInstance(options, locale) {\n  const instance = reactive(typeof options.adapter === 'function'\n  // eslint-disable-next-line new-cap\n  ? new options.adapter({\n    locale: options.locale[locale.current.value] ?? locale.current.value,\n    formats: options.formats\n  }) : options.adapter);\n  watch(locale.current, value => {\n    instance.locale = options.locale[value] ?? value ?? instance.locale;\n  });\n  return instance;\n}\nexport function useDate() {\n  const options = inject(DateOptionsSymbol);\n  if (!options) throw new Error('[Vuetify] Could not find injected date options');\n  const locale = useLocale();\n  return createInstance(options, locale);\n}\n//# sourceMappingURL=date.js.map","// Composables\nimport { createDate, DateAdapterSymbol, DateOptionsSymbol } from \"./composables/date/date.js\";\nimport { createDefaults, DefaultsSymbol } from \"./composables/defaults.js\";\nimport { createDisplay, DisplaySymbol } from \"./composables/display.js\";\nimport { createGoTo, GoToSymbol } from \"./composables/goto.js\";\nimport { createIcons, IconSymbol } from \"./composables/icons.js\";\nimport { createLocale, LocaleSymbol } from \"./composables/locale.js\";\nimport { createTheme, ThemeSymbol } from \"./composables/theme.js\"; // Utilities\nimport { effectScope, nextTick, reactive } from 'vue';\nimport { defineComponent, IN_BROWSER, mergeDeep } from \"./util/index.js\"; // Types\n// Exports\nexport * from \"./composables/index.js\";\nexport * from \"./types.js\";\nexport function createVuetify() {\n  let vuetify = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    blueprint,\n    ...rest\n  } = vuetify;\n  const options = mergeDeep(blueprint, rest);\n  const {\n    aliases = {},\n    components = {},\n    directives = {}\n  } = options;\n  const scope = effectScope();\n  return scope.run(() => {\n    const defaults = createDefaults(options.defaults);\n    const display = createDisplay(options.display, options.ssr);\n    const theme = createTheme(options.theme);\n    const icons = createIcons(options.icons);\n    const locale = createLocale(options.locale);\n    const date = createDate(options.date, locale);\n    const goTo = createGoTo(options.goTo, locale);\n    function install(app) {\n      for (const key in directives) {\n        app.directive(key, directives[key]);\n      }\n      for (const key in components) {\n        app.component(key, components[key]);\n      }\n      for (const key in aliases) {\n        app.component(key, defineComponent({\n          ...aliases[key],\n          name: key,\n          aliasName: aliases[key].name\n        }));\n      }\n      const appScope = effectScope();\n      appScope.run(() => {\n        theme.install(app);\n      });\n      app.onUnmount(() => appScope.stop());\n      app.provide(DefaultsSymbol, defaults);\n      app.provide(DisplaySymbol, display);\n      app.provide(ThemeSymbol, theme);\n      app.provide(IconSymbol, icons);\n      app.provide(LocaleSymbol, locale);\n      app.provide(DateOptionsSymbol, date.options);\n      app.provide(DateAdapterSymbol, date.instance);\n      app.provide(GoToSymbol, goTo);\n      if (IN_BROWSER && options.ssr) {\n        if (app.$nuxt) {\n          app.$nuxt.hook('app:suspense:resolve', () => {\n            display.update();\n          });\n        } else {\n          const {\n            mount\n          } = app;\n          app.mount = function () {\n            const vm = mount(...arguments);\n            nextTick(() => display.update());\n            app.mount = mount;\n            return vm;\n          };\n        }\n      }\n      if (typeof __VUE_OPTIONS_API__ !== 'boolean' || __VUE_OPTIONS_API__) {\n        app.mixin({\n          computed: {\n            $vuetify() {\n              return reactive({\n                defaults: inject.call(this, DefaultsSymbol),\n                display: inject.call(this, DisplaySymbol),\n                theme: inject.call(this, ThemeSymbol),\n                icons: inject.call(this, IconSymbol),\n                locale: inject.call(this, LocaleSymbol),\n                date: inject.call(this, DateAdapterSymbol)\n              });\n            }\n          }\n        });\n      }\n    }\n    function unmount() {\n      scope.stop();\n    }\n    return {\n      install,\n      unmount,\n      defaults,\n      display,\n      theme,\n      icons,\n      locale,\n      date,\n      goTo\n    };\n  });\n}\nexport const version = \"3.8.4\";\ncreateVuetify.version = version;\n\n// Vue's inject() can only be used in setup\nfunction inject(key) {\n  const vm = this.$;\n  const provides = vm.parent?.provides ?? vm.vnode.appContext?.provides;\n  if (provides && key in provides) {\n    return provides[key];\n  }\n}\n//# sourceMappingURL=framework.js.map","// Icons\nimport { mdi } from \"../iconsets/mdi.js\"; // Types\nexport const md3 = {\n  defaults: {\n    VAppBar: {\n      flat: true\n    },\n    VAutocomplete: {\n      variant: 'outlined'\n    },\n    VBanner: {\n      color: 'primary'\n    },\n    VBottomSheet: {\n      contentClass: 'rounded-t-xl overflow-hidden'\n    },\n    VBtn: {\n      color: 'primary',\n      rounded: 'xl'\n    },\n    VBtnGroup: {\n      rounded: 'xl',\n      VBtn: {\n        rounded: null\n      }\n    },\n    VCard: {\n      rounded: 'lg'\n    },\n    VCheckbox: {\n      color: 'secondary',\n      inset: true\n    },\n    VChip: {\n      rounded: 'sm'\n    },\n    VCombobox: {\n      variant: 'outlined'\n    },\n    VDateInput: {\n      variant: 'outlined'\n    },\n    VDatePicker: {\n      controlHeight: 48,\n      color: 'primary',\n      divided: true,\n      headerColor: '',\n      elevation: 3,\n      rounded: 'xl',\n      VBtn: {\n        color: 'high-emphasis',\n        rounded: 'circle'\n      }\n    },\n    VFileInput: {\n      variant: 'outlined'\n    },\n    VNavigationDrawer: {\n      // VList: {\n      //   nav: true,\n      //   VListItem: {\n      //     rounded: 'xl',\n      //   },\n      // },\n    },\n    VNumberInput: {\n      variant: 'outlined',\n      VBtn: {\n        color: undefined,\n        rounded: undefined\n      }\n    },\n    VSelect: {\n      variant: 'outlined'\n    },\n    VSlider: {\n      color: 'primary'\n    },\n    VTabs: {\n      color: 'primary'\n    },\n    VTextarea: {\n      variant: 'outlined'\n    },\n    VTextField: {\n      variant: 'outlined'\n    },\n    VToolbar: {\n      VBtn: {\n        color: null\n      }\n    }\n  },\n  icons: {\n    defaultSet: 'mdi',\n    sets: {\n      mdi\n    }\n  },\n  theme: {\n    themes: {\n      light: {\n        colors: {\n          primary: '#6750a4',\n          secondary: '#b4b0bb',\n          tertiary: '#7d5260',\n          error: '#b3261e',\n          surface: '#fffbfe'\n        }\n      }\n    }\n  }\n};\n//# sourceMappingURL=md3.js.map","export const red = {\n  base: '#f44336',\n  lighten5: '#ffebee',\n  lighten4: '#ffcdd2',\n  lighten3: '#ef9a9a',\n  lighten2: '#e57373',\n  lighten1: '#ef5350',\n  darken1: '#e53935',\n  darken2: '#d32f2f',\n  darken3: '#c62828',\n  darken4: '#b71c1c',\n  accent1: '#ff8a80',\n  accent2: '#ff5252',\n  accent3: '#ff1744',\n  accent4: '#d50000'\n};\nexport const pink = {\n  base: '#e91e63',\n  lighten5: '#fce4ec',\n  lighten4: '#f8bbd0',\n  lighten3: '#f48fb1',\n  lighten2: '#f06292',\n  lighten1: '#ec407a',\n  darken1: '#d81b60',\n  darken2: '#c2185b',\n  darken3: '#ad1457',\n  darken4: '#880e4f',\n  accent1: '#ff80ab',\n  accent2: '#ff4081',\n  accent3: '#f50057',\n  accent4: '#c51162'\n};\nexport const purple = {\n  base: '#9c27b0',\n  lighten5: '#f3e5f5',\n  lighten4: '#e1bee7',\n  lighten3: '#ce93d8',\n  lighten2: '#ba68c8',\n  lighten1: '#ab47bc',\n  darken1: '#8e24aa',\n  darken2: '#7b1fa2',\n  darken3: '#6a1b9a',\n  darken4: '#4a148c',\n  accent1: '#ea80fc',\n  accent2: '#e040fb',\n  accent3: '#d500f9',\n  accent4: '#aa00ff'\n};\nexport const deepPurple = {\n  base: '#673ab7',\n  lighten5: '#ede7f6',\n  lighten4: '#d1c4e9',\n  lighten3: '#b39ddb',\n  lighten2: '#9575cd',\n  lighten1: '#7e57c2',\n  darken1: '#5e35b1',\n  darken2: '#512da8',\n  darken3: '#4527a0',\n  darken4: '#311b92',\n  accent1: '#b388ff',\n  accent2: '#7c4dff',\n  accent3: '#651fff',\n  accent4: '#6200ea'\n};\nexport const indigo = {\n  base: '#3f51b5',\n  lighten5: '#e8eaf6',\n  lighten4: '#c5cae9',\n  lighten3: '#9fa8da',\n  lighten2: '#7986cb',\n  lighten1: '#5c6bc0',\n  darken1: '#3949ab',\n  darken2: '#303f9f',\n  darken3: '#283593',\n  darken4: '#1a237e',\n  accent1: '#8c9eff',\n  accent2: '#536dfe',\n  accent3: '#3d5afe',\n  accent4: '#304ffe'\n};\nexport const blue = {\n  base: '#2196f3',\n  lighten5: '#e3f2fd',\n  lighten4: '#bbdefb',\n  lighten3: '#90caf9',\n  lighten2: '#64b5f6',\n  lighten1: '#42a5f5',\n  darken1: '#1e88e5',\n  darken2: '#1976d2',\n  darken3: '#1565c0',\n  darken4: '#0d47a1',\n  accent1: '#82b1ff',\n  accent2: '#448aff',\n  accent3: '#2979ff',\n  accent4: '#2962ff'\n};\nexport const lightBlue = {\n  base: '#03a9f4',\n  lighten5: '#e1f5fe',\n  lighten4: '#b3e5fc',\n  lighten3: '#81d4fa',\n  lighten2: '#4fc3f7',\n  lighten1: '#29b6f6',\n  darken1: '#039be5',\n  darken2: '#0288d1',\n  darken3: '#0277bd',\n  darken4: '#01579b',\n  accent1: '#80d8ff',\n  accent2: '#40c4ff',\n  accent3: '#00b0ff',\n  accent4: '#0091ea'\n};\nexport const cyan = {\n  base: '#00bcd4',\n  lighten5: '#e0f7fa',\n  lighten4: '#b2ebf2',\n  lighten3: '#80deea',\n  lighten2: '#4dd0e1',\n  lighten1: '#26c6da',\n  darken1: '#00acc1',\n  darken2: '#0097a7',\n  darken3: '#00838f',\n  darken4: '#006064',\n  accent1: '#84ffff',\n  accent2: '#18ffff',\n  accent3: '#00e5ff',\n  accent4: '#00b8d4'\n};\nexport const teal = {\n  base: '#009688',\n  lighten5: '#e0f2f1',\n  lighten4: '#b2dfdb',\n  lighten3: '#80cbc4',\n  lighten2: '#4db6ac',\n  lighten1: '#26a69a',\n  darken1: '#00897b',\n  darken2: '#00796b',\n  darken3: '#00695c',\n  darken4: '#004d40',\n  accent1: '#a7ffeb',\n  accent2: '#64ffda',\n  accent3: '#1de9b6',\n  accent4: '#00bfa5'\n};\nexport const green = {\n  base: '#4caf50',\n  lighten5: '#e8f5e9',\n  lighten4: '#c8e6c9',\n  lighten3: '#a5d6a7',\n  lighten2: '#81c784',\n  lighten1: '#66bb6a',\n  darken1: '#43a047',\n  darken2: '#388e3c',\n  darken3: '#2e7d32',\n  darken4: '#1b5e20',\n  accent1: '#b9f6ca',\n  accent2: '#69f0ae',\n  accent3: '#00e676',\n  accent4: '#00c853'\n};\nexport const lightGreen = {\n  base: '#8bc34a',\n  lighten5: '#f1f8e9',\n  lighten4: '#dcedc8',\n  lighten3: '#c5e1a5',\n  lighten2: '#aed581',\n  lighten1: '#9ccc65',\n  darken1: '#7cb342',\n  darken2: '#689f38',\n  darken3: '#558b2f',\n  darken4: '#33691e',\n  accent1: '#ccff90',\n  accent2: '#b2ff59',\n  accent3: '#76ff03',\n  accent4: '#64dd17'\n};\nexport const lime = {\n  base: '#cddc39',\n  lighten5: '#f9fbe7',\n  lighten4: '#f0f4c3',\n  lighten3: '#e6ee9c',\n  lighten2: '#dce775',\n  lighten1: '#d4e157',\n  darken1: '#c0ca33',\n  darken2: '#afb42b',\n  darken3: '#9e9d24',\n  darken4: '#827717',\n  accent1: '#f4ff81',\n  accent2: '#eeff41',\n  accent3: '#c6ff00',\n  accent4: '#aeea00'\n};\nexport const yellow = {\n  base: '#ffeb3b',\n  lighten5: '#fffde7',\n  lighten4: '#fff9c4',\n  lighten3: '#fff59d',\n  lighten2: '#fff176',\n  lighten1: '#ffee58',\n  darken1: '#fdd835',\n  darken2: '#fbc02d',\n  darken3: '#f9a825',\n  darken4: '#f57f17',\n  accent1: '#ffff8d',\n  accent2: '#ffff00',\n  accent3: '#ffea00',\n  accent4: '#ffd600'\n};\nexport const amber = {\n  base: '#ffc107',\n  lighten5: '#fff8e1',\n  lighten4: '#ffecb3',\n  lighten3: '#ffe082',\n  lighten2: '#ffd54f',\n  lighten1: '#ffca28',\n  darken1: '#ffb300',\n  darken2: '#ffa000',\n  darken3: '#ff8f00',\n  darken4: '#ff6f00',\n  accent1: '#ffe57f',\n  accent2: '#ffd740',\n  accent3: '#ffc400',\n  accent4: '#ffab00'\n};\nexport const orange = {\n  base: '#ff9800',\n  lighten5: '#fff3e0',\n  lighten4: '#ffe0b2',\n  lighten3: '#ffcc80',\n  lighten2: '#ffb74d',\n  lighten1: '#ffa726',\n  darken1: '#fb8c00',\n  darken2: '#f57c00',\n  darken3: '#ef6c00',\n  darken4: '#e65100',\n  accent1: '#ffd180',\n  accent2: '#ffab40',\n  accent3: '#ff9100',\n  accent4: '#ff6d00'\n};\nexport const deepOrange = {\n  base: '#ff5722',\n  lighten5: '#fbe9e7',\n  lighten4: '#ffccbc',\n  lighten3: '#ffab91',\n  lighten2: '#ff8a65',\n  lighten1: '#ff7043',\n  darken1: '#f4511e',\n  darken2: '#e64a19',\n  darken3: '#d84315',\n  darken4: '#bf360c',\n  accent1: '#ff9e80',\n  accent2: '#ff6e40',\n  accent3: '#ff3d00',\n  accent4: '#dd2c00'\n};\nexport const brown = {\n  base: '#795548',\n  lighten5: '#efebe9',\n  lighten4: '#d7ccc8',\n  lighten3: '#bcaaa4',\n  lighten2: '#a1887f',\n  lighten1: '#8d6e63',\n  darken1: '#6d4c41',\n  darken2: '#5d4037',\n  darken3: '#4e342e',\n  darken4: '#3e2723'\n};\nexport const blueGrey = {\n  base: '#607d8b',\n  lighten5: '#eceff1',\n  lighten4: '#cfd8dc',\n  lighten3: '#b0bec5',\n  lighten2: '#90a4ae',\n  lighten1: '#78909c',\n  darken1: '#546e7a',\n  darken2: '#455a64',\n  darken3: '#37474f',\n  darken4: '#263238'\n};\nexport const grey = {\n  base: '#9e9e9e',\n  lighten5: '#fafafa',\n  lighten4: '#f5f5f5',\n  lighten3: '#eeeeee',\n  lighten2: '#e0e0e0',\n  lighten1: '#bdbdbd',\n  darken1: '#757575',\n  darken2: '#616161',\n  darken3: '#424242',\n  darken4: '#212121'\n};\nexport const shades = {\n  black: '#000000',\n  white: '#ffffff',\n  transparent: '#ffffff00'\n};\nexport default {\n  red,\n  pink,\n  purple,\n  deepPurple,\n  indigo,\n  blue,\n  lightBlue,\n  cyan,\n  teal,\n  green,\n  lightGreen,\n  lime,\n  yellow,\n  amber,\n  orange,\n  deepOrange,\n  brown,\n  blueGrey,\n  grey,\n  shades\n};\n//# sourceMappingURL=colors.js.map","/*!\n  * shared v10.0.7\n  * (c) 2025 kazuya kawaguchi\n  * Released under the MIT License.\n  */\n/**\n * Original Utilities\n * written by kazuya kawaguchi\n */\nconst inBrowser = typeof window !== 'undefined';\nlet mark;\nlet measure;\nif ((process.env.NODE_ENV !== 'production')) {\n    const perf = inBrowser && window.performance;\n    if (perf &&\n        perf.mark &&\n        perf.measure &&\n        perf.clearMarks &&\n        // @ts-ignore browser compat\n        perf.clearMeasures) {\n        mark = (tag) => {\n            perf.mark(tag);\n        };\n        measure = (name, startTag, endTag) => {\n            perf.measure(name, startTag, endTag);\n            perf.clearMarks(startTag);\n            perf.clearMarks(endTag);\n        };\n    }\n}\nconst RE_ARGS = /\\{([0-9a-zA-Z]+)\\}/g;\n/* eslint-disable */\nfunction format(message, ...args) {\n    if (args.length === 1 && isObject(args[0])) {\n        args = args[0];\n    }\n    if (!args || !args.hasOwnProperty) {\n        args = {};\n    }\n    return message.replace(RE_ARGS, (match, identifier) => {\n        return args.hasOwnProperty(identifier) ? args[identifier] : '';\n    });\n}\nconst makeSymbol = (name, shareable = false) => !shareable ? Symbol(name) : Symbol.for(name);\nconst generateFormatCacheKey = (locale, key, source) => friendlyJSONstringify({ l: locale, k: key, s: source });\nconst friendlyJSONstringify = (json) => JSON.stringify(json)\n    .replace(/\\u2028/g, '\\\\u2028')\n    .replace(/\\u2029/g, '\\\\u2029')\n    .replace(/\\u0027/g, '\\\\u0027');\nconst isNumber = (val) => typeof val === 'number' && isFinite(val);\nconst isDate = (val) => toTypeString(val) === '[object Date]';\nconst isRegExp = (val) => toTypeString(val) === '[object RegExp]';\nconst isEmptyObject = (val) => isPlainObject(val) && Object.keys(val).length === 0;\nconst assign = Object.assign;\nconst _create = Object.create;\nconst create = (obj = null) => _create(obj);\nlet _globalThis;\nconst getGlobalThis = () => {\n    // prettier-ignore\n    return (_globalThis ||\n        (_globalThis =\n            typeof globalThis !== 'undefined'\n                ? globalThis\n                : typeof self !== 'undefined'\n                    ? self\n                    : typeof window !== 'undefined'\n                        ? window\n                        : typeof global !== 'undefined'\n                            ? global\n                            : create()));\n};\nfunction escapeHtml(rawText) {\n    return rawText\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&apos;');\n}\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn(obj, key) {\n    return hasOwnProperty.call(obj, key);\n}\n/* eslint-enable */\n/**\n * Useful Utilities By Evan you\n * Modified by kazuya kawaguchi\n * MIT License\n * https://github.com/vuejs/vue-next/blob/master/packages/shared/src/index.ts\n * https://github.com/vuejs/vue-next/blob/master/packages/shared/src/codeframe.ts\n */\nconst isArray = Array.isArray;\nconst isFunction = (val) => typeof val === 'function';\nconst isString = (val) => typeof val === 'string';\nconst isBoolean = (val) => typeof val === 'boolean';\nconst isSymbol = (val) => typeof val === 'symbol';\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isObject = (val) => val !== null && typeof val === 'object';\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isPromise = (val) => {\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst isPlainObject = (val) => toTypeString(val) === '[object Object]';\n// for converting list and named values to displayed strings.\nconst toDisplayString = (val) => {\n    return val == null\n        ? ''\n        : isArray(val) || (isPlainObject(val) && val.toString === objectToString)\n            ? JSON.stringify(val, null, 2)\n            : String(val);\n};\nfunction join(items, separator = '') {\n    return items.reduce((str, item, index) => (index === 0 ? str + item : str + separator + item), '');\n}\nconst RANGE = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n    const lines = source.split(/\\r?\\n/);\n    let count = 0;\n    const res = [];\n    for (let i = 0; i < lines.length; i++) {\n        count += lines[i].length + 1;\n        if (count >= start) {\n            for (let j = i - RANGE; j <= i + RANGE || end > count; j++) {\n                if (j < 0 || j >= lines.length)\n                    continue;\n                const line = j + 1;\n                res.push(`${line}${' '.repeat(3 - String(line).length)}|  ${lines[j]}`);\n                const lineLength = lines[j].length;\n                if (j === i) {\n                    // push underline\n                    const pad = start - (count - lineLength) + 1;\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\n                }\n                else if (j > i) {\n                    if (end > count) {\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\n                        res.push(`   |  ` + '^'.repeat(length));\n                    }\n                    count += lineLength + 1;\n                }\n            }\n            break;\n        }\n    }\n    return res.join('\\n');\n}\n\nfunction warn(msg, err) {\n    if (typeof console !== 'undefined') {\n        console.warn(`[intlify] ` + msg);\n        /* istanbul ignore if */\n        if (err) {\n            console.warn(err.stack);\n        }\n    }\n}\nconst hasWarned = {};\nfunction warnOnce(msg) {\n    if (!hasWarned[msg]) {\n        hasWarned[msg] = true;\n        warn(msg);\n    }\n}\n\n/**\n * Event emitter, forked from the below:\n * - original repository url: https://github.com/developit/mitt\n * - code url: https://github.com/developit/mitt/blob/master/src/index.ts\n * - author: Jason Miller (https://github.com/developit)\n * - license: MIT\n */\n/**\n * Create a event emitter\n *\n * @returns An event emitter\n */\nfunction createEmitter() {\n    const events = new Map();\n    const emitter = {\n        events,\n        on(event, handler) {\n            const handlers = events.get(event);\n            const added = handlers && handlers.push(handler);\n            if (!added) {\n                events.set(event, [handler]);\n            }\n        },\n        off(event, handler) {\n            const handlers = events.get(event);\n            if (handlers) {\n                handlers.splice(handlers.indexOf(handler) >>> 0, 1);\n            }\n        },\n        emit(event, payload) {\n            (events.get(event) || [])\n                .slice()\n                .map(handler => handler(payload));\n            (events.get('*') || [])\n                .slice()\n                .map(handler => handler(event, payload));\n        }\n    };\n    return emitter;\n}\n\nconst isNotObjectOrIsArray = (val) => !isObject(val) || isArray(val);\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction deepCopy(src, des) {\n    // src and des should both be objects, and none of them can be a array\n    if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\n        throw new Error('Invalid value');\n    }\n    const stack = [{ src, des }];\n    while (stack.length) {\n        const { src, des } = stack.pop();\n        // using `Object.keys` which skips prototype properties\n        Object.keys(src).forEach(key => {\n            if (key === '__proto__') {\n                return;\n            }\n            // if src[key] is an object/array, set des[key]\n            // to empty object/array to prevent setting by reference\n            if (isObject(src[key]) && !isObject(des[key])) {\n                des[key] = Array.isArray(src[key]) ? [] : create();\n            }\n            if (isNotObjectOrIsArray(des[key]) || isNotObjectOrIsArray(src[key])) {\n                // replace with src[key] when:\n                // src[key] or des[key] is not an object, or\n                // src[key] or des[key] is an array\n                des[key] = src[key];\n            }\n            else {\n                // src[key] and des[key] are both objects, merge them\n                stack.push({ src: src[key], des: des[key] });\n            }\n        });\n    }\n}\n\nexport { assign, create, createEmitter, deepCopy, escapeHtml, format, friendlyJSONstringify, generateCodeFrame, generateFormatCacheKey, getGlobalThis, hasOwn, inBrowser, isArray, isBoolean, isDate, isEmptyObject, isFunction, isNumber, isObject, isPlainObject, isPromise, isRegExp, isString, isSymbol, join, makeSymbol, mark, measure, objectToString, toDisplayString, toTypeString, warn, warnOnce };\n","/*!\n  * message-compiler v10.0.7\n  * (c) 2025 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { format, assign, join, isString } from '@intlify/shared';\n\nconst LOCATION_STUB = {\n    start: { line: 1, column: 1, offset: 0 },\n    end: { line: 1, column: 1, offset: 0 }\n};\nfunction createPosition(line, column, offset) {\n    return { line, column, offset };\n}\nfunction createLocation(start, end, source) {\n    const loc = { start, end };\n    if (source != null) {\n        loc.source = source;\n    }\n    return loc;\n}\n\nconst CompileErrorCodes = {\n    // tokenizer error codes\n    EXPECTED_TOKEN: 1,\n    INVALID_TOKEN_IN_PLACEHOLDER: 2,\n    UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER: 3,\n    UNKNOWN_ESCAPE_SEQUENCE: 4,\n    INVALID_UNICODE_ESCAPE_SEQUENCE: 5,\n    UNBALANCED_CLOSING_BRACE: 6,\n    UNTERMINATED_CLOSING_BRACE: 7,\n    EMPTY_PLACEHOLDER: 8,\n    NOT_ALLOW_NEST_PLACEHOLDER: 9,\n    INVALID_LINKED_FORMAT: 10,\n    // parser error codes\n    MUST_HAVE_MESSAGES_IN_PLURAL: 11,\n    UNEXPECTED_EMPTY_LINKED_MODIFIER: 12,\n    UNEXPECTED_EMPTY_LINKED_KEY: 13,\n    UNEXPECTED_LEXICAL_ANALYSIS: 14,\n    // generator error codes\n    UNHANDLED_CODEGEN_NODE_TYPE: 15,\n    // minifier error codes\n    UNHANDLED_MINIFIER_NODE_TYPE: 16\n};\n// Special value for higher-order compilers to pick up the last code\n// to avoid collision of error codes.\n// This should always be kept as the last item.\nconst COMPILE_ERROR_CODES_EXTEND_POINT = 17;\n/** @internal */\nconst errorMessages = {\n    // tokenizer error messages\n    [CompileErrorCodes.EXPECTED_TOKEN]: `Expected token: '{0}'`,\n    [CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER]: `Invalid token in placeholder: '{0}'`,\n    [CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]: `Unterminated single quote in placeholder`,\n    [CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE]: `Unknown escape sequence: \\\\{0}`,\n    [CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE]: `Invalid unicode escape sequence: {0}`,\n    [CompileErrorCodes.UNBALANCED_CLOSING_BRACE]: `Unbalanced closing brace`,\n    [CompileErrorCodes.UNTERMINATED_CLOSING_BRACE]: `Unterminated closing brace`,\n    [CompileErrorCodes.EMPTY_PLACEHOLDER]: `Empty placeholder`,\n    [CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER]: `Not allowed nest placeholder`,\n    [CompileErrorCodes.INVALID_LINKED_FORMAT]: `Invalid linked format`,\n    // parser error messages\n    [CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL]: `Plural must have messages`,\n    [CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER]: `Unexpected empty linked modifier`,\n    [CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY]: `Unexpected empty linked key`,\n    [CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS]: `Unexpected lexical analysis in token: '{0}'`,\n    // generator error messages\n    [CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE]: `unhandled codegen node type: '{0}'`,\n    // minimizer error messages\n    [CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE]: `unhandled mimifier node type: '{0}'`\n};\nfunction createCompileError(code, loc, options = {}) {\n    const { domain, messages, args } = options;\n    const msg = (process.env.NODE_ENV !== 'production')\n        ? format((messages || errorMessages)[code] || '', ...(args || []))\n        : code;\n    const error = new SyntaxError(String(msg));\n    error.code = code;\n    if (loc) {\n        error.location = loc;\n    }\n    error.domain = domain;\n    return error;\n}\n/** @internal */\nfunction defaultOnError(error) {\n    throw error;\n}\n\n// eslint-disable-next-line no-useless-escape\nconst RE_HTML_TAG = /<\\/?[\\w\\s=\"/.':;#-\\/]+>/;\nconst detectHtmlTag = (source) => RE_HTML_TAG.test(source);\n\nconst CHAR_SP = ' ';\nconst CHAR_CR = '\\r';\nconst CHAR_LF = '\\n';\nconst CHAR_LS = String.fromCharCode(0x2028);\nconst CHAR_PS = String.fromCharCode(0x2029);\nfunction createScanner(str) {\n    const _buf = str;\n    let _index = 0;\n    let _line = 1;\n    let _column = 1;\n    let _peekOffset = 0;\n    const isCRLF = (index) => _buf[index] === CHAR_CR && _buf[index + 1] === CHAR_LF;\n    const isLF = (index) => _buf[index] === CHAR_LF;\n    const isPS = (index) => _buf[index] === CHAR_PS;\n    const isLS = (index) => _buf[index] === CHAR_LS;\n    const isLineEnd = (index) => isCRLF(index) || isLF(index) || isPS(index) || isLS(index);\n    const index = () => _index;\n    const line = () => _line;\n    const column = () => _column;\n    const peekOffset = () => _peekOffset;\n    const charAt = (offset) => isCRLF(offset) || isPS(offset) || isLS(offset) ? CHAR_LF : _buf[offset];\n    const currentChar = () => charAt(_index);\n    const currentPeek = () => charAt(_index + _peekOffset);\n    function next() {\n        _peekOffset = 0;\n        if (isLineEnd(_index)) {\n            _line++;\n            _column = 0;\n        }\n        if (isCRLF(_index)) {\n            _index++;\n        }\n        _index++;\n        _column++;\n        return _buf[_index];\n    }\n    function peek() {\n        if (isCRLF(_index + _peekOffset)) {\n            _peekOffset++;\n        }\n        _peekOffset++;\n        return _buf[_index + _peekOffset];\n    }\n    function reset() {\n        _index = 0;\n        _line = 1;\n        _column = 1;\n        _peekOffset = 0;\n    }\n    function resetPeek(offset = 0) {\n        _peekOffset = offset;\n    }\n    function skipToPeek() {\n        const target = _index + _peekOffset;\n        while (target !== _index) {\n            next();\n        }\n        _peekOffset = 0;\n    }\n    return {\n        index,\n        line,\n        column,\n        peekOffset,\n        charAt,\n        currentChar,\n        currentPeek,\n        next,\n        peek,\n        reset,\n        resetPeek,\n        skipToPeek\n    };\n}\n\nconst EOF = undefined;\nconst DOT = '.';\nconst LITERAL_DELIMITER = \"'\";\nconst ERROR_DOMAIN$3 = 'tokenizer';\nfunction createTokenizer(source, options = {}) {\n    const location = options.location !== false;\n    const _scnr = createScanner(source);\n    const currentOffset = () => _scnr.index();\n    const currentPosition = () => createPosition(_scnr.line(), _scnr.column(), _scnr.index());\n    const _initLoc = currentPosition();\n    const _initOffset = currentOffset();\n    const _context = {\n        currentType: 13 /* TokenTypes.EOF */,\n        offset: _initOffset,\n        startLoc: _initLoc,\n        endLoc: _initLoc,\n        lastType: 13 /* TokenTypes.EOF */,\n        lastOffset: _initOffset,\n        lastStartLoc: _initLoc,\n        lastEndLoc: _initLoc,\n        braceNest: 0,\n        inLinked: false,\n        text: ''\n    };\n    const context = () => _context;\n    const { onError } = options;\n    function emitError(code, pos, offset, ...args) {\n        const ctx = context();\n        pos.column += offset;\n        pos.offset += offset;\n        if (onError) {\n            const loc = location ? createLocation(ctx.startLoc, pos) : null;\n            const err = createCompileError(code, loc, {\n                domain: ERROR_DOMAIN$3,\n                args\n            });\n            onError(err);\n        }\n    }\n    function getToken(context, type, value) {\n        context.endLoc = currentPosition();\n        context.currentType = type;\n        const token = { type };\n        if (location) {\n            token.loc = createLocation(context.startLoc, context.endLoc);\n        }\n        if (value != null) {\n            token.value = value;\n        }\n        return token;\n    }\n    const getEndToken = (context) => getToken(context, 13 /* TokenTypes.EOF */);\n    function eat(scnr, ch) {\n        if (scnr.currentChar() === ch) {\n            scnr.next();\n            return ch;\n        }\n        else {\n            emitError(CompileErrorCodes.EXPECTED_TOKEN, currentPosition(), 0, ch);\n            return '';\n        }\n    }\n    function peekSpaces(scnr) {\n        let buf = '';\n        while (scnr.currentPeek() === CHAR_SP || scnr.currentPeek() === CHAR_LF) {\n            buf += scnr.currentPeek();\n            scnr.peek();\n        }\n        return buf;\n    }\n    function skipSpaces(scnr) {\n        const buf = peekSpaces(scnr);\n        scnr.skipToPeek();\n        return buf;\n    }\n    function isIdentifierStart(ch) {\n        if (ch === EOF) {\n            return false;\n        }\n        const cc = ch.charCodeAt(0);\n        return ((cc >= 97 && cc <= 122) || // a-z\n            (cc >= 65 && cc <= 90) || // A-Z\n            cc === 95 // _\n        );\n    }\n    function isNumberStart(ch) {\n        if (ch === EOF) {\n            return false;\n        }\n        const cc = ch.charCodeAt(0);\n        return cc >= 48 && cc <= 57; // 0-9\n    }\n    function isNamedIdentifierStart(scnr, context) {\n        const { currentType } = context;\n        if (currentType !== 2 /* TokenTypes.BraceLeft */) {\n            return false;\n        }\n        peekSpaces(scnr);\n        const ret = isIdentifierStart(scnr.currentPeek());\n        scnr.resetPeek();\n        return ret;\n    }\n    function isListIdentifierStart(scnr, context) {\n        const { currentType } = context;\n        if (currentType !== 2 /* TokenTypes.BraceLeft */) {\n            return false;\n        }\n        peekSpaces(scnr);\n        const ch = scnr.currentPeek() === '-' ? scnr.peek() : scnr.currentPeek();\n        const ret = isNumberStart(ch);\n        scnr.resetPeek();\n        return ret;\n    }\n    function isLiteralStart(scnr, context) {\n        const { currentType } = context;\n        if (currentType !== 2 /* TokenTypes.BraceLeft */) {\n            return false;\n        }\n        peekSpaces(scnr);\n        const ret = scnr.currentPeek() === LITERAL_DELIMITER;\n        scnr.resetPeek();\n        return ret;\n    }\n    function isLinkedDotStart(scnr, context) {\n        const { currentType } = context;\n        if (currentType !== 7 /* TokenTypes.LinkedAlias */) {\n            return false;\n        }\n        peekSpaces(scnr);\n        const ret = scnr.currentPeek() === \".\" /* TokenChars.LinkedDot */;\n        scnr.resetPeek();\n        return ret;\n    }\n    function isLinkedModifierStart(scnr, context) {\n        const { currentType } = context;\n        if (currentType !== 8 /* TokenTypes.LinkedDot */) {\n            return false;\n        }\n        peekSpaces(scnr);\n        const ret = isIdentifierStart(scnr.currentPeek());\n        scnr.resetPeek();\n        return ret;\n    }\n    function isLinkedDelimiterStart(scnr, context) {\n        const { currentType } = context;\n        if (!(currentType === 7 /* TokenTypes.LinkedAlias */ ||\n            currentType === 11 /* TokenTypes.LinkedModifier */)) {\n            return false;\n        }\n        peekSpaces(scnr);\n        const ret = scnr.currentPeek() === \":\" /* TokenChars.LinkedDelimiter */;\n        scnr.resetPeek();\n        return ret;\n    }\n    function isLinkedReferStart(scnr, context) {\n        const { currentType } = context;\n        if (currentType !== 9 /* TokenTypes.LinkedDelimiter */) {\n            return false;\n        }\n        const fn = () => {\n            const ch = scnr.currentPeek();\n            if (ch === \"{\" /* TokenChars.BraceLeft */) {\n                return isIdentifierStart(scnr.peek());\n            }\n            else if (ch === \"@\" /* TokenChars.LinkedAlias */ ||\n                ch === \"|\" /* TokenChars.Pipe */ ||\n                ch === \":\" /* TokenChars.LinkedDelimiter */ ||\n                ch === \".\" /* TokenChars.LinkedDot */ ||\n                ch === CHAR_SP ||\n                !ch) {\n                return false;\n            }\n            else if (ch === CHAR_LF) {\n                scnr.peek();\n                return fn();\n            }\n            else {\n                // other characters\n                return isTextStart(scnr, false);\n            }\n        };\n        const ret = fn();\n        scnr.resetPeek();\n        return ret;\n    }\n    function isPluralStart(scnr) {\n        peekSpaces(scnr);\n        const ret = scnr.currentPeek() === \"|\" /* TokenChars.Pipe */;\n        scnr.resetPeek();\n        return ret;\n    }\n    function isTextStart(scnr, reset = true) {\n        const fn = (hasSpace = false, prev = '') => {\n            const ch = scnr.currentPeek();\n            if (ch === \"{\" /* TokenChars.BraceLeft */) {\n                return hasSpace;\n            }\n            else if (ch === \"@\" /* TokenChars.LinkedAlias */ || !ch) {\n                return hasSpace;\n            }\n            else if (ch === \"|\" /* TokenChars.Pipe */) {\n                return !(prev === CHAR_SP || prev === CHAR_LF);\n            }\n            else if (ch === CHAR_SP) {\n                scnr.peek();\n                return fn(true, CHAR_SP);\n            }\n            else if (ch === CHAR_LF) {\n                scnr.peek();\n                return fn(true, CHAR_LF);\n            }\n            else {\n                return true;\n            }\n        };\n        const ret = fn();\n        reset && scnr.resetPeek();\n        return ret;\n    }\n    function takeChar(scnr, fn) {\n        const ch = scnr.currentChar();\n        if (ch === EOF) {\n            return EOF;\n        }\n        if (fn(ch)) {\n            scnr.next();\n            return ch;\n        }\n        return null;\n    }\n    function isIdentifier(ch) {\n        const cc = ch.charCodeAt(0);\n        return ((cc >= 97 && cc <= 122) || // a-z\n            (cc >= 65 && cc <= 90) || // A-Z\n            (cc >= 48 && cc <= 57) || // 0-9\n            cc === 95 || // _\n            cc === 36 // $\n        );\n    }\n    function takeIdentifierChar(scnr) {\n        return takeChar(scnr, isIdentifier);\n    }\n    function isNamedIdentifier(ch) {\n        const cc = ch.charCodeAt(0);\n        return ((cc >= 97 && cc <= 122) || // a-z\n            (cc >= 65 && cc <= 90) || // A-Z\n            (cc >= 48 && cc <= 57) || // 0-9\n            cc === 95 || // _\n            cc === 36 || // $\n            cc === 45 // -\n        );\n    }\n    function takeNamedIdentifierChar(scnr) {\n        return takeChar(scnr, isNamedIdentifier);\n    }\n    function isDigit(ch) {\n        const cc = ch.charCodeAt(0);\n        return cc >= 48 && cc <= 57; // 0-9\n    }\n    function takeDigit(scnr) {\n        return takeChar(scnr, isDigit);\n    }\n    function isHexDigit(ch) {\n        const cc = ch.charCodeAt(0);\n        return ((cc >= 48 && cc <= 57) || // 0-9\n            (cc >= 65 && cc <= 70) || // A-F\n            (cc >= 97 && cc <= 102)); // a-f\n    }\n    function takeHexDigit(scnr) {\n        return takeChar(scnr, isHexDigit);\n    }\n    function getDigits(scnr) {\n        let ch = '';\n        let num = '';\n        while ((ch = takeDigit(scnr))) {\n            num += ch;\n        }\n        return num;\n    }\n    function readText(scnr) {\n        let buf = '';\n        while (true) {\n            const ch = scnr.currentChar();\n            if (ch === \"{\" /* TokenChars.BraceLeft */ ||\n                ch === \"}\" /* TokenChars.BraceRight */ ||\n                ch === \"@\" /* TokenChars.LinkedAlias */ ||\n                ch === \"|\" /* TokenChars.Pipe */ ||\n                !ch) {\n                break;\n            }\n            else if (ch === CHAR_SP || ch === CHAR_LF) {\n                if (isTextStart(scnr)) {\n                    buf += ch;\n                    scnr.next();\n                }\n                else if (isPluralStart(scnr)) {\n                    break;\n                }\n                else {\n                    buf += ch;\n                    scnr.next();\n                }\n            }\n            else {\n                buf += ch;\n                scnr.next();\n            }\n        }\n        return buf;\n    }\n    function readNamedIdentifier(scnr) {\n        skipSpaces(scnr);\n        let ch = '';\n        let name = '';\n        while ((ch = takeNamedIdentifierChar(scnr))) {\n            name += ch;\n        }\n        if (scnr.currentChar() === EOF) {\n            emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\n        }\n        return name;\n    }\n    function readListIdentifier(scnr) {\n        skipSpaces(scnr);\n        let value = '';\n        if (scnr.currentChar() === '-') {\n            scnr.next();\n            value += `-${getDigits(scnr)}`;\n        }\n        else {\n            value += getDigits(scnr);\n        }\n        if (scnr.currentChar() === EOF) {\n            emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\n        }\n        return value;\n    }\n    function isLiteral(ch) {\n        return ch !== LITERAL_DELIMITER && ch !== CHAR_LF;\n    }\n    function readLiteral(scnr) {\n        skipSpaces(scnr);\n        // eslint-disable-next-line no-useless-escape\n        eat(scnr, `\\'`);\n        let ch = '';\n        let literal = '';\n        while ((ch = takeChar(scnr, isLiteral))) {\n            if (ch === '\\\\') {\n                literal += readEscapeSequence(scnr);\n            }\n            else {\n                literal += ch;\n            }\n        }\n        const current = scnr.currentChar();\n        if (current === CHAR_LF || current === EOF) {\n            emitError(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER, currentPosition(), 0);\n            // TODO: Is it correct really?\n            if (current === CHAR_LF) {\n                scnr.next();\n                // eslint-disable-next-line no-useless-escape\n                eat(scnr, `\\'`);\n            }\n            return literal;\n        }\n        // eslint-disable-next-line no-useless-escape\n        eat(scnr, `\\'`);\n        return literal;\n    }\n    function readEscapeSequence(scnr) {\n        const ch = scnr.currentChar();\n        switch (ch) {\n            case '\\\\':\n            case `\\'`: // eslint-disable-line no-useless-escape\n                scnr.next();\n                return `\\\\${ch}`;\n            case 'u':\n                return readUnicodeEscapeSequence(scnr, ch, 4);\n            case 'U':\n                return readUnicodeEscapeSequence(scnr, ch, 6);\n            default:\n                emitError(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE, currentPosition(), 0, ch);\n                return '';\n        }\n    }\n    function readUnicodeEscapeSequence(scnr, unicode, digits) {\n        eat(scnr, unicode);\n        let sequence = '';\n        for (let i = 0; i < digits; i++) {\n            const ch = takeHexDigit(scnr);\n            if (!ch) {\n                emitError(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE, currentPosition(), 0, `\\\\${unicode}${sequence}${scnr.currentChar()}`);\n                break;\n            }\n            sequence += ch;\n        }\n        return `\\\\${unicode}${sequence}`;\n    }\n    function isInvalidIdentifier(ch) {\n        return (ch !== \"{\" /* TokenChars.BraceLeft */ &&\n            ch !== \"}\" /* TokenChars.BraceRight */ &&\n            ch !== CHAR_SP &&\n            ch !== CHAR_LF);\n    }\n    function readInvalidIdentifier(scnr) {\n        skipSpaces(scnr);\n        let ch = '';\n        let identifiers = '';\n        while ((ch = takeChar(scnr, isInvalidIdentifier))) {\n            identifiers += ch;\n        }\n        return identifiers;\n    }\n    function readLinkedModifier(scnr) {\n        let ch = '';\n        let name = '';\n        while ((ch = takeIdentifierChar(scnr))) {\n            name += ch;\n        }\n        return name;\n    }\n    function readLinkedRefer(scnr) {\n        const fn = (buf) => {\n            const ch = scnr.currentChar();\n            if (ch === \"{\" /* TokenChars.BraceLeft */ ||\n                ch === \"@\" /* TokenChars.LinkedAlias */ ||\n                ch === \"|\" /* TokenChars.Pipe */ ||\n                ch === \"(\" /* TokenChars.ParenLeft */ ||\n                ch === \")\" /* TokenChars.ParenRight */ ||\n                !ch) {\n                return buf;\n            }\n            else if (ch === CHAR_SP) {\n                return buf;\n            }\n            else if (ch === CHAR_LF || ch === DOT) {\n                buf += ch;\n                scnr.next();\n                return fn(buf);\n            }\n            else {\n                buf += ch;\n                scnr.next();\n                return fn(buf);\n            }\n        };\n        return fn('');\n    }\n    function readPlural(scnr) {\n        skipSpaces(scnr);\n        const plural = eat(scnr, \"|\" /* TokenChars.Pipe */);\n        skipSpaces(scnr);\n        return plural;\n    }\n    // TODO: We need refactoring of token parsing ...\n    function readTokenInPlaceholder(scnr, context) {\n        let token = null;\n        const ch = scnr.currentChar();\n        switch (ch) {\n            case \"{\" /* TokenChars.BraceLeft */:\n                if (context.braceNest >= 1) {\n                    emitError(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER, currentPosition(), 0);\n                }\n                scnr.next();\n                token = getToken(context, 2 /* TokenTypes.BraceLeft */, \"{\" /* TokenChars.BraceLeft */);\n                skipSpaces(scnr);\n                context.braceNest++;\n                return token;\n            case \"}\" /* TokenChars.BraceRight */:\n                if (context.braceNest > 0 &&\n                    context.currentType === 2 /* TokenTypes.BraceLeft */) {\n                    emitError(CompileErrorCodes.EMPTY_PLACEHOLDER, currentPosition(), 0);\n                }\n                scnr.next();\n                token = getToken(context, 3 /* TokenTypes.BraceRight */, \"}\" /* TokenChars.BraceRight */);\n                context.braceNest--;\n                context.braceNest > 0 && skipSpaces(scnr);\n                if (context.inLinked && context.braceNest === 0) {\n                    context.inLinked = false;\n                }\n                return token;\n            case \"@\" /* TokenChars.LinkedAlias */:\n                if (context.braceNest > 0) {\n                    emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\n                }\n                token = readTokenInLinked(scnr, context) || getEndToken(context);\n                context.braceNest = 0;\n                return token;\n            default: {\n                let validNamedIdentifier = true;\n                let validListIdentifier = true;\n                let validLiteral = true;\n                if (isPluralStart(scnr)) {\n                    if (context.braceNest > 0) {\n                        emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\n                    }\n                    token = getToken(context, 1 /* TokenTypes.Pipe */, readPlural(scnr));\n                    // reset\n                    context.braceNest = 0;\n                    context.inLinked = false;\n                    return token;\n                }\n                if (context.braceNest > 0 &&\n                    (context.currentType === 4 /* TokenTypes.Named */ ||\n                        context.currentType === 5 /* TokenTypes.List */ ||\n                        context.currentType === 6 /* TokenTypes.Literal */)) {\n                    emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\n                    context.braceNest = 0;\n                    return readToken(scnr, context);\n                }\n                if ((validNamedIdentifier = isNamedIdentifierStart(scnr, context))) {\n                    token = getToken(context, 4 /* TokenTypes.Named */, readNamedIdentifier(scnr));\n                    skipSpaces(scnr);\n                    return token;\n                }\n                if ((validListIdentifier = isListIdentifierStart(scnr, context))) {\n                    token = getToken(context, 5 /* TokenTypes.List */, readListIdentifier(scnr));\n                    skipSpaces(scnr);\n                    return token;\n                }\n                if ((validLiteral = isLiteralStart(scnr, context))) {\n                    token = getToken(context, 6 /* TokenTypes.Literal */, readLiteral(scnr));\n                    skipSpaces(scnr);\n                    return token;\n                }\n                if (!validNamedIdentifier && !validListIdentifier && !validLiteral) {\n                    // TODO: we should be re-designed invalid cases, when we will extend message syntax near the future ...\n                    token = getToken(context, 12 /* TokenTypes.InvalidPlace */, readInvalidIdentifier(scnr));\n                    emitError(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER, currentPosition(), 0, token.value);\n                    skipSpaces(scnr);\n                    return token;\n                }\n                break;\n            }\n        }\n        return token;\n    }\n    // TODO: We need refactoring of token parsing ...\n    function readTokenInLinked(scnr, context) {\n        const { currentType } = context;\n        let token = null;\n        const ch = scnr.currentChar();\n        if ((currentType === 7 /* TokenTypes.LinkedAlias */ ||\n            currentType === 8 /* TokenTypes.LinkedDot */ ||\n            currentType === 11 /* TokenTypes.LinkedModifier */ ||\n            currentType === 9 /* TokenTypes.LinkedDelimiter */) &&\n            (ch === CHAR_LF || ch === CHAR_SP)) {\n            emitError(CompileErrorCodes.INVALID_LINKED_FORMAT, currentPosition(), 0);\n        }\n        switch (ch) {\n            case \"@\" /* TokenChars.LinkedAlias */:\n                scnr.next();\n                token = getToken(context, 7 /* TokenTypes.LinkedAlias */, \"@\" /* TokenChars.LinkedAlias */);\n                context.inLinked = true;\n                return token;\n            case \".\" /* TokenChars.LinkedDot */:\n                skipSpaces(scnr);\n                scnr.next();\n                return getToken(context, 8 /* TokenTypes.LinkedDot */, \".\" /* TokenChars.LinkedDot */);\n            case \":\" /* TokenChars.LinkedDelimiter */:\n                skipSpaces(scnr);\n                scnr.next();\n                return getToken(context, 9 /* TokenTypes.LinkedDelimiter */, \":\" /* TokenChars.LinkedDelimiter */);\n            default:\n                if (isPluralStart(scnr)) {\n                    token = getToken(context, 1 /* TokenTypes.Pipe */, readPlural(scnr));\n                    // reset\n                    context.braceNest = 0;\n                    context.inLinked = false;\n                    return token;\n                }\n                if (isLinkedDotStart(scnr, context) ||\n                    isLinkedDelimiterStart(scnr, context)) {\n                    skipSpaces(scnr);\n                    return readTokenInLinked(scnr, context);\n                }\n                if (isLinkedModifierStart(scnr, context)) {\n                    skipSpaces(scnr);\n                    return getToken(context, 11 /* TokenTypes.LinkedModifier */, readLinkedModifier(scnr));\n                }\n                if (isLinkedReferStart(scnr, context)) {\n                    skipSpaces(scnr);\n                    if (ch === \"{\" /* TokenChars.BraceLeft */) {\n                        // scan the placeholder\n                        return readTokenInPlaceholder(scnr, context) || token;\n                    }\n                    else {\n                        return getToken(context, 10 /* TokenTypes.LinkedKey */, readLinkedRefer(scnr));\n                    }\n                }\n                if (currentType === 7 /* TokenTypes.LinkedAlias */) {\n                    emitError(CompileErrorCodes.INVALID_LINKED_FORMAT, currentPosition(), 0);\n                }\n                context.braceNest = 0;\n                context.inLinked = false;\n                return readToken(scnr, context);\n        }\n    }\n    // TODO: We need refactoring of token parsing ...\n    function readToken(scnr, context) {\n        let token = { type: 13 /* TokenTypes.EOF */ };\n        if (context.braceNest > 0) {\n            return readTokenInPlaceholder(scnr, context) || getEndToken(context);\n        }\n        if (context.inLinked) {\n            return readTokenInLinked(scnr, context) || getEndToken(context);\n        }\n        const ch = scnr.currentChar();\n        switch (ch) {\n            case \"{\" /* TokenChars.BraceLeft */:\n                return readTokenInPlaceholder(scnr, context) || getEndToken(context);\n            case \"}\" /* TokenChars.BraceRight */:\n                emitError(CompileErrorCodes.UNBALANCED_CLOSING_BRACE, currentPosition(), 0);\n                scnr.next();\n                return getToken(context, 3 /* TokenTypes.BraceRight */, \"}\" /* TokenChars.BraceRight */);\n            case \"@\" /* TokenChars.LinkedAlias */:\n                return readTokenInLinked(scnr, context) || getEndToken(context);\n            default: {\n                if (isPluralStart(scnr)) {\n                    token = getToken(context, 1 /* TokenTypes.Pipe */, readPlural(scnr));\n                    // reset\n                    context.braceNest = 0;\n                    context.inLinked = false;\n                    return token;\n                }\n                if (isTextStart(scnr)) {\n                    return getToken(context, 0 /* TokenTypes.Text */, readText(scnr));\n                }\n                break;\n            }\n        }\n        return token;\n    }\n    function nextToken() {\n        const { currentType, offset, startLoc, endLoc } = _context;\n        _context.lastType = currentType;\n        _context.lastOffset = offset;\n        _context.lastStartLoc = startLoc;\n        _context.lastEndLoc = endLoc;\n        _context.offset = currentOffset();\n        _context.startLoc = currentPosition();\n        if (_scnr.currentChar() === EOF) {\n            return getToken(_context, 13 /* TokenTypes.EOF */);\n        }\n        return readToken(_scnr, _context);\n    }\n    return {\n        nextToken,\n        currentOffset,\n        currentPosition,\n        context\n    };\n}\n\nconst ERROR_DOMAIN$2 = 'parser';\n// Backslash backslash, backslash quote, uHHHH, UHHHHHH.\nconst KNOWN_ESCAPES = /(?:\\\\\\\\|\\\\'|\\\\u([0-9a-fA-F]{4})|\\\\U([0-9a-fA-F]{6}))/g;\nfunction fromEscapeSequence(match, codePoint4, codePoint6) {\n    switch (match) {\n        case `\\\\\\\\`:\n            return `\\\\`;\n        // eslint-disable-next-line no-useless-escape\n        case `\\\\\\'`:\n            // eslint-disable-next-line no-useless-escape\n            return `\\'`;\n        default: {\n            const codePoint = parseInt(codePoint4 || codePoint6, 16);\n            if (codePoint <= 0xd7ff || codePoint >= 0xe000) {\n                return String.fromCodePoint(codePoint);\n            }\n            // invalid ...\n            // Replace them with U+FFFD REPLACEMENT CHARACTER.\n            return '�';\n        }\n    }\n}\nfunction createParser(options = {}) {\n    const location = options.location !== false;\n    const { onError } = options;\n    function emitError(tokenzer, code, start, offset, ...args) {\n        const end = tokenzer.currentPosition();\n        end.offset += offset;\n        end.column += offset;\n        if (onError) {\n            const loc = location ? createLocation(start, end) : null;\n            const err = createCompileError(code, loc, {\n                domain: ERROR_DOMAIN$2,\n                args\n            });\n            onError(err);\n        }\n    }\n    function startNode(type, offset, loc) {\n        const node = { type };\n        if (location) {\n            node.start = offset;\n            node.end = offset;\n            node.loc = { start: loc, end: loc };\n        }\n        return node;\n    }\n    function endNode(node, offset, pos, type) {\n        if (location) {\n            node.end = offset;\n            if (node.loc) {\n                node.loc.end = pos;\n            }\n        }\n    }\n    function parseText(tokenizer, value) {\n        const context = tokenizer.context();\n        const node = startNode(3 /* NodeTypes.Text */, context.offset, context.startLoc);\n        node.value = value;\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    function parseList(tokenizer, index) {\n        const context = tokenizer.context();\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get brace left loc\n        const node = startNode(5 /* NodeTypes.List */, offset, loc);\n        node.index = parseInt(index, 10);\n        tokenizer.nextToken(); // skip brach right\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    function parseNamed(tokenizer, key) {\n        const context = tokenizer.context();\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get brace left loc\n        const node = startNode(4 /* NodeTypes.Named */, offset, loc);\n        node.key = key;\n        tokenizer.nextToken(); // skip brach right\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    function parseLiteral(tokenizer, value) {\n        const context = tokenizer.context();\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get brace left loc\n        const node = startNode(9 /* NodeTypes.Literal */, offset, loc);\n        node.value = value.replace(KNOWN_ESCAPES, fromEscapeSequence);\n        tokenizer.nextToken(); // skip brach right\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    function parseLinkedModifier(tokenizer) {\n        const token = tokenizer.nextToken();\n        const context = tokenizer.context();\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get linked dot loc\n        const node = startNode(8 /* NodeTypes.LinkedModifier */, offset, loc);\n        if (token.type !== 11 /* TokenTypes.LinkedModifier */) {\n            // empty modifier\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER, context.lastStartLoc, 0);\n            node.value = '';\n            endNode(node, offset, loc);\n            return {\n                nextConsumeToken: token,\n                node\n            };\n        }\n        // check token\n        if (token.value == null) {\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n        }\n        node.value = token.value || '';\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return {\n            node\n        };\n    }\n    function parseLinkedKey(tokenizer, value) {\n        const context = tokenizer.context();\n        const node = startNode(7 /* NodeTypes.LinkedKey */, context.offset, context.startLoc);\n        node.value = value;\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    function parseLinked(tokenizer) {\n        const context = tokenizer.context();\n        const linkedNode = startNode(6 /* NodeTypes.Linked */, context.offset, context.startLoc);\n        let token = tokenizer.nextToken();\n        if (token.type === 8 /* TokenTypes.LinkedDot */) {\n            const parsed = parseLinkedModifier(tokenizer);\n            linkedNode.modifier = parsed.node;\n            token = parsed.nextConsumeToken || tokenizer.nextToken();\n        }\n        // asset check token\n        if (token.type !== 9 /* TokenTypes.LinkedDelimiter */) {\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n        }\n        token = tokenizer.nextToken();\n        // skip brace left\n        if (token.type === 2 /* TokenTypes.BraceLeft */) {\n            token = tokenizer.nextToken();\n        }\n        switch (token.type) {\n            case 10 /* TokenTypes.LinkedKey */:\n                if (token.value == null) {\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                }\n                linkedNode.key = parseLinkedKey(tokenizer, token.value || '');\n                break;\n            case 4 /* TokenTypes.Named */:\n                if (token.value == null) {\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                }\n                linkedNode.key = parseNamed(tokenizer, token.value || '');\n                break;\n            case 5 /* TokenTypes.List */:\n                if (token.value == null) {\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                }\n                linkedNode.key = parseList(tokenizer, token.value || '');\n                break;\n            case 6 /* TokenTypes.Literal */:\n                if (token.value == null) {\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                }\n                linkedNode.key = parseLiteral(tokenizer, token.value || '');\n                break;\n            default: {\n                // empty key\n                emitError(tokenizer, CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY, context.lastStartLoc, 0);\n                const nextContext = tokenizer.context();\n                const emptyLinkedKeyNode = startNode(7 /* NodeTypes.LinkedKey */, nextContext.offset, nextContext.startLoc);\n                emptyLinkedKeyNode.value = '';\n                endNode(emptyLinkedKeyNode, nextContext.offset, nextContext.startLoc);\n                linkedNode.key = emptyLinkedKeyNode;\n                endNode(linkedNode, nextContext.offset, nextContext.startLoc);\n                return {\n                    nextConsumeToken: token,\n                    node: linkedNode\n                };\n            }\n        }\n        endNode(linkedNode, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return {\n            node: linkedNode\n        };\n    }\n    function parseMessage(tokenizer) {\n        const context = tokenizer.context();\n        const startOffset = context.currentType === 1 /* TokenTypes.Pipe */\n            ? tokenizer.currentOffset()\n            : context.offset;\n        const startLoc = context.currentType === 1 /* TokenTypes.Pipe */\n            ? context.endLoc\n            : context.startLoc;\n        const node = startNode(2 /* NodeTypes.Message */, startOffset, startLoc);\n        node.items = [];\n        let nextToken = null;\n        do {\n            const token = nextToken || tokenizer.nextToken();\n            nextToken = null;\n            switch (token.type) {\n                case 0 /* TokenTypes.Text */:\n                    if (token.value == null) {\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                    }\n                    node.items.push(parseText(tokenizer, token.value || ''));\n                    break;\n                case 5 /* TokenTypes.List */:\n                    if (token.value == null) {\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                    }\n                    node.items.push(parseList(tokenizer, token.value || ''));\n                    break;\n                case 4 /* TokenTypes.Named */:\n                    if (token.value == null) {\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                    }\n                    node.items.push(parseNamed(tokenizer, token.value || ''));\n                    break;\n                case 6 /* TokenTypes.Literal */:\n                    if (token.value == null) {\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                    }\n                    node.items.push(parseLiteral(tokenizer, token.value || ''));\n                    break;\n                case 7 /* TokenTypes.LinkedAlias */: {\n                    const parsed = parseLinked(tokenizer);\n                    node.items.push(parsed.node);\n                    nextToken = parsed.nextConsumeToken || null;\n                    break;\n                }\n            }\n        } while (context.currentType !== 13 /* TokenTypes.EOF */ &&\n            context.currentType !== 1 /* TokenTypes.Pipe */);\n        // adjust message node loc\n        const endOffset = context.currentType === 1 /* TokenTypes.Pipe */\n            ? context.lastOffset\n            : tokenizer.currentOffset();\n        const endLoc = context.currentType === 1 /* TokenTypes.Pipe */\n            ? context.lastEndLoc\n            : tokenizer.currentPosition();\n        endNode(node, endOffset, endLoc);\n        return node;\n    }\n    function parsePlural(tokenizer, offset, loc, msgNode) {\n        const context = tokenizer.context();\n        let hasEmptyMessage = msgNode.items.length === 0;\n        const node = startNode(1 /* NodeTypes.Plural */, offset, loc);\n        node.cases = [];\n        node.cases.push(msgNode);\n        do {\n            const msg = parseMessage(tokenizer);\n            if (!hasEmptyMessage) {\n                hasEmptyMessage = msg.items.length === 0;\n            }\n            node.cases.push(msg);\n        } while (context.currentType !== 13 /* TokenTypes.EOF */);\n        if (hasEmptyMessage) {\n            emitError(tokenizer, CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL, loc, 0);\n        }\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    function parseResource(tokenizer) {\n        const context = tokenizer.context();\n        const { offset, startLoc } = context;\n        const msgNode = parseMessage(tokenizer);\n        if (context.currentType === 13 /* TokenTypes.EOF */) {\n            return msgNode;\n        }\n        else {\n            return parsePlural(tokenizer, offset, startLoc, msgNode);\n        }\n    }\n    function parse(source) {\n        const tokenizer = createTokenizer(source, assign({}, options));\n        const context = tokenizer.context();\n        const node = startNode(0 /* NodeTypes.Resource */, context.offset, context.startLoc);\n        if (location && node.loc) {\n            node.loc.source = source;\n        }\n        node.body = parseResource(tokenizer);\n        if (options.onCacheKey) {\n            node.cacheKey = options.onCacheKey(source);\n        }\n        // assert whether achieved to EOF\n        if (context.currentType !== 13 /* TokenTypes.EOF */) {\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, source[context.offset] || '');\n        }\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    return { parse };\n}\nfunction getTokenCaption(token) {\n    if (token.type === 13 /* TokenTypes.EOF */) {\n        return 'EOF';\n    }\n    const name = (token.value || '').replace(/\\r?\\n/gu, '\\\\n');\n    return name.length > 10 ? name.slice(0, 9) + '…' : name;\n}\n\nfunction createTransformer(ast, options = {} // eslint-disable-line\n) {\n    const _context = {\n        ast,\n        helpers: new Set()\n    };\n    const context = () => _context;\n    const helper = (name) => {\n        _context.helpers.add(name);\n        return name;\n    };\n    return { context, helper };\n}\nfunction traverseNodes(nodes, transformer) {\n    for (let i = 0; i < nodes.length; i++) {\n        traverseNode(nodes[i], transformer);\n    }\n}\nfunction traverseNode(node, transformer) {\n    // TODO: if we need pre-hook of transform, should be implemented to here\n    switch (node.type) {\n        case 1 /* NodeTypes.Plural */:\n            traverseNodes(node.cases, transformer);\n            transformer.helper(\"plural\" /* HelperNameMap.PLURAL */);\n            break;\n        case 2 /* NodeTypes.Message */:\n            traverseNodes(node.items, transformer);\n            break;\n        case 6 /* NodeTypes.Linked */: {\n            const linked = node;\n            traverseNode(linked.key, transformer);\n            transformer.helper(\"linked\" /* HelperNameMap.LINKED */);\n            transformer.helper(\"type\" /* HelperNameMap.TYPE */);\n            break;\n        }\n        case 5 /* NodeTypes.List */:\n            transformer.helper(\"interpolate\" /* HelperNameMap.INTERPOLATE */);\n            transformer.helper(\"list\" /* HelperNameMap.LIST */);\n            break;\n        case 4 /* NodeTypes.Named */:\n            transformer.helper(\"interpolate\" /* HelperNameMap.INTERPOLATE */);\n            transformer.helper(\"named\" /* HelperNameMap.NAMED */);\n            break;\n    }\n    // TODO: if we need post-hook of transform, should be implemented to here\n}\n// transform AST\nfunction transform(ast, options = {} // eslint-disable-line\n) {\n    const transformer = createTransformer(ast);\n    transformer.helper(\"normalize\" /* HelperNameMap.NORMALIZE */);\n    // traverse\n    ast.body && traverseNode(ast.body, transformer);\n    // set meta information\n    const context = transformer.context();\n    ast.helpers = Array.from(context.helpers);\n}\n\nfunction optimize(ast) {\n    const body = ast.body;\n    if (body.type === 2 /* NodeTypes.Message */) {\n        optimizeMessageNode(body);\n    }\n    else {\n        body.cases.forEach(c => optimizeMessageNode(c));\n    }\n    return ast;\n}\nfunction optimizeMessageNode(message) {\n    if (message.items.length === 1) {\n        const item = message.items[0];\n        if (item.type === 3 /* NodeTypes.Text */ || item.type === 9 /* NodeTypes.Literal */) {\n            message.static = item.value;\n            delete item.value; // optimization for size\n        }\n    }\n    else {\n        const values = [];\n        for (let i = 0; i < message.items.length; i++) {\n            const item = message.items[i];\n            if (!(item.type === 3 /* NodeTypes.Text */ || item.type === 9 /* NodeTypes.Literal */)) {\n                break;\n            }\n            if (item.value == null) {\n                break;\n            }\n            values.push(item.value);\n        }\n        if (values.length === message.items.length) {\n            message.static = join(values);\n            for (let i = 0; i < message.items.length; i++) {\n                const item = message.items[i];\n                if (item.type === 3 /* NodeTypes.Text */ || item.type === 9 /* NodeTypes.Literal */) {\n                    delete item.value; // optimization for size\n                }\n            }\n        }\n    }\n}\n\nconst ERROR_DOMAIN$1 = 'minifier';\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction minify(node) {\n    node.t = node.type;\n    switch (node.type) {\n        case 0 /* NodeTypes.Resource */: {\n            const resource = node;\n            minify(resource.body);\n            resource.b = resource.body;\n            delete resource.body;\n            break;\n        }\n        case 1 /* NodeTypes.Plural */: {\n            const plural = node;\n            const cases = plural.cases;\n            for (let i = 0; i < cases.length; i++) {\n                minify(cases[i]);\n            }\n            plural.c = cases;\n            delete plural.cases;\n            break;\n        }\n        case 2 /* NodeTypes.Message */: {\n            const message = node;\n            const items = message.items;\n            for (let i = 0; i < items.length; i++) {\n                minify(items[i]);\n            }\n            message.i = items;\n            delete message.items;\n            if (message.static) {\n                message.s = message.static;\n                delete message.static;\n            }\n            break;\n        }\n        case 3 /* NodeTypes.Text */:\n        case 9 /* NodeTypes.Literal */:\n        case 8 /* NodeTypes.LinkedModifier */:\n        case 7 /* NodeTypes.LinkedKey */: {\n            const valueNode = node;\n            if (valueNode.value) {\n                valueNode.v = valueNode.value;\n                delete valueNode.value;\n            }\n            break;\n        }\n        case 6 /* NodeTypes.Linked */: {\n            const linked = node;\n            minify(linked.key);\n            linked.k = linked.key;\n            delete linked.key;\n            if (linked.modifier) {\n                minify(linked.modifier);\n                linked.m = linked.modifier;\n                delete linked.modifier;\n            }\n            break;\n        }\n        case 5 /* NodeTypes.List */: {\n            const list = node;\n            list.i = list.index;\n            delete list.index;\n            break;\n        }\n        case 4 /* NodeTypes.Named */: {\n            const named = node;\n            named.k = named.key;\n            delete named.key;\n            break;\n        }\n        default:\n            if ((process.env.NODE_ENV !== 'production')) {\n                throw createCompileError(CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE, null, {\n                    domain: ERROR_DOMAIN$1,\n                    args: [node.type]\n                });\n            }\n    }\n    delete node.type;\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference types=\"source-map-js\" />\nconst ERROR_DOMAIN = 'parser';\nfunction createCodeGenerator(ast, options) {\n    const { sourceMap, filename, breakLineCode, needIndent: _needIndent } = options;\n    const location = options.location !== false;\n    const _context = {\n        filename,\n        code: '',\n        column: 1,\n        line: 1,\n        offset: 0,\n        map: undefined,\n        breakLineCode,\n        needIndent: _needIndent,\n        indentLevel: 0\n    };\n    if (location && ast.loc) {\n        _context.source = ast.loc.source;\n    }\n    const context = () => _context;\n    function push(code, node) {\n        _context.code += code;\n    }\n    function _newline(n, withBreakLine = true) {\n        const _breakLineCode = withBreakLine ? breakLineCode : '';\n        push(_needIndent ? _breakLineCode + `  `.repeat(n) : _breakLineCode);\n    }\n    function indent(withNewLine = true) {\n        const level = ++_context.indentLevel;\n        withNewLine && _newline(level);\n    }\n    function deindent(withNewLine = true) {\n        const level = --_context.indentLevel;\n        withNewLine && _newline(level);\n    }\n    function newline() {\n        _newline(_context.indentLevel);\n    }\n    const helper = (key) => `_${key}`;\n    const needIndent = () => _context.needIndent;\n    return {\n        context,\n        push,\n        indent,\n        deindent,\n        newline,\n        helper,\n        needIndent\n    };\n}\nfunction generateLinkedNode(generator, node) {\n    const { helper } = generator;\n    generator.push(`${helper(\"linked\" /* HelperNameMap.LINKED */)}(`);\n    generateNode(generator, node.key);\n    if (node.modifier) {\n        generator.push(`, `);\n        generateNode(generator, node.modifier);\n        generator.push(`, _type`);\n    }\n    else {\n        generator.push(`, undefined, _type`);\n    }\n    generator.push(`)`);\n}\nfunction generateMessageNode(generator, node) {\n    const { helper, needIndent } = generator;\n    generator.push(`${helper(\"normalize\" /* HelperNameMap.NORMALIZE */)}([`);\n    generator.indent(needIndent());\n    const length = node.items.length;\n    for (let i = 0; i < length; i++) {\n        generateNode(generator, node.items[i]);\n        if (i === length - 1) {\n            break;\n        }\n        generator.push(', ');\n    }\n    generator.deindent(needIndent());\n    generator.push('])');\n}\nfunction generatePluralNode(generator, node) {\n    const { helper, needIndent } = generator;\n    if (node.cases.length > 1) {\n        generator.push(`${helper(\"plural\" /* HelperNameMap.PLURAL */)}([`);\n        generator.indent(needIndent());\n        const length = node.cases.length;\n        for (let i = 0; i < length; i++) {\n            generateNode(generator, node.cases[i]);\n            if (i === length - 1) {\n                break;\n            }\n            generator.push(', ');\n        }\n        generator.deindent(needIndent());\n        generator.push(`])`);\n    }\n}\nfunction generateResource(generator, node) {\n    if (node.body) {\n        generateNode(generator, node.body);\n    }\n    else {\n        generator.push('null');\n    }\n}\nfunction generateNode(generator, node) {\n    const { helper } = generator;\n    switch (node.type) {\n        case 0 /* NodeTypes.Resource */:\n            generateResource(generator, node);\n            break;\n        case 1 /* NodeTypes.Plural */:\n            generatePluralNode(generator, node);\n            break;\n        case 2 /* NodeTypes.Message */:\n            generateMessageNode(generator, node);\n            break;\n        case 6 /* NodeTypes.Linked */:\n            generateLinkedNode(generator, node);\n            break;\n        case 8 /* NodeTypes.LinkedModifier */:\n            generator.push(JSON.stringify(node.value), node);\n            break;\n        case 7 /* NodeTypes.LinkedKey */:\n            generator.push(JSON.stringify(node.value), node);\n            break;\n        case 5 /* NodeTypes.List */:\n            generator.push(`${helper(\"interpolate\" /* HelperNameMap.INTERPOLATE */)}(${helper(\"list\" /* HelperNameMap.LIST */)}(${node.index}))`, node);\n            break;\n        case 4 /* NodeTypes.Named */:\n            generator.push(`${helper(\"interpolate\" /* HelperNameMap.INTERPOLATE */)}(${helper(\"named\" /* HelperNameMap.NAMED */)}(${JSON.stringify(node.key)}))`, node);\n            break;\n        case 9 /* NodeTypes.Literal */:\n            generator.push(JSON.stringify(node.value), node);\n            break;\n        case 3 /* NodeTypes.Text */:\n            generator.push(JSON.stringify(node.value), node);\n            break;\n        default:\n            if ((process.env.NODE_ENV !== 'production')) {\n                throw createCompileError(CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE, null, {\n                    domain: ERROR_DOMAIN,\n                    args: [node.type]\n                });\n            }\n    }\n}\n// generate code from AST\nconst generate = (ast, options = {}) => {\n    const mode = isString(options.mode) ? options.mode : 'normal';\n    const filename = isString(options.filename)\n        ? options.filename\n        : 'message.intl';\n    const sourceMap = !!options.sourceMap;\n    // prettier-ignore\n    const breakLineCode = options.breakLineCode != null\n        ? options.breakLineCode\n        : mode === 'arrow'\n            ? ';'\n            : '\\n';\n    const needIndent = options.needIndent ? options.needIndent : mode !== 'arrow';\n    const helpers = ast.helpers || [];\n    const generator = createCodeGenerator(ast, {\n        mode,\n        filename,\n        sourceMap,\n        breakLineCode,\n        needIndent\n    });\n    generator.push(mode === 'normal' ? `function __msg__ (ctx) {` : `(ctx) => {`);\n    generator.indent(needIndent);\n    if (helpers.length > 0) {\n        generator.push(`const { ${join(helpers.map(s => `${s}: _${s}`), ', ')} } = ctx`);\n        generator.newline();\n    }\n    generator.push(`return `);\n    generateNode(generator, ast);\n    generator.deindent(needIndent);\n    generator.push(`}`);\n    delete ast.helpers;\n    const { code, map } = generator.context();\n    return {\n        ast,\n        code,\n        map: map ? map.toJSON() : undefined // eslint-disable-line @typescript-eslint/no-explicit-any\n    };\n};\n\nfunction baseCompile(source, options = {}) {\n    const assignedOptions = assign({}, options);\n    const jit = !!assignedOptions.jit;\n    const enalbeMinify = !!assignedOptions.minify;\n    const enambeOptimize = assignedOptions.optimize == null ? true : assignedOptions.optimize;\n    // parse source codes\n    const parser = createParser(assignedOptions);\n    const ast = parser.parse(source);\n    if (!jit) {\n        // transform ASTs\n        transform(ast, assignedOptions);\n        // generate javascript codes\n        return generate(ast, assignedOptions);\n    }\n    else {\n        // optimize ASTs\n        enambeOptimize && optimize(ast);\n        // minimize ASTs\n        enalbeMinify && minify(ast);\n        // In JIT mode, no ast transform, no code generation.\n        return { ast, code: '' };\n    }\n}\n\nexport { COMPILE_ERROR_CODES_EXTEND_POINT, CompileErrorCodes, ERROR_DOMAIN$2 as ERROR_DOMAIN, LOCATION_STUB, baseCompile, createCompileError, createLocation, createParser, createPosition, defaultOnError, detectHtmlTag, errorMessages };\n","/*!\n  * core-base v10.0.7\n  * (c) 2025 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { getGlobalThis, isObject, hasOwn, isNumber, create, isString, isBoolean, warn, format as format$1, isFunction, isPromise, isArray, isPlainObject, assign, isRegExp, warnOnce, isEmptyObject, isDate, join, toDisplayString, escapeHtml, inBrowser, mark, measure, generateCodeFrame, generateFormatCacheKey } from '@intlify/shared';\nimport { detectHtmlTag, defaultOnError, baseCompile as baseCompile$1, COMPILE_ERROR_CODES_EXTEND_POINT, createCompileError } from '@intlify/message-compiler';\nexport { CompileErrorCodes, createCompileError } from '@intlify/message-compiler';\n\n/**\n * This is only called in esm-bundler builds.\n * istanbul-ignore-next\n */\nfunction initFeatureFlags() {\n    if (typeof __INTLIFY_PROD_DEVTOOLS__ !== 'boolean') {\n        getGlobalThis().__INTLIFY_PROD_DEVTOOLS__ = false;\n    }\n    if (typeof __INTLIFY_DROP_MESSAGE_COMPILER__ !== 'boolean') {\n        getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__ = false;\n    }\n}\n\nfunction isMessageAST(val) {\n    return (isObject(val) &&\n        resolveType(val) === 0 &&\n        (hasOwn(val, 'b') || hasOwn(val, 'body')));\n}\nconst PROPS_BODY = ['b', 'body'];\nfunction resolveBody(node) {\n    return resolveProps(node, PROPS_BODY);\n}\nconst PROPS_CASES = ['c', 'cases'];\nfunction resolveCases(node) {\n    return resolveProps(node, PROPS_CASES, []);\n}\nconst PROPS_STATIC = ['s', 'static'];\nfunction resolveStatic(node) {\n    return resolveProps(node, PROPS_STATIC);\n}\nconst PROPS_ITEMS = ['i', 'items'];\nfunction resolveItems(node) {\n    return resolveProps(node, PROPS_ITEMS, []);\n}\nconst PROPS_TYPE = ['t', 'type'];\nfunction resolveType(node) {\n    return resolveProps(node, PROPS_TYPE);\n}\nconst PROPS_VALUE = ['v', 'value'];\nfunction resolveValue$1(node, type) {\n    const resolved = resolveProps(node, PROPS_VALUE);\n    if (resolved != null) {\n        return resolved;\n    }\n    else {\n        throw createUnhandleNodeError(type);\n    }\n}\nconst PROPS_MODIFIER = ['m', 'modifier'];\nfunction resolveLinkedModifier(node) {\n    return resolveProps(node, PROPS_MODIFIER);\n}\nconst PROPS_KEY = ['k', 'key'];\nfunction resolveLinkedKey(node) {\n    const resolved = resolveProps(node, PROPS_KEY);\n    if (resolved) {\n        return resolved;\n    }\n    else {\n        throw createUnhandleNodeError(6 /* NodeTypes.Linked */);\n    }\n}\nfunction resolveProps(node, props, defaultValue) {\n    for (let i = 0; i < props.length; i++) {\n        const prop = props[i];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (hasOwn(node, prop) && node[prop] != null) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return node[prop];\n        }\n    }\n    return defaultValue;\n}\nconst AST_NODE_PROPS_KEYS = [\n    ...PROPS_BODY,\n    ...PROPS_CASES,\n    ...PROPS_STATIC,\n    ...PROPS_ITEMS,\n    ...PROPS_KEY,\n    ...PROPS_MODIFIER,\n    ...PROPS_VALUE,\n    ...PROPS_TYPE\n];\nfunction createUnhandleNodeError(type) {\n    return new Error(`unhandled node type: ${type}`);\n}\n\nfunction format(ast) {\n    const msg = (ctx) => formatParts(ctx, ast);\n    return msg;\n}\nfunction formatParts(ctx, ast) {\n    const body = resolveBody(ast);\n    if (body == null) {\n        throw createUnhandleNodeError(0 /* NodeTypes.Resource */);\n    }\n    const type = resolveType(body);\n    if (type === 1 /* NodeTypes.Plural */) {\n        const plural = body;\n        const cases = resolveCases(plural);\n        return ctx.plural(cases.reduce((messages, c) => [\n            ...messages,\n            formatMessageParts(ctx, c)\n        ], []));\n    }\n    else {\n        return formatMessageParts(ctx, body);\n    }\n}\nfunction formatMessageParts(ctx, node) {\n    const static_ = resolveStatic(node);\n    if (static_ != null) {\n        return ctx.type === 'text'\n            ? static_\n            : ctx.normalize([static_]);\n    }\n    else {\n        const messages = resolveItems(node).reduce((acm, c) => [...acm, formatMessagePart(ctx, c)], []);\n        return ctx.normalize(messages);\n    }\n}\nfunction formatMessagePart(ctx, node) {\n    const type = resolveType(node);\n    switch (type) {\n        case 3 /* NodeTypes.Text */: {\n            return resolveValue$1(node, type);\n        }\n        case 9 /* NodeTypes.Literal */: {\n            return resolveValue$1(node, type);\n        }\n        case 4 /* NodeTypes.Named */: {\n            const named = node;\n            if (hasOwn(named, 'k') && named.k) {\n                return ctx.interpolate(ctx.named(named.k));\n            }\n            if (hasOwn(named, 'key') && named.key) {\n                return ctx.interpolate(ctx.named(named.key));\n            }\n            throw createUnhandleNodeError(type);\n        }\n        case 5 /* NodeTypes.List */: {\n            const list = node;\n            if (hasOwn(list, 'i') && isNumber(list.i)) {\n                return ctx.interpolate(ctx.list(list.i));\n            }\n            if (hasOwn(list, 'index') && isNumber(list.index)) {\n                return ctx.interpolate(ctx.list(list.index));\n            }\n            throw createUnhandleNodeError(type);\n        }\n        case 6 /* NodeTypes.Linked */: {\n            const linked = node;\n            const modifier = resolveLinkedModifier(linked);\n            const key = resolveLinkedKey(linked);\n            return ctx.linked(formatMessagePart(ctx, key), modifier ? formatMessagePart(ctx, modifier) : undefined, ctx.type);\n        }\n        case 7 /* NodeTypes.LinkedKey */: {\n            return resolveValue$1(node, type);\n        }\n        case 8 /* NodeTypes.LinkedModifier */: {\n            return resolveValue$1(node, type);\n        }\n        default:\n            throw new Error(`unhandled node on format message part: ${type}`);\n    }\n}\n\nconst WARN_MESSAGE = `Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.`;\nfunction checkHtmlMessage(source, warnHtmlMessage) {\n    if (warnHtmlMessage && detectHtmlTag(source)) {\n        warn(format$1(WARN_MESSAGE, { source }));\n    }\n}\nconst defaultOnCacheKey = (message) => message;\nlet compileCache = create();\nfunction clearCompileCache() {\n    compileCache = create();\n}\nfunction baseCompile(message, options = {}) {\n    // error detecting on compile\n    let detectError = false;\n    const onError = options.onError || defaultOnError;\n    options.onError = (err) => {\n        detectError = true;\n        onError(err);\n    };\n    // compile with mesasge-compiler\n    return { ...baseCompile$1(message, options), detectError };\n}\n/* #__NO_SIDE_EFFECTS__ */\nfunction compile(message, context) {\n    if ((!__INTLIFY_DROP_MESSAGE_COMPILER__) &&\n        isString(message)) {\n        // check HTML message\n        const warnHtmlMessage = isBoolean(context.warnHtmlMessage)\n            ? context.warnHtmlMessage\n            : true;\n        (process.env.NODE_ENV !== 'production') && checkHtmlMessage(message, warnHtmlMessage);\n        // check caches\n        const onCacheKey = context.onCacheKey || defaultOnCacheKey;\n        const cacheKey = onCacheKey(message);\n        const cached = compileCache[cacheKey];\n        if (cached) {\n            return cached;\n        }\n        // compile with JIT mode\n        const { ast, detectError } = baseCompile(message, {\n            ...context,\n            location: (process.env.NODE_ENV !== 'production'),\n            jit: true\n        });\n        // compose message function from AST\n        const msg = format(ast);\n        // if occurred compile error, don't cache\n        return !detectError\n            ? (compileCache[cacheKey] = msg)\n            : msg;\n    }\n    else {\n        if ((process.env.NODE_ENV !== 'production') && !isMessageAST(message)) {\n            warn(`the message that is resolve with key '${context.key}' is not supported for jit compilation`);\n            return (() => message);\n        }\n        // AST case (passed from bundler)\n        const cacheKey = message.cacheKey;\n        if (cacheKey) {\n            const cached = compileCache[cacheKey];\n            if (cached) {\n                return cached;\n            }\n            // compose message function from message (AST)\n            return (compileCache[cacheKey] =\n                format(message));\n        }\n        else {\n            return format(message);\n        }\n    }\n}\n\nlet devtools = null;\nfunction setDevToolsHook(hook) {\n    devtools = hook;\n}\nfunction getDevToolsHook() {\n    return devtools;\n}\nfunction initI18nDevTools(i18n, version, meta) {\n    // TODO: queue if devtools is undefined\n    devtools &&\n        devtools.emit('i18n:init', {\n            timestamp: Date.now(),\n            i18n,\n            version,\n            meta\n        });\n}\nconst translateDevTools = \n/* #__PURE__*/ createDevToolsHook('function:translate');\nfunction createDevToolsHook(hook) {\n    return (payloads) => devtools && devtools.emit(hook, payloads);\n}\n\nconst CoreErrorCodes = {\n    INVALID_ARGUMENT: COMPILE_ERROR_CODES_EXTEND_POINT, // 17\n    INVALID_DATE_ARGUMENT: 18,\n    INVALID_ISO_DATE_ARGUMENT: 19,\n    NOT_SUPPORT_NON_STRING_MESSAGE: 20,\n    NOT_SUPPORT_LOCALE_PROMISE_VALUE: 21,\n    NOT_SUPPORT_LOCALE_ASYNC_FUNCTION: 22,\n    NOT_SUPPORT_LOCALE_TYPE: 23\n};\nconst CORE_ERROR_CODES_EXTEND_POINT = 24;\nfunction createCoreError(code) {\n    return createCompileError(code, null, (process.env.NODE_ENV !== 'production') ? { messages: errorMessages } : undefined);\n}\n/** @internal */\nconst errorMessages = {\n    [CoreErrorCodes.INVALID_ARGUMENT]: 'Invalid arguments',\n    [CoreErrorCodes.INVALID_DATE_ARGUMENT]: 'The date provided is an invalid Date object.' +\n        'Make sure your Date represents a valid date.',\n    [CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT]: 'The argument provided is not a valid ISO date string',\n    [CoreErrorCodes.NOT_SUPPORT_NON_STRING_MESSAGE]: 'Not support non-string message',\n    [CoreErrorCodes.NOT_SUPPORT_LOCALE_PROMISE_VALUE]: 'cannot support promise value',\n    [CoreErrorCodes.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION]: 'cannot support async function',\n    [CoreErrorCodes.NOT_SUPPORT_LOCALE_TYPE]: 'cannot support locale type'\n};\n\n/** @internal */\nfunction getLocale(context, options) {\n    return options.locale != null\n        ? resolveLocale(options.locale)\n        : resolveLocale(context.locale);\n}\nlet _resolveLocale;\n/** @internal */\nfunction resolveLocale(locale) {\n    if (isString(locale)) {\n        return locale;\n    }\n    else {\n        if (isFunction(locale)) {\n            if (locale.resolvedOnce && _resolveLocale != null) {\n                return _resolveLocale;\n            }\n            else if (locale.constructor.name === 'Function') {\n                const resolve = locale();\n                if (isPromise(resolve)) {\n                    throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_PROMISE_VALUE);\n                }\n                return (_resolveLocale = resolve);\n            }\n            else {\n                throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION);\n            }\n        }\n        else {\n            throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_TYPE);\n        }\n    }\n}\n/**\n * Fallback with simple implemenation\n *\n * @remarks\n * A fallback locale function implemented with a simple fallback algorithm.\n *\n * Basically, it returns the value as specified in the `fallbackLocale` props, and is processed with the fallback inside intlify.\n *\n * @param ctx - A {@link CoreContext | context}\n * @param fallback - A {@link FallbackLocale | fallback locale}\n * @param start - A starting {@link Locale | locale}\n *\n * @returns Fallback locales\n *\n * @VueI18nGeneral\n */\nfunction fallbackWithSimple(ctx, fallback, start) {\n    // prettier-ignore\n    return [...new Set([\n            start,\n            ...(isArray(fallback)\n                ? fallback\n                : isObject(fallback)\n                    ? Object.keys(fallback)\n                    : isString(fallback)\n                        ? [fallback]\n                        : [start])\n        ])];\n}\n/**\n * Fallback with locale chain\n *\n * @remarks\n * A fallback locale function implemented with a fallback chain algorithm. It's used in VueI18n as default.\n *\n * @param ctx - A {@link CoreContext | context}\n * @param fallback - A {@link FallbackLocale | fallback locale}\n * @param start - A starting {@link Locale | locale}\n *\n * @returns Fallback locales\n *\n * @VueI18nSee [Fallbacking](../guide/essentials/fallback)\n *\n * @VueI18nGeneral\n */\nfunction fallbackWithLocaleChain(ctx, fallback, start) {\n    const startLocale = isString(start) ? start : DEFAULT_LOCALE;\n    const context = ctx;\n    if (!context.__localeChainCache) {\n        context.__localeChainCache = new Map();\n    }\n    let chain = context.__localeChainCache.get(startLocale);\n    if (!chain) {\n        chain = [];\n        // first block defined by start\n        let block = [start];\n        // while any intervening block found\n        while (isArray(block)) {\n            block = appendBlockToChain(chain, block, fallback);\n        }\n        // prettier-ignore\n        // last block defined by default\n        const defaults = isArray(fallback) || !isPlainObject(fallback)\n            ? fallback\n            : fallback['default']\n                ? fallback['default']\n                : null;\n        // convert defaults to array\n        block = isString(defaults) ? [defaults] : defaults;\n        if (isArray(block)) {\n            appendBlockToChain(chain, block, false);\n        }\n        context.__localeChainCache.set(startLocale, chain);\n    }\n    return chain;\n}\nfunction appendBlockToChain(chain, block, blocks) {\n    let follow = true;\n    for (let i = 0; i < block.length && isBoolean(follow); i++) {\n        const locale = block[i];\n        if (isString(locale)) {\n            follow = appendLocaleToChain(chain, block[i], blocks);\n        }\n    }\n    return follow;\n}\nfunction appendLocaleToChain(chain, locale, blocks) {\n    let follow;\n    const tokens = locale.split('-');\n    do {\n        const target = tokens.join('-');\n        follow = appendItemToChain(chain, target, blocks);\n        tokens.splice(-1, 1);\n    } while (tokens.length && follow === true);\n    return follow;\n}\nfunction appendItemToChain(chain, target, blocks) {\n    let follow = false;\n    if (!chain.includes(target)) {\n        follow = true;\n        if (target) {\n            follow = target[target.length - 1] !== '!';\n            const locale = target.replace(/!/g, '');\n            chain.push(locale);\n            if ((isArray(blocks) || isPlainObject(blocks)) &&\n                blocks[locale] // eslint-disable-line @typescript-eslint/no-explicit-any\n            ) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                follow = blocks[locale];\n            }\n        }\n    }\n    return follow;\n}\n\nconst pathStateMachine = [];\npathStateMachine[0 /* States.BEFORE_PATH */] = {\n    [\"w\" /* PathCharTypes.WORKSPACE */]: [0 /* States.BEFORE_PATH */],\n    [\"i\" /* PathCharTypes.IDENT */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */],\n    [\"[\" /* PathCharTypes.LEFT_BRACKET */]: [4 /* States.IN_SUB_PATH */],\n    [\"o\" /* PathCharTypes.END_OF_FAIL */]: [7 /* States.AFTER_PATH */]\n};\npathStateMachine[1 /* States.IN_PATH */] = {\n    [\"w\" /* PathCharTypes.WORKSPACE */]: [1 /* States.IN_PATH */],\n    [\".\" /* PathCharTypes.DOT */]: [2 /* States.BEFORE_IDENT */],\n    [\"[\" /* PathCharTypes.LEFT_BRACKET */]: [4 /* States.IN_SUB_PATH */],\n    [\"o\" /* PathCharTypes.END_OF_FAIL */]: [7 /* States.AFTER_PATH */]\n};\npathStateMachine[2 /* States.BEFORE_IDENT */] = {\n    [\"w\" /* PathCharTypes.WORKSPACE */]: [2 /* States.BEFORE_IDENT */],\n    [\"i\" /* PathCharTypes.IDENT */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */],\n    [\"0\" /* PathCharTypes.ZERO */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */]\n};\npathStateMachine[3 /* States.IN_IDENT */] = {\n    [\"i\" /* PathCharTypes.IDENT */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */],\n    [\"0\" /* PathCharTypes.ZERO */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */],\n    [\"w\" /* PathCharTypes.WORKSPACE */]: [1 /* States.IN_PATH */, 1 /* Actions.PUSH */],\n    [\".\" /* PathCharTypes.DOT */]: [2 /* States.BEFORE_IDENT */, 1 /* Actions.PUSH */],\n    [\"[\" /* PathCharTypes.LEFT_BRACKET */]: [4 /* States.IN_SUB_PATH */, 1 /* Actions.PUSH */],\n    [\"o\" /* PathCharTypes.END_OF_FAIL */]: [7 /* States.AFTER_PATH */, 1 /* Actions.PUSH */]\n};\npathStateMachine[4 /* States.IN_SUB_PATH */] = {\n    [\"'\" /* PathCharTypes.SINGLE_QUOTE */]: [5 /* States.IN_SINGLE_QUOTE */, 0 /* Actions.APPEND */],\n    [\"\\\"\" /* PathCharTypes.DOUBLE_QUOTE */]: [6 /* States.IN_DOUBLE_QUOTE */, 0 /* Actions.APPEND */],\n    [\"[\" /* PathCharTypes.LEFT_BRACKET */]: [\n        4 /* States.IN_SUB_PATH */,\n        2 /* Actions.INC_SUB_PATH_DEPTH */\n    ],\n    [\"]\" /* PathCharTypes.RIGHT_BRACKET */]: [1 /* States.IN_PATH */, 3 /* Actions.PUSH_SUB_PATH */],\n    [\"o\" /* PathCharTypes.END_OF_FAIL */]: 8 /* States.ERROR */,\n    [\"l\" /* PathCharTypes.ELSE */]: [4 /* States.IN_SUB_PATH */, 0 /* Actions.APPEND */]\n};\npathStateMachine[5 /* States.IN_SINGLE_QUOTE */] = {\n    [\"'\" /* PathCharTypes.SINGLE_QUOTE */]: [4 /* States.IN_SUB_PATH */, 0 /* Actions.APPEND */],\n    [\"o\" /* PathCharTypes.END_OF_FAIL */]: 8 /* States.ERROR */,\n    [\"l\" /* PathCharTypes.ELSE */]: [5 /* States.IN_SINGLE_QUOTE */, 0 /* Actions.APPEND */]\n};\npathStateMachine[6 /* States.IN_DOUBLE_QUOTE */] = {\n    [\"\\\"\" /* PathCharTypes.DOUBLE_QUOTE */]: [4 /* States.IN_SUB_PATH */, 0 /* Actions.APPEND */],\n    [\"o\" /* PathCharTypes.END_OF_FAIL */]: 8 /* States.ERROR */,\n    [\"l\" /* PathCharTypes.ELSE */]: [6 /* States.IN_DOUBLE_QUOTE */, 0 /* Actions.APPEND */]\n};\n/**\n * Check if an expression is a literal value.\n */\nconst literalValueRE = /^\\s?(?:true|false|-?[\\d.]+|'[^']*'|\"[^\"]*\")\\s?$/;\nfunction isLiteral(exp) {\n    return literalValueRE.test(exp);\n}\n/**\n * Strip quotes from a string\n */\nfunction stripQuotes(str) {\n    const a = str.charCodeAt(0);\n    const b = str.charCodeAt(str.length - 1);\n    return a === b && (a === 0x22 || a === 0x27) ? str.slice(1, -1) : str;\n}\n/**\n * Determine the type of a character in a keypath.\n */\nfunction getPathCharType(ch) {\n    if (ch === undefined || ch === null) {\n        return \"o\" /* PathCharTypes.END_OF_FAIL */;\n    }\n    const code = ch.charCodeAt(0);\n    switch (code) {\n        case 0x5b: // [\n        case 0x5d: // ]\n        case 0x2e: // .\n        case 0x22: // \"\n        case 0x27: // '\n            return ch;\n        case 0x5f: // _\n        case 0x24: // $\n        case 0x2d: // -\n            return \"i\" /* PathCharTypes.IDENT */;\n        case 0x09: // Tab (HT)\n        case 0x0a: // Newline (LF)\n        case 0x0d: // Return (CR)\n        case 0xa0: // No-break space (NBSP)\n        case 0xfeff: // Byte Order Mark (BOM)\n        case 0x2028: // Line Separator (LS)\n        case 0x2029: // Paragraph Separator (PS)\n            return \"w\" /* PathCharTypes.WORKSPACE */;\n    }\n    return \"i\" /* PathCharTypes.IDENT */;\n}\n/**\n * Format a subPath, return its plain form if it is\n * a literal string or number. Otherwise prepend the\n * dynamic indicator (*).\n */\nfunction formatSubPath(path) {\n    const trimmed = path.trim();\n    // invalid leading 0\n    if (path.charAt(0) === '0' && isNaN(parseInt(path))) {\n        return false;\n    }\n    return isLiteral(trimmed)\n        ? stripQuotes(trimmed)\n        : \"*\" /* PathCharTypes.ASTARISK */ + trimmed;\n}\n/**\n * Parse a string path into an array of segments\n */\nfunction parse(path) {\n    const keys = [];\n    let index = -1;\n    let mode = 0 /* States.BEFORE_PATH */;\n    let subPathDepth = 0;\n    let c;\n    let key; // eslint-disable-line\n    let newChar;\n    let type;\n    let transition;\n    let action;\n    let typeMap;\n    const actions = [];\n    actions[0 /* Actions.APPEND */] = () => {\n        if (key === undefined) {\n            key = newChar;\n        }\n        else {\n            key += newChar;\n        }\n    };\n    actions[1 /* Actions.PUSH */] = () => {\n        if (key !== undefined) {\n            keys.push(key);\n            key = undefined;\n        }\n    };\n    actions[2 /* Actions.INC_SUB_PATH_DEPTH */] = () => {\n        actions[0 /* Actions.APPEND */]();\n        subPathDepth++;\n    };\n    actions[3 /* Actions.PUSH_SUB_PATH */] = () => {\n        if (subPathDepth > 0) {\n            subPathDepth--;\n            mode = 4 /* States.IN_SUB_PATH */;\n            actions[0 /* Actions.APPEND */]();\n        }\n        else {\n            subPathDepth = 0;\n            if (key === undefined) {\n                return false;\n            }\n            key = formatSubPath(key);\n            if (key === false) {\n                return false;\n            }\n            else {\n                actions[1 /* Actions.PUSH */]();\n            }\n        }\n    };\n    function maybeUnescapeQuote() {\n        const nextChar = path[index + 1];\n        if ((mode === 5 /* States.IN_SINGLE_QUOTE */ &&\n            nextChar === \"'\" /* PathCharTypes.SINGLE_QUOTE */) ||\n            (mode === 6 /* States.IN_DOUBLE_QUOTE */ &&\n                nextChar === \"\\\"\" /* PathCharTypes.DOUBLE_QUOTE */)) {\n            index++;\n            newChar = '\\\\' + nextChar;\n            actions[0 /* Actions.APPEND */]();\n            return true;\n        }\n    }\n    while (mode !== null) {\n        index++;\n        c = path[index];\n        if (c === '\\\\' && maybeUnescapeQuote()) {\n            continue;\n        }\n        type = getPathCharType(c);\n        typeMap = pathStateMachine[mode];\n        transition = typeMap[type] || typeMap[\"l\" /* PathCharTypes.ELSE */] || 8 /* States.ERROR */;\n        // check parse error\n        if (transition === 8 /* States.ERROR */) {\n            return;\n        }\n        mode = transition[0];\n        if (transition[1] !== undefined) {\n            action = actions[transition[1]];\n            if (action) {\n                newChar = c;\n                if (action() === false) {\n                    return;\n                }\n            }\n        }\n        // check parse finish\n        if (mode === 7 /* States.AFTER_PATH */) {\n            return keys;\n        }\n    }\n}\n// path token cache\nconst cache = new Map();\n/**\n * key-value message resolver\n *\n * @remarks\n * Resolves messages with the key-value structure. Note that messages with a hierarchical structure such as objects cannot be resolved\n *\n * @param obj - A target object to be resolved with path\n * @param path - A {@link Path | path} to resolve the value of message\n *\n * @returns A resolved {@link PathValue | path value}\n *\n * @VueI18nGeneral\n */\nfunction resolveWithKeyValue(obj, path) {\n    return isObject(obj) ? obj[path] : null;\n}\n/**\n * message resolver\n *\n * @remarks\n * Resolves messages. messages with a hierarchical structure such as objects can be resolved. This resolver is used in VueI18n as default.\n *\n * @param obj - A target object to be resolved with path\n * @param path - A {@link Path | path} to resolve the value of message\n *\n * @returns A resolved {@link PathValue | path value}\n *\n * @VueI18nGeneral\n */\nfunction resolveValue(obj, path) {\n    // check object\n    if (!isObject(obj)) {\n        return null;\n    }\n    // parse path\n    let hit = cache.get(path);\n    if (!hit) {\n        hit = parse(path);\n        if (hit) {\n            cache.set(path, hit);\n        }\n    }\n    // check hit\n    if (!hit) {\n        return null;\n    }\n    // resolve path value\n    const len = hit.length;\n    let last = obj;\n    let i = 0;\n    while (i < len) {\n        const key = hit[i];\n        /**\n         * NOTE:\n         * if `key` is intlify message format AST node key and `last` is intlify message format AST, skip it.\n         * because the AST node is not a key-value structure.\n         */\n        if (AST_NODE_PROPS_KEYS.includes(key) && isMessageAST(last)) {\n            return null;\n        }\n        const val = last[key];\n        if (val === undefined) {\n            return null;\n        }\n        if (isFunction(last)) {\n            return null;\n        }\n        last = val;\n        i++;\n    }\n    return last;\n}\n\nconst CoreWarnCodes = {\n    NOT_FOUND_KEY: 1,\n    FALLBACK_TO_TRANSLATE: 2,\n    CANNOT_FORMAT_NUMBER: 3,\n    FALLBACK_TO_NUMBER_FORMAT: 4,\n    CANNOT_FORMAT_DATE: 5,\n    FALLBACK_TO_DATE_FORMAT: 6,\n    EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER: 7\n};\nconst CORE_WARN_CODES_EXTEND_POINT = 8;\n/** @internal */\nconst warnMessages = {\n    [CoreWarnCodes.NOT_FOUND_KEY]: `Not found '{key}' key in '{locale}' locale messages.`,\n    [CoreWarnCodes.FALLBACK_TO_TRANSLATE]: `Fall back to translate '{key}' key with '{target}' locale.`,\n    [CoreWarnCodes.CANNOT_FORMAT_NUMBER]: `Cannot format a number value due to not supported Intl.NumberFormat.`,\n    [CoreWarnCodes.FALLBACK_TO_NUMBER_FORMAT]: `Fall back to number format '{key}' key with '{target}' locale.`,\n    [CoreWarnCodes.CANNOT_FORMAT_DATE]: `Cannot format a date value due to not supported Intl.DateTimeFormat.`,\n    [CoreWarnCodes.FALLBACK_TO_DATE_FORMAT]: `Fall back to datetime format '{key}' key with '{target}' locale.`,\n    [CoreWarnCodes.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER]: `This project is using Custom Message Compiler, which is an experimental feature. It may receive breaking changes or be removed in the future.`\n};\nfunction getWarnMessage(code, ...args) {\n    return format$1(warnMessages[code], ...args);\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Intlify core-base version\n * @internal\n */\nconst VERSION = '10.0.7';\nconst NOT_REOSLVED = -1;\nconst DEFAULT_LOCALE = 'en-US';\nconst MISSING_RESOLVE_VALUE = '';\nconst capitalize = (str) => `${str.charAt(0).toLocaleUpperCase()}${str.substr(1)}`;\nfunction getDefaultLinkedModifiers() {\n    return {\n        upper: (val, type) => {\n            // prettier-ignore\n            return type === 'text' && isString(val)\n                ? val.toUpperCase()\n                : type === 'vnode' && isObject(val) && '__v_isVNode' in val\n                    ? val.children.toUpperCase()\n                    : val;\n        },\n        lower: (val, type) => {\n            // prettier-ignore\n            return type === 'text' && isString(val)\n                ? val.toLowerCase()\n                : type === 'vnode' && isObject(val) && '__v_isVNode' in val\n                    ? val.children.toLowerCase()\n                    : val;\n        },\n        capitalize: (val, type) => {\n            // prettier-ignore\n            return (type === 'text' && isString(val)\n                ? capitalize(val)\n                : type === 'vnode' && isObject(val) && '__v_isVNode' in val\n                    ? capitalize(val.children)\n                    : val);\n        }\n    };\n}\nlet _compiler;\nfunction registerMessageCompiler(compiler) {\n    _compiler = compiler;\n}\nlet _resolver;\n/**\n * Register the message resolver\n *\n * @param resolver - A {@link MessageResolver} function\n *\n * @VueI18nGeneral\n */\nfunction registerMessageResolver(resolver) {\n    _resolver = resolver;\n}\nlet _fallbacker;\n/**\n * Register the locale fallbacker\n *\n * @param fallbacker - A {@link LocaleFallbacker} function\n *\n * @VueI18nGeneral\n */\nfunction registerLocaleFallbacker(fallbacker) {\n    _fallbacker = fallbacker;\n}\n// Additional Meta for Intlify DevTools\nlet _additionalMeta = null;\n/* #__NO_SIDE_EFFECTS__ */\nconst setAdditionalMeta = (meta) => {\n    _additionalMeta = meta;\n};\n/* #__NO_SIDE_EFFECTS__ */\nconst getAdditionalMeta = () => _additionalMeta;\nlet _fallbackContext = null;\nconst setFallbackContext = (context) => {\n    _fallbackContext = context;\n};\nconst getFallbackContext = () => _fallbackContext;\n// ID for CoreContext\nlet _cid = 0;\nfunction createCoreContext(options = {}) {\n    // setup options\n    const onWarn = isFunction(options.onWarn) ? options.onWarn : warn;\n    const version = isString(options.version) ? options.version : VERSION;\n    const locale = isString(options.locale) || isFunction(options.locale)\n        ? options.locale\n        : DEFAULT_LOCALE;\n    const _locale = isFunction(locale) ? DEFAULT_LOCALE : locale;\n    const fallbackLocale = isArray(options.fallbackLocale) ||\n        isPlainObject(options.fallbackLocale) ||\n        isString(options.fallbackLocale) ||\n        options.fallbackLocale === false\n        ? options.fallbackLocale\n        : _locale;\n    const messages = isPlainObject(options.messages)\n        ? options.messages\n        : createResources(_locale);\n    const datetimeFormats = isPlainObject(options.datetimeFormats)\n            ? options.datetimeFormats\n            : createResources(_locale)\n        ;\n    const numberFormats = isPlainObject(options.numberFormats)\n            ? options.numberFormats\n            : createResources(_locale)\n        ;\n    const modifiers = assign(create(), options.modifiers, getDefaultLinkedModifiers());\n    const pluralRules = options.pluralRules || create();\n    const missing = isFunction(options.missing) ? options.missing : null;\n    const missingWarn = isBoolean(options.missingWarn) || isRegExp(options.missingWarn)\n        ? options.missingWarn\n        : true;\n    const fallbackWarn = isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn)\n        ? options.fallbackWarn\n        : true;\n    const fallbackFormat = !!options.fallbackFormat;\n    const unresolving = !!options.unresolving;\n    const postTranslation = isFunction(options.postTranslation)\n        ? options.postTranslation\n        : null;\n    const processor = isPlainObject(options.processor) ? options.processor : null;\n    const warnHtmlMessage = isBoolean(options.warnHtmlMessage)\n        ? options.warnHtmlMessage\n        : true;\n    const escapeParameter = !!options.escapeParameter;\n    const messageCompiler = isFunction(options.messageCompiler)\n        ? options.messageCompiler\n        : _compiler;\n    if ((process.env.NODE_ENV !== 'production') &&\n        !false &&\n        !false &&\n        isFunction(options.messageCompiler)) {\n        warnOnce(getWarnMessage(CoreWarnCodes.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER));\n    }\n    const messageResolver = isFunction(options.messageResolver)\n        ? options.messageResolver\n        : _resolver || resolveWithKeyValue;\n    const localeFallbacker = isFunction(options.localeFallbacker)\n        ? options.localeFallbacker\n        : _fallbacker || fallbackWithSimple;\n    const fallbackContext = isObject(options.fallbackContext)\n        ? options.fallbackContext\n        : undefined;\n    // setup internal options\n    const internalOptions = options;\n    const __datetimeFormatters = isObject(internalOptions.__datetimeFormatters)\n            ? internalOptions.__datetimeFormatters\n            : new Map()\n        ;\n    const __numberFormatters = isObject(internalOptions.__numberFormatters)\n            ? internalOptions.__numberFormatters\n            : new Map()\n        ;\n    const __meta = isObject(internalOptions.__meta) ? internalOptions.__meta : {};\n    _cid++;\n    const context = {\n        version,\n        cid: _cid,\n        locale,\n        fallbackLocale,\n        messages,\n        modifiers,\n        pluralRules,\n        missing,\n        missingWarn,\n        fallbackWarn,\n        fallbackFormat,\n        unresolving,\n        postTranslation,\n        processor,\n        warnHtmlMessage,\n        escapeParameter,\n        messageCompiler,\n        messageResolver,\n        localeFallbacker,\n        fallbackContext,\n        onWarn,\n        __meta\n    };\n    {\n        context.datetimeFormats = datetimeFormats;\n        context.numberFormats = numberFormats;\n        context.__datetimeFormatters = __datetimeFormatters;\n        context.__numberFormatters = __numberFormatters;\n    }\n    // for vue-devtools timeline event\n    if ((process.env.NODE_ENV !== 'production')) {\n        context.__v_emitter =\n            internalOptions.__v_emitter != null\n                ? internalOptions.__v_emitter\n                : undefined;\n    }\n    // NOTE: experimental !!\n    if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\n        initI18nDevTools(context, version, __meta);\n    }\n    return context;\n}\nconst createResources = (locale) => ({ [locale]: create() });\n/** @internal */\nfunction isTranslateFallbackWarn(fallback, key) {\n    return fallback instanceof RegExp ? fallback.test(key) : fallback;\n}\n/** @internal */\nfunction isTranslateMissingWarn(missing, key) {\n    return missing instanceof RegExp ? missing.test(key) : missing;\n}\n/** @internal */\nfunction handleMissing(context, key, locale, missingWarn, type) {\n    const { missing, onWarn } = context;\n    // for vue-devtools timeline event\n    if ((process.env.NODE_ENV !== 'production')) {\n        const emitter = context.__v_emitter;\n        if (emitter) {\n            emitter.emit('missing', {\n                locale,\n                key,\n                type,\n                groupId: `${type}:${key}`\n            });\n        }\n    }\n    if (missing !== null) {\n        const ret = missing(context, locale, key, type);\n        return isString(ret) ? ret : key;\n    }\n    else {\n        if ((process.env.NODE_ENV !== 'production') && isTranslateMissingWarn(missingWarn, key)) {\n            onWarn(getWarnMessage(CoreWarnCodes.NOT_FOUND_KEY, { key, locale }));\n        }\n        return key;\n    }\n}\n/** @internal */\nfunction updateFallbackLocale(ctx, locale, fallback) {\n    const context = ctx;\n    context.__localeChainCache = new Map();\n    ctx.localeFallbacker(ctx, fallback, locale);\n}\n/** @internal */\nfunction isAlmostSameLocale(locale, compareLocale) {\n    if (locale === compareLocale)\n        return false;\n    return locale.split('-')[0] === compareLocale.split('-')[0];\n}\n/** @internal */\nfunction isImplicitFallback(targetLocale, locales) {\n    const index = locales.indexOf(targetLocale);\n    if (index === -1) {\n        return false;\n    }\n    for (let i = index + 1; i < locales.length; i++) {\n        if (isAlmostSameLocale(targetLocale, locales[i])) {\n            return true;\n        }\n    }\n    return false;\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst intlDefined = typeof Intl !== 'undefined';\nconst Availabilities = {\n    dateTimeFormat: intlDefined && typeof Intl.DateTimeFormat !== 'undefined',\n    numberFormat: intlDefined && typeof Intl.NumberFormat !== 'undefined'\n};\n\n// implementation of `datetime` function\nfunction datetime(context, ...args) {\n    const { datetimeFormats, unresolving, fallbackLocale, onWarn, localeFallbacker } = context;\n    const { __datetimeFormatters } = context;\n    if ((process.env.NODE_ENV !== 'production') && !Availabilities.dateTimeFormat) {\n        onWarn(getWarnMessage(CoreWarnCodes.CANNOT_FORMAT_DATE));\n        return MISSING_RESOLVE_VALUE;\n    }\n    const [key, value, options, overrides] = parseDateTimeArgs(...args);\n    const missingWarn = isBoolean(options.missingWarn)\n        ? options.missingWarn\n        : context.missingWarn;\n    const fallbackWarn = isBoolean(options.fallbackWarn)\n        ? options.fallbackWarn\n        : context.fallbackWarn;\n    const part = !!options.part;\n    const locale = getLocale(context, options);\n    const locales = localeFallbacker(context, // eslint-disable-line @typescript-eslint/no-explicit-any\n    fallbackLocale, locale);\n    if (!isString(key) || key === '') {\n        return new Intl.DateTimeFormat(locale, overrides).format(value);\n    }\n    // resolve format\n    let datetimeFormat = {};\n    let targetLocale;\n    let format = null;\n    let from = locale;\n    let to = null;\n    const type = 'datetime format';\n    for (let i = 0; i < locales.length; i++) {\n        targetLocale = to = locales[i];\n        if ((process.env.NODE_ENV !== 'production') &&\n            locale !== targetLocale &&\n            isTranslateFallbackWarn(fallbackWarn, key)) {\n            onWarn(getWarnMessage(CoreWarnCodes.FALLBACK_TO_DATE_FORMAT, {\n                key,\n                target: targetLocale\n            }));\n        }\n        // for vue-devtools timeline event\n        if ((process.env.NODE_ENV !== 'production') && locale !== targetLocale) {\n            const emitter = context.__v_emitter;\n            if (emitter) {\n                emitter.emit('fallback', {\n                    type,\n                    key,\n                    from,\n                    to,\n                    groupId: `${type}:${key}`\n                });\n            }\n        }\n        datetimeFormat =\n            datetimeFormats[targetLocale] || {};\n        format = datetimeFormat[key];\n        if (isPlainObject(format))\n            break;\n        handleMissing(context, key, targetLocale, missingWarn, type); // eslint-disable-line @typescript-eslint/no-explicit-any\n        from = to;\n    }\n    // checking format and target locale\n    if (!isPlainObject(format) || !isString(targetLocale)) {\n        return unresolving ? NOT_REOSLVED : key;\n    }\n    let id = `${targetLocale}__${key}`;\n    if (!isEmptyObject(overrides)) {\n        id = `${id}__${JSON.stringify(overrides)}`;\n    }\n    let formatter = __datetimeFormatters.get(id);\n    if (!formatter) {\n        formatter = new Intl.DateTimeFormat(targetLocale, assign({}, format, overrides));\n        __datetimeFormatters.set(id, formatter);\n    }\n    return !part ? formatter.format(value) : formatter.formatToParts(value);\n}\n/** @internal */\nconst DATETIME_FORMAT_OPTIONS_KEYS = [\n    'localeMatcher',\n    'weekday',\n    'era',\n    'year',\n    'month',\n    'day',\n    'hour',\n    'minute',\n    'second',\n    'timeZoneName',\n    'formatMatcher',\n    'hour12',\n    'timeZone',\n    'dateStyle',\n    'timeStyle',\n    'calendar',\n    'dayPeriod',\n    'numberingSystem',\n    'hourCycle',\n    'fractionalSecondDigits'\n];\n/** @internal */\nfunction parseDateTimeArgs(...args) {\n    const [arg1, arg2, arg3, arg4] = args;\n    const options = create();\n    let overrides = create();\n    let value;\n    if (isString(arg1)) {\n        // Only allow ISO strings - other date formats are often supported,\n        // but may cause different results in different browsers.\n        const matches = arg1.match(/(\\d{4}-\\d{2}-\\d{2})(T|\\s)?(.*)/);\n        if (!matches) {\n            throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);\n        }\n        // Some browsers can not parse the iso datetime separated by space,\n        // this is a compromise solution by replace the 'T'/' ' with 'T'\n        const dateTime = matches[3]\n            ? matches[3].trim().startsWith('T')\n                ? `${matches[1].trim()}${matches[3].trim()}`\n                : `${matches[1].trim()}T${matches[3].trim()}`\n            : matches[1].trim();\n        value = new Date(dateTime);\n        try {\n            // This will fail if the date is not valid\n            value.toISOString();\n        }\n        catch {\n            throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);\n        }\n    }\n    else if (isDate(arg1)) {\n        if (isNaN(arg1.getTime())) {\n            throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);\n        }\n        value = arg1;\n    }\n    else if (isNumber(arg1)) {\n        value = arg1;\n    }\n    else {\n        throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);\n    }\n    if (isString(arg2)) {\n        options.key = arg2;\n    }\n    else if (isPlainObject(arg2)) {\n        Object.keys(arg2).forEach(key => {\n            if (DATETIME_FORMAT_OPTIONS_KEYS.includes(key)) {\n                overrides[key] = arg2[key];\n            }\n            else {\n                options[key] = arg2[key];\n            }\n        });\n    }\n    if (isString(arg3)) {\n        options.locale = arg3;\n    }\n    else if (isPlainObject(arg3)) {\n        overrides = arg3;\n    }\n    if (isPlainObject(arg4)) {\n        overrides = arg4;\n    }\n    return [options.key || '', value, options, overrides];\n}\n/** @internal */\nfunction clearDateTimeFormat(ctx, locale, format) {\n    const context = ctx;\n    for (const key in format) {\n        const id = `${locale}__${key}`;\n        if (!context.__datetimeFormatters.has(id)) {\n            continue;\n        }\n        context.__datetimeFormatters.delete(id);\n    }\n}\n\n// implementation of `number` function\nfunction number(context, ...args) {\n    const { numberFormats, unresolving, fallbackLocale, onWarn, localeFallbacker } = context;\n    const { __numberFormatters } = context;\n    if ((process.env.NODE_ENV !== 'production') && !Availabilities.numberFormat) {\n        onWarn(getWarnMessage(CoreWarnCodes.CANNOT_FORMAT_NUMBER));\n        return MISSING_RESOLVE_VALUE;\n    }\n    const [key, value, options, overrides] = parseNumberArgs(...args);\n    const missingWarn = isBoolean(options.missingWarn)\n        ? options.missingWarn\n        : context.missingWarn;\n    const fallbackWarn = isBoolean(options.fallbackWarn)\n        ? options.fallbackWarn\n        : context.fallbackWarn;\n    const part = !!options.part;\n    const locale = getLocale(context, options);\n    const locales = localeFallbacker(context, // eslint-disable-line @typescript-eslint/no-explicit-any\n    fallbackLocale, locale);\n    if (!isString(key) || key === '') {\n        return new Intl.NumberFormat(locale, overrides).format(value);\n    }\n    // resolve format\n    let numberFormat = {};\n    let targetLocale;\n    let format = null;\n    let from = locale;\n    let to = null;\n    const type = 'number format';\n    for (let i = 0; i < locales.length; i++) {\n        targetLocale = to = locales[i];\n        if ((process.env.NODE_ENV !== 'production') &&\n            locale !== targetLocale &&\n            isTranslateFallbackWarn(fallbackWarn, key)) {\n            onWarn(getWarnMessage(CoreWarnCodes.FALLBACK_TO_NUMBER_FORMAT, {\n                key,\n                target: targetLocale\n            }));\n        }\n        // for vue-devtools timeline event\n        if ((process.env.NODE_ENV !== 'production') && locale !== targetLocale) {\n            const emitter = context.__v_emitter;\n            if (emitter) {\n                emitter.emit('fallback', {\n                    type,\n                    key,\n                    from,\n                    to,\n                    groupId: `${type}:${key}`\n                });\n            }\n        }\n        numberFormat =\n            numberFormats[targetLocale] || {};\n        format = numberFormat[key];\n        if (isPlainObject(format))\n            break;\n        handleMissing(context, key, targetLocale, missingWarn, type); // eslint-disable-line @typescript-eslint/no-explicit-any\n        from = to;\n    }\n    // checking format and target locale\n    if (!isPlainObject(format) || !isString(targetLocale)) {\n        return unresolving ? NOT_REOSLVED : key;\n    }\n    let id = `${targetLocale}__${key}`;\n    if (!isEmptyObject(overrides)) {\n        id = `${id}__${JSON.stringify(overrides)}`;\n    }\n    let formatter = __numberFormatters.get(id);\n    if (!formatter) {\n        formatter = new Intl.NumberFormat(targetLocale, assign({}, format, overrides));\n        __numberFormatters.set(id, formatter);\n    }\n    return !part ? formatter.format(value) : formatter.formatToParts(value);\n}\n/** @internal */\nconst NUMBER_FORMAT_OPTIONS_KEYS = [\n    'localeMatcher',\n    'style',\n    'currency',\n    'currencyDisplay',\n    'currencySign',\n    'useGrouping',\n    'minimumIntegerDigits',\n    'minimumFractionDigits',\n    'maximumFractionDigits',\n    'minimumSignificantDigits',\n    'maximumSignificantDigits',\n    'compactDisplay',\n    'notation',\n    'signDisplay',\n    'unit',\n    'unitDisplay',\n    'roundingMode',\n    'roundingPriority',\n    'roundingIncrement',\n    'trailingZeroDisplay'\n];\n/** @internal */\nfunction parseNumberArgs(...args) {\n    const [arg1, arg2, arg3, arg4] = args;\n    const options = create();\n    let overrides = create();\n    if (!isNumber(arg1)) {\n        throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);\n    }\n    const value = arg1;\n    if (isString(arg2)) {\n        options.key = arg2;\n    }\n    else if (isPlainObject(arg2)) {\n        Object.keys(arg2).forEach(key => {\n            if (NUMBER_FORMAT_OPTIONS_KEYS.includes(key)) {\n                overrides[key] = arg2[key];\n            }\n            else {\n                options[key] = arg2[key];\n            }\n        });\n    }\n    if (isString(arg3)) {\n        options.locale = arg3;\n    }\n    else if (isPlainObject(arg3)) {\n        overrides = arg3;\n    }\n    if (isPlainObject(arg4)) {\n        overrides = arg4;\n    }\n    return [options.key || '', value, options, overrides];\n}\n/** @internal */\nfunction clearNumberFormat(ctx, locale, format) {\n    const context = ctx;\n    for (const key in format) {\n        const id = `${locale}__${key}`;\n        if (!context.__numberFormatters.has(id)) {\n            continue;\n        }\n        context.__numberFormatters.delete(id);\n    }\n}\n\nconst DEFAULT_MODIFIER = (str) => str;\nconst DEFAULT_MESSAGE = (ctx) => ''; // eslint-disable-line\nconst DEFAULT_MESSAGE_DATA_TYPE = 'text';\nconst DEFAULT_NORMALIZE = (values) => values.length === 0 ? '' : join(values);\nconst DEFAULT_INTERPOLATE = toDisplayString;\nfunction pluralDefault(choice, choicesLength) {\n    choice = Math.abs(choice);\n    if (choicesLength === 2) {\n        // prettier-ignore\n        return choice\n            ? choice > 1\n                ? 1\n                : 0\n            : 1;\n    }\n    return choice ? Math.min(choice, 2) : 0;\n}\nfunction getPluralIndex(options) {\n    // prettier-ignore\n    const index = isNumber(options.pluralIndex)\n        ? options.pluralIndex\n        : -1;\n    // prettier-ignore\n    return options.named && (isNumber(options.named.count) || isNumber(options.named.n))\n        ? isNumber(options.named.count)\n            ? options.named.count\n            : isNumber(options.named.n)\n                ? options.named.n\n                : index\n        : index;\n}\nfunction normalizeNamed(pluralIndex, props) {\n    if (!props.count) {\n        props.count = pluralIndex;\n    }\n    if (!props.n) {\n        props.n = pluralIndex;\n    }\n}\nfunction createMessageContext(options = {}) {\n    const locale = options.locale;\n    const pluralIndex = getPluralIndex(options);\n    const pluralRule = isObject(options.pluralRules) &&\n        isString(locale) &&\n        isFunction(options.pluralRules[locale])\n        ? options.pluralRules[locale]\n        : pluralDefault;\n    const orgPluralRule = isObject(options.pluralRules) &&\n        isString(locale) &&\n        isFunction(options.pluralRules[locale])\n        ? pluralDefault\n        : undefined;\n    const plural = (messages) => {\n        return messages[pluralRule(pluralIndex, messages.length, orgPluralRule)];\n    };\n    const _list = options.list || [];\n    const list = (index) => _list[index];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const _named = options.named || create();\n    isNumber(options.pluralIndex) && normalizeNamed(pluralIndex, _named);\n    const named = (key) => _named[key];\n    function message(key, useLinked) {\n        // prettier-ignore\n        const msg = isFunction(options.messages)\n            ? options.messages(key, !!useLinked)\n            : isObject(options.messages)\n                ? options.messages[key]\n                : false;\n        return !msg\n            ? options.parent\n                ? options.parent.message(key) // resolve from parent messages\n                : DEFAULT_MESSAGE\n            : msg;\n    }\n    const _modifier = (name) => options.modifiers\n        ? options.modifiers[name]\n        : DEFAULT_MODIFIER;\n    const normalize = isPlainObject(options.processor) && isFunction(options.processor.normalize)\n        ? options.processor.normalize\n        : DEFAULT_NORMALIZE;\n    const interpolate = isPlainObject(options.processor) &&\n        isFunction(options.processor.interpolate)\n        ? options.processor.interpolate\n        : DEFAULT_INTERPOLATE;\n    const type = isPlainObject(options.processor) && isString(options.processor.type)\n        ? options.processor.type\n        : DEFAULT_MESSAGE_DATA_TYPE;\n    const linked = (key, ...args) => {\n        const [arg1, arg2] = args;\n        let type = 'text';\n        let modifier = '';\n        if (args.length === 1) {\n            if (isObject(arg1)) {\n                modifier = arg1.modifier || modifier;\n                type = arg1.type || type;\n            }\n            else if (isString(arg1)) {\n                modifier = arg1 || modifier;\n            }\n        }\n        else if (args.length === 2) {\n            if (isString(arg1)) {\n                modifier = arg1 || modifier;\n            }\n            if (isString(arg2)) {\n                type = arg2 || type;\n            }\n        }\n        const ret = message(key, true)(ctx);\n        const msg = \n        // The message in vnode resolved with linked are returned as an array by processor.nomalize\n        type === 'vnode' && isArray(ret) && modifier\n            ? ret[0]\n            : ret;\n        return modifier ? _modifier(modifier)(msg, type) : msg;\n    };\n    const ctx = {\n        [\"list\" /* HelperNameMap.LIST */]: list,\n        [\"named\" /* HelperNameMap.NAMED */]: named,\n        [\"plural\" /* HelperNameMap.PLURAL */]: plural,\n        [\"linked\" /* HelperNameMap.LINKED */]: linked,\n        [\"message\" /* HelperNameMap.MESSAGE */]: message,\n        [\"type\" /* HelperNameMap.TYPE */]: type,\n        [\"interpolate\" /* HelperNameMap.INTERPOLATE */]: interpolate,\n        [\"normalize\" /* HelperNameMap.NORMALIZE */]: normalize,\n        [\"values\" /* HelperNameMap.VALUES */]: assign(create(), _list, _named)\n    };\n    return ctx;\n}\n\nconst NOOP_MESSAGE_FUNCTION = () => '';\nconst isMessageFunction = (val) => isFunction(val);\n// implementation of `translate` function\nfunction translate(context, ...args) {\n    const { fallbackFormat, postTranslation, unresolving, messageCompiler, fallbackLocale, messages } = context;\n    const [key, options] = parseTranslateArgs(...args);\n    const missingWarn = isBoolean(options.missingWarn)\n        ? options.missingWarn\n        : context.missingWarn;\n    const fallbackWarn = isBoolean(options.fallbackWarn)\n        ? options.fallbackWarn\n        : context.fallbackWarn;\n    const escapeParameter = isBoolean(options.escapeParameter)\n        ? options.escapeParameter\n        : context.escapeParameter;\n    const resolvedMessage = !!options.resolvedMessage;\n    // prettier-ignore\n    const defaultMsgOrKey = isString(options.default) || isBoolean(options.default) // default by function option\n        ? !isBoolean(options.default)\n            ? options.default\n            : (!messageCompiler ? () => key : key)\n        : fallbackFormat // default by `fallbackFormat` option\n            ? (!messageCompiler ? () => key : key)\n            : null;\n    const enableDefaultMsg = fallbackFormat ||\n        (defaultMsgOrKey != null &&\n            (isString(defaultMsgOrKey) || isFunction(defaultMsgOrKey)));\n    const locale = getLocale(context, options);\n    // escape params\n    escapeParameter && escapeParams(options);\n    // resolve message format\n    // eslint-disable-next-line prefer-const\n    let [formatScope, targetLocale, message] = !resolvedMessage\n        ? resolveMessageFormat(context, key, locale, fallbackLocale, fallbackWarn, missingWarn)\n        : [\n            key,\n            locale,\n            messages[locale] || create()\n        ];\n    // NOTE:\n    //  Fix to work around `ssrTransfrom` bug in Vite.\n    //  https://github.com/vitejs/vite/issues/4306\n    //  To get around this, use temporary variables.\n    //  https://github.com/nuxt/framework/issues/1461#issuecomment-954606243\n    let format = formatScope;\n    // if you use default message, set it as message format!\n    let cacheBaseKey = key;\n    if (!resolvedMessage &&\n        !(isString(format) ||\n            isMessageAST(format) ||\n            isMessageFunction(format))) {\n        if (enableDefaultMsg) {\n            format = defaultMsgOrKey;\n            cacheBaseKey = format;\n        }\n    }\n    // checking message format and target locale\n    if (!resolvedMessage &&\n        (!(isString(format) ||\n            isMessageAST(format) ||\n            isMessageFunction(format)) ||\n            !isString(targetLocale))) {\n        return unresolving ? NOT_REOSLVED : key;\n    }\n    // TODO: refactor\n    if ((process.env.NODE_ENV !== 'production') && isString(format) && context.messageCompiler == null) {\n        warn(`The message format compilation is not supported in this build. ` +\n            `Because message compiler isn't included. ` +\n            `You need to pre-compilation all message format. ` +\n            `So translate function return '${key}'.`);\n        return key;\n    }\n    // setup compile error detecting\n    let occurred = false;\n    const onError = () => {\n        occurred = true;\n    };\n    // compile message format\n    const msg = !isMessageFunction(format)\n        ? compileMessageFormat(context, key, targetLocale, format, cacheBaseKey, onError)\n        : format;\n    // if occurred compile error, return the message format\n    if (occurred) {\n        return format;\n    }\n    // evaluate message with context\n    const ctxOptions = getMessageContextOptions(context, targetLocale, message, options);\n    const msgContext = createMessageContext(ctxOptions);\n    const messaged = evaluateMessage(context, msg, msgContext);\n    // if use post translation option, proceed it with handler\n    const ret = postTranslation\n        ? postTranslation(messaged, key)\n        : messaged;\n    // NOTE: experimental !!\n    if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\n        // prettier-ignore\n        const payloads = {\n            timestamp: Date.now(),\n            key: isString(key)\n                ? key\n                : isMessageFunction(format)\n                    ? format.key\n                    : '',\n            locale: targetLocale || (isMessageFunction(format)\n                ? format.locale\n                : ''),\n            format: isString(format)\n                ? format\n                : isMessageFunction(format)\n                    ? format.source\n                    : '',\n            message: ret\n        };\n        payloads.meta = assign({}, context.__meta, getAdditionalMeta() || {});\n        translateDevTools(payloads);\n    }\n    return ret;\n}\nfunction escapeParams(options) {\n    if (isArray(options.list)) {\n        options.list = options.list.map(item => isString(item) ? escapeHtml(item) : item);\n    }\n    else if (isObject(options.named)) {\n        Object.keys(options.named).forEach(key => {\n            if (isString(options.named[key])) {\n                options.named[key] = escapeHtml(options.named[key]);\n            }\n        });\n    }\n}\nfunction resolveMessageFormat(context, key, locale, fallbackLocale, fallbackWarn, missingWarn) {\n    const { messages, onWarn, messageResolver: resolveValue, localeFallbacker } = context;\n    const locales = localeFallbacker(context, fallbackLocale, locale); // eslint-disable-line @typescript-eslint/no-explicit-any\n    let message = create();\n    let targetLocale;\n    let format = null;\n    let from = locale;\n    let to = null;\n    const type = 'translate';\n    for (let i = 0; i < locales.length; i++) {\n        targetLocale = to = locales[i];\n        if ((process.env.NODE_ENV !== 'production') &&\n            locale !== targetLocale &&\n            !isAlmostSameLocale(locale, targetLocale) &&\n            isTranslateFallbackWarn(fallbackWarn, key)) {\n            onWarn(getWarnMessage(CoreWarnCodes.FALLBACK_TO_TRANSLATE, {\n                key,\n                target: targetLocale\n            }));\n        }\n        // for vue-devtools timeline event\n        if ((process.env.NODE_ENV !== 'production') && locale !== targetLocale) {\n            const emitter = context.__v_emitter;\n            if (emitter) {\n                emitter.emit('fallback', {\n                    type,\n                    key,\n                    from,\n                    to,\n                    groupId: `${type}:${key}`\n                });\n            }\n        }\n        message =\n            messages[targetLocale] || create();\n        // for vue-devtools timeline event\n        let start = null;\n        let startTag;\n        let endTag;\n        if ((process.env.NODE_ENV !== 'production') && inBrowser) {\n            start = window.performance.now();\n            startTag = 'intlify-message-resolve-start';\n            endTag = 'intlify-message-resolve-end';\n            mark && mark(startTag);\n        }\n        if ((format = resolveValue(message, key)) === null) {\n            // if null, resolve with object key path\n            format = message[key]; // eslint-disable-line @typescript-eslint/no-explicit-any\n        }\n        // for vue-devtools timeline event\n        if ((process.env.NODE_ENV !== 'production') && inBrowser) {\n            const end = window.performance.now();\n            const emitter = context.__v_emitter;\n            if (emitter && start && format) {\n                emitter.emit('message-resolve', {\n                    type: 'message-resolve',\n                    key,\n                    message: format,\n                    time: end - start,\n                    groupId: `${type}:${key}`\n                });\n            }\n            if (startTag && endTag && mark && measure) {\n                mark(endTag);\n                measure('intlify message resolve', startTag, endTag);\n            }\n        }\n        if (isString(format) || isMessageAST(format) || isMessageFunction(format)) {\n            break;\n        }\n        if (!isImplicitFallback(targetLocale, locales)) {\n            const missingRet = handleMissing(context, // eslint-disable-line @typescript-eslint/no-explicit-any\n            key, targetLocale, missingWarn, type);\n            if (missingRet !== key) {\n                format = missingRet;\n            }\n        }\n        from = to;\n    }\n    return [format, targetLocale, message];\n}\nfunction compileMessageFormat(context, key, targetLocale, format, cacheBaseKey, onError) {\n    const { messageCompiler, warnHtmlMessage } = context;\n    if (isMessageFunction(format)) {\n        const msg = format;\n        msg.locale = msg.locale || targetLocale;\n        msg.key = msg.key || key;\n        return msg;\n    }\n    if (messageCompiler == null) {\n        const msg = (() => format);\n        msg.locale = targetLocale;\n        msg.key = key;\n        return msg;\n    }\n    // for vue-devtools timeline event\n    let start = null;\n    let startTag;\n    let endTag;\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\n        start = window.performance.now();\n        startTag = 'intlify-message-compilation-start';\n        endTag = 'intlify-message-compilation-end';\n        mark && mark(startTag);\n    }\n    const msg = messageCompiler(format, getCompileContext(context, targetLocale, cacheBaseKey, format, warnHtmlMessage, onError));\n    // for vue-devtools timeline event\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\n        const end = window.performance.now();\n        const emitter = context.__v_emitter;\n        if (emitter && start) {\n            emitter.emit('message-compilation', {\n                type: 'message-compilation',\n                message: format,\n                time: end - start,\n                groupId: `${'translate'}:${key}`\n            });\n        }\n        if (startTag && endTag && mark && measure) {\n            mark(endTag);\n            measure('intlify message compilation', startTag, endTag);\n        }\n    }\n    msg.locale = targetLocale;\n    msg.key = key;\n    msg.source = format;\n    return msg;\n}\nfunction evaluateMessage(context, msg, msgCtx) {\n    // for vue-devtools timeline event\n    let start = null;\n    let startTag;\n    let endTag;\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\n        start = window.performance.now();\n        startTag = 'intlify-message-evaluation-start';\n        endTag = 'intlify-message-evaluation-end';\n        mark && mark(startTag);\n    }\n    const messaged = msg(msgCtx);\n    // for vue-devtools timeline event\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\n        const end = window.performance.now();\n        const emitter = context.__v_emitter;\n        if (emitter && start) {\n            emitter.emit('message-evaluation', {\n                type: 'message-evaluation',\n                value: messaged,\n                time: end - start,\n                groupId: `${'translate'}:${msg.key}`\n            });\n        }\n        if (startTag && endTag && mark && measure) {\n            mark(endTag);\n            measure('intlify message evaluation', startTag, endTag);\n        }\n    }\n    return messaged;\n}\n/** @internal */\nfunction parseTranslateArgs(...args) {\n    const [arg1, arg2, arg3] = args;\n    const options = create();\n    if (!isString(arg1) &&\n        !isNumber(arg1) &&\n        !isMessageFunction(arg1) &&\n        !isMessageAST(arg1)) {\n        throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);\n    }\n    // prettier-ignore\n    const key = isNumber(arg1)\n        ? String(arg1)\n        : isMessageFunction(arg1)\n            ? arg1\n            : arg1;\n    if (isNumber(arg2)) {\n        options.plural = arg2;\n    }\n    else if (isString(arg2)) {\n        options.default = arg2;\n    }\n    else if (isPlainObject(arg2) && !isEmptyObject(arg2)) {\n        options.named = arg2;\n    }\n    else if (isArray(arg2)) {\n        options.list = arg2;\n    }\n    if (isNumber(arg3)) {\n        options.plural = arg3;\n    }\n    else if (isString(arg3)) {\n        options.default = arg3;\n    }\n    else if (isPlainObject(arg3)) {\n        assign(options, arg3);\n    }\n    return [key, options];\n}\nfunction getCompileContext(context, locale, key, source, warnHtmlMessage, onError) {\n    return {\n        locale,\n        key,\n        warnHtmlMessage,\n        onError: (err) => {\n            onError && onError(err);\n            if ((process.env.NODE_ENV !== 'production')) {\n                const _source = getSourceForCodeFrame(source);\n                const message = `Message compilation error: ${err.message}`;\n                const codeFrame = err.location &&\n                    _source &&\n                    generateCodeFrame(_source, err.location.start.offset, err.location.end.offset);\n                const emitter = context.__v_emitter;\n                if (emitter && _source) {\n                    emitter.emit('compile-error', {\n                        message: _source,\n                        error: err.message,\n                        start: err.location && err.location.start.offset,\n                        end: err.location && err.location.end.offset,\n                        groupId: `${'translate'}:${key}`\n                    });\n                }\n                console.error(codeFrame ? `${message}\\n${codeFrame}` : message);\n            }\n            else {\n                throw err;\n            }\n        },\n        onCacheKey: (source) => generateFormatCacheKey(locale, key, source)\n    };\n}\nfunction getSourceForCodeFrame(source) {\n    if (isString(source)) {\n        return source;\n    }\n    else {\n        if (source.loc && source.loc.source) {\n            return source.loc.source;\n        }\n    }\n}\nfunction getMessageContextOptions(context, locale, message, options) {\n    const { modifiers, pluralRules, messageResolver: resolveValue, fallbackLocale, fallbackWarn, missingWarn, fallbackContext } = context;\n    const resolveMessage = (key, useLinked) => {\n        let val = resolveValue(message, key);\n        // fallback\n        if (val == null && (fallbackContext || useLinked)) {\n            const [, , message] = resolveMessageFormat(fallbackContext || context, // NOTE: if has fallbackContext, fallback to root, else if use linked, fallback to local context\n            key, locale, fallbackLocale, fallbackWarn, missingWarn);\n            val = resolveValue(message, key);\n        }\n        if (isString(val) || isMessageAST(val)) {\n            let occurred = false;\n            const onError = () => {\n                occurred = true;\n            };\n            const msg = compileMessageFormat(context, key, locale, val, key, onError);\n            return !occurred\n                ? msg\n                : NOOP_MESSAGE_FUNCTION;\n        }\n        else if (isMessageFunction(val)) {\n            return val;\n        }\n        else {\n            // TODO: should be implemented warning message\n            return NOOP_MESSAGE_FUNCTION;\n        }\n    };\n    const ctxOptions = {\n        locale,\n        modifiers,\n        pluralRules,\n        messages: resolveMessage\n    };\n    if (context.processor) {\n        ctxOptions.processor = context.processor;\n    }\n    if (options.list) {\n        ctxOptions.list = options.list;\n    }\n    if (options.named) {\n        ctxOptions.named = options.named;\n    }\n    if (isNumber(options.plural)) {\n        ctxOptions.pluralIndex = options.plural;\n    }\n    return ctxOptions;\n}\n\n{\n    initFeatureFlags();\n}\n\nexport { AST_NODE_PROPS_KEYS, CORE_ERROR_CODES_EXTEND_POINT, CORE_WARN_CODES_EXTEND_POINT, CoreErrorCodes, CoreWarnCodes, DATETIME_FORMAT_OPTIONS_KEYS, DEFAULT_LOCALE, DEFAULT_MESSAGE_DATA_TYPE, MISSING_RESOLVE_VALUE, NOT_REOSLVED, NUMBER_FORMAT_OPTIONS_KEYS, VERSION, clearCompileCache, clearDateTimeFormat, clearNumberFormat, compile, createCoreContext, createCoreError, createMessageContext, datetime, fallbackWithLocaleChain, fallbackWithSimple, getAdditionalMeta, getDevToolsHook, getFallbackContext, getLocale, getWarnMessage, handleMissing, initI18nDevTools, isAlmostSameLocale, isImplicitFallback, isMessageAST, isMessageFunction, isTranslateFallbackWarn, isTranslateMissingWarn, number, parse, parseDateTimeArgs, parseNumberArgs, parseTranslateArgs, registerLocaleFallbacker, registerMessageCompiler, registerMessageResolver, resolveLocale, resolveValue, resolveWithKeyValue, setAdditionalMeta, setDevToolsHook, setFallbackContext, translate, translateDevTools, updateFallbackLocale };\n","/*!\n  * vue-i18n v10.0.7\n  * (c) 2025 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { getGlobalThis, format, makeSymbol, isObject, create, isPlainObject, isArray, deepCopy, isString, hasOwn, warn, isBoolean, isRegExp, isFunction, inBrowser, assign, isNumber, warnOnce, createEmitter, isEmptyObject } from '@intlify/shared';\nimport { CORE_WARN_CODES_EXTEND_POINT, CORE_ERROR_CODES_EXTEND_POINT, createCompileError, isMessageAST, AST_NODE_PROPS_KEYS, DEFAULT_LOCALE, updateFallbackLocale, setFallbackContext, createCoreContext, clearDateTimeFormat, clearNumberFormat, setAdditionalMeta, getFallbackContext, NOT_REOSLVED, isTranslateFallbackWarn, isTranslateMissingWarn, parseTranslateArgs, translate, MISSING_RESOLVE_VALUE, parseDateTimeArgs, datetime, parseNumberArgs, number, isMessageFunction, fallbackWithLocaleChain, NUMBER_FORMAT_OPTIONS_KEYS, DATETIME_FORMAT_OPTIONS_KEYS, registerMessageCompiler, compile, registerMessageResolver, resolveValue, registerLocaleFallbacker, setDevToolsHook } from '@intlify/core-base';\nimport { createVNode, Text, computed, watch, getCurrentInstance, ref, shallowRef, Fragment, defineComponent, h, effectScope, inject, onMounted, onUnmounted, isRef } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\n\n/**\n * Vue I18n Version\n *\n * @remarks\n * Semver format. Same format as the package.json `version` field.\n *\n * @VueI18nGeneral\n */\nconst VERSION = '10.0.7';\n/**\n * This is only called in esm-bundler builds.\n * istanbul-ignore-next\n */\nfunction initFeatureFlags() {\n    if (typeof __VUE_I18N_FULL_INSTALL__ !== 'boolean') {\n        getGlobalThis().__VUE_I18N_FULL_INSTALL__ = true;\n    }\n    if (typeof __VUE_I18N_LEGACY_API__ !== 'boolean') {\n        getGlobalThis().__VUE_I18N_LEGACY_API__ = true;\n    }\n    if (typeof __INTLIFY_DROP_MESSAGE_COMPILER__ !== 'boolean') {\n        getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__ = false;\n    }\n    if (typeof __INTLIFY_PROD_DEVTOOLS__ !== 'boolean') {\n        getGlobalThis().__INTLIFY_PROD_DEVTOOLS__ = false;\n    }\n}\n\nconst I18nWarnCodes = {\n    FALLBACK_TO_ROOT: CORE_WARN_CODES_EXTEND_POINT, // 8\n    NOT_FOUND_PARENT_SCOPE: 9,\n    IGNORE_OBJ_FLATTEN: 10,\n    DEPRECATE_TC: 11\n};\nconst warnMessages = {\n    [I18nWarnCodes.FALLBACK_TO_ROOT]: `Fall back to {type} '{key}' with root locale.`,\n    [I18nWarnCodes.NOT_FOUND_PARENT_SCOPE]: `Not found parent scope. use the global scope.`,\n    [I18nWarnCodes.IGNORE_OBJ_FLATTEN]: `Ignore object flatten: '{key}' key has an string value`,\n    [I18nWarnCodes.DEPRECATE_TC]: `'tc' and '$tc' has been deprecated in v10. Use 't' or '$t' instead. 'tc' and '$tc’ are going to remove in v11.`\n};\nfunction getWarnMessage(code, ...args) {\n    return format(warnMessages[code], ...args);\n}\n\nconst I18nErrorCodes = {\n    // composer module errors\n    UNEXPECTED_RETURN_TYPE: CORE_ERROR_CODES_EXTEND_POINT, // 24\n    // legacy module errors\n    INVALID_ARGUMENT: 25,\n    // i18n module errors\n    MUST_BE_CALL_SETUP_TOP: 26,\n    NOT_INSTALLED: 27,\n    // directive module errors\n    REQUIRED_VALUE: 28,\n    INVALID_VALUE: 29,\n    // vue-devtools errors\n    CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN: 30,\n    NOT_INSTALLED_WITH_PROVIDE: 31,\n    // unexpected error\n    UNEXPECTED_ERROR: 32,\n    // not compatible legacy vue-i18n constructor\n    NOT_COMPATIBLE_LEGACY_VUE_I18N: 33,\n    // Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly\n    NOT_AVAILABLE_COMPOSITION_IN_LEGACY: 34\n};\nfunction createI18nError(code, ...args) {\n    return createCompileError(code, null, (process.env.NODE_ENV !== 'production') ? { messages: errorMessages, args } : undefined);\n}\nconst errorMessages = {\n    [I18nErrorCodes.UNEXPECTED_RETURN_TYPE]: 'Unexpected return type in composer',\n    [I18nErrorCodes.INVALID_ARGUMENT]: 'Invalid argument',\n    [I18nErrorCodes.MUST_BE_CALL_SETUP_TOP]: 'Must be called at the top of a `setup` function',\n    [I18nErrorCodes.NOT_INSTALLED]: 'Need to install with `app.use` function',\n    [I18nErrorCodes.UNEXPECTED_ERROR]: 'Unexpected error',\n    [I18nErrorCodes.REQUIRED_VALUE]: `Required in value: {0}`,\n    [I18nErrorCodes.INVALID_VALUE]: `Invalid value`,\n    [I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]: `Cannot setup vue-devtools plugin`,\n    [I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE]: 'Need to install with `provide` function',\n    [I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N]: 'Not compatible legacy VueI18n.',\n    [I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]: 'Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly'\n};\n\nconst TranslateVNodeSymbol = \n/* #__PURE__*/ makeSymbol('__translateVNode');\nconst DatetimePartsSymbol = /* #__PURE__*/ makeSymbol('__datetimeParts');\nconst NumberPartsSymbol = /* #__PURE__*/ makeSymbol('__numberParts');\nconst EnableEmitter = /* #__PURE__*/ makeSymbol('__enableEmitter');\nconst DisableEmitter = /* #__PURE__*/ makeSymbol('__disableEmitter');\nconst SetPluralRulesSymbol = makeSymbol('__setPluralRules');\nmakeSymbol('__intlifyMeta');\nconst InejctWithOptionSymbol = \n/* #__PURE__*/ makeSymbol('__injectWithOption');\nconst DisposeSymbol = /* #__PURE__*/ makeSymbol('__dispose');\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Transform flat json in obj to normal json in obj\n */\nfunction handleFlatJson(obj) {\n    // check obj\n    if (!isObject(obj)) {\n        return obj;\n    }\n    if (isMessageAST(obj)) {\n        return obj;\n    }\n    for (const key in obj) {\n        // check key\n        if (!hasOwn(obj, key)) {\n            continue;\n        }\n        // handle for normal json\n        if (!key.includes('.')) {\n            // recursive process value if value is also a object\n            if (isObject(obj[key])) {\n                handleFlatJson(obj[key]);\n            }\n        }\n        // handle for flat json, transform to normal json\n        else {\n            // go to the last object\n            const subKeys = key.split('.');\n            const lastIndex = subKeys.length - 1;\n            let currentObj = obj;\n            let hasStringValue = false;\n            for (let i = 0; i < lastIndex; i++) {\n                if (subKeys[i] === '__proto__') {\n                    throw new Error(`unsafe key: ${subKeys[i]}`);\n                }\n                if (!(subKeys[i] in currentObj)) {\n                    currentObj[subKeys[i]] = create();\n                }\n                if (!isObject(currentObj[subKeys[i]])) {\n                    (process.env.NODE_ENV !== 'production') &&\n                        warn(getWarnMessage(I18nWarnCodes.IGNORE_OBJ_FLATTEN, {\n                            key: subKeys[i]\n                        }));\n                    hasStringValue = true;\n                    break;\n                }\n                currentObj = currentObj[subKeys[i]];\n            }\n            // update last object value, delete old property\n            if (!hasStringValue) {\n                if (!isMessageAST(currentObj)) {\n                    currentObj[subKeys[lastIndex]] = obj[key];\n                    delete obj[key];\n                }\n                else {\n                    /**\n                     * NOTE:\n                     * if the last object is a message AST and subKeys[lastIndex] has message AST prop key, ignore to copy and key deletion\n                     */\n                    if (!AST_NODE_PROPS_KEYS.includes(subKeys[lastIndex])) {\n                        delete obj[key];\n                    }\n                }\n            }\n            // recursive process value if value is also a object\n            if (!isMessageAST(currentObj)) {\n                const target = currentObj[subKeys[lastIndex]];\n                if (isObject(target)) {\n                    handleFlatJson(target);\n                }\n            }\n        }\n    }\n    return obj;\n}\nfunction getLocaleMessages(locale, options) {\n    const { messages, __i18n, messageResolver, flatJson } = options;\n    // prettier-ignore\n    const ret = (isPlainObject(messages)\n        ? messages\n        : isArray(__i18n)\n            ? create()\n            : { [locale]: create() });\n    // merge locale messages of i18n custom block\n    if (isArray(__i18n)) {\n        __i18n.forEach(custom => {\n            if ('locale' in custom && 'resource' in custom) {\n                const { locale, resource } = custom;\n                if (locale) {\n                    ret[locale] = ret[locale] || create();\n                    deepCopy(resource, ret[locale]);\n                }\n                else {\n                    deepCopy(resource, ret);\n                }\n            }\n            else {\n                isString(custom) && deepCopy(JSON.parse(custom), ret);\n            }\n        });\n    }\n    // handle messages for flat json\n    if (messageResolver == null && flatJson) {\n        for (const key in ret) {\n            if (hasOwn(ret, key)) {\n                handleFlatJson(ret[key]);\n            }\n        }\n    }\n    return ret;\n}\nfunction getComponentOptions(instance) {\n    return instance.type;\n}\nfunction adjustI18nResources(gl, options, componentOptions) {\n    // prettier-ignore\n    let messages = isObject(options.messages)\n        ? options.messages\n        : create();\n    if ('__i18nGlobal' in componentOptions) {\n        messages = getLocaleMessages(gl.locale.value, {\n            messages,\n            __i18n: componentOptions.__i18nGlobal\n        });\n    }\n    // merge locale messages\n    const locales = Object.keys(messages);\n    if (locales.length) {\n        locales.forEach(locale => {\n            gl.mergeLocaleMessage(locale, messages[locale]);\n        });\n    }\n    {\n        // merge datetime formats\n        if (isObject(options.datetimeFormats)) {\n            const locales = Object.keys(options.datetimeFormats);\n            if (locales.length) {\n                locales.forEach(locale => {\n                    gl.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\n                });\n            }\n        }\n        // merge number formats\n        if (isObject(options.numberFormats)) {\n            const locales = Object.keys(options.numberFormats);\n            if (locales.length) {\n                locales.forEach(locale => {\n                    gl.mergeNumberFormat(locale, options.numberFormats[locale]);\n                });\n            }\n        }\n    }\n}\nfunction createTextNode(key) {\n    return createVNode(Text, null, key, 0);\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// extend VNode interface\nconst DEVTOOLS_META = '__INTLIFY_META__';\nconst NOOP_RETURN_ARRAY = () => [];\nconst NOOP_RETURN_FALSE = () => false;\nlet composerID = 0;\nfunction defineCoreMissingHandler(missing) {\n    return ((ctx, locale, key, type) => {\n        return missing(locale, key, getCurrentInstance() || undefined, type);\n    });\n}\n// for Intlify DevTools\n/* #__NO_SIDE_EFFECTS__ */\nconst getMetaInfo = () => {\n    const instance = getCurrentInstance();\n    let meta = null;\n    return instance && (meta = getComponentOptions(instance)[DEVTOOLS_META])\n        ? { [DEVTOOLS_META]: meta }\n        : null;\n};\n/**\n * Create composer interface factory\n *\n * @internal\n */\nfunction createComposer(options = {}) {\n    const { __root, __injectWithOption } = options;\n    const _isGlobal = __root === undefined;\n    const flatJson = options.flatJson;\n    const _ref = inBrowser ? ref : shallowRef;\n    let _inheritLocale = isBoolean(options.inheritLocale)\n        ? options.inheritLocale\n        : true;\n    const _locale = _ref(\n    // prettier-ignore\n    __root && _inheritLocale\n        ? __root.locale.value\n        : isString(options.locale)\n            ? options.locale\n            : DEFAULT_LOCALE);\n    const _fallbackLocale = _ref(\n    // prettier-ignore\n    __root && _inheritLocale\n        ? __root.fallbackLocale.value\n        : isString(options.fallbackLocale) ||\n            isArray(options.fallbackLocale) ||\n            isPlainObject(options.fallbackLocale) ||\n            options.fallbackLocale === false\n            ? options.fallbackLocale\n            : _locale.value);\n    const _messages = _ref(getLocaleMessages(_locale.value, options));\n    // prettier-ignore\n    const _datetimeFormats = _ref(isPlainObject(options.datetimeFormats)\n            ? options.datetimeFormats\n            : { [_locale.value]: {} })\n        ;\n    // prettier-ignore\n    const _numberFormats = _ref(isPlainObject(options.numberFormats)\n            ? options.numberFormats\n            : { [_locale.value]: {} })\n        ;\n    // warning suppress options\n    // prettier-ignore\n    let _missingWarn = __root\n        ? __root.missingWarn\n        : isBoolean(options.missingWarn) || isRegExp(options.missingWarn)\n            ? options.missingWarn\n            : true;\n    // prettier-ignore\n    let _fallbackWarn = __root\n        ? __root.fallbackWarn\n        : isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn)\n            ? options.fallbackWarn\n            : true;\n    // prettier-ignore\n    let _fallbackRoot = __root\n        ? __root.fallbackRoot\n        : isBoolean(options.fallbackRoot)\n            ? options.fallbackRoot\n            : true;\n    // configure fall back to root\n    let _fallbackFormat = !!options.fallbackFormat;\n    // runtime missing\n    let _missing = isFunction(options.missing) ? options.missing : null;\n    let _runtimeMissing = isFunction(options.missing)\n        ? defineCoreMissingHandler(options.missing)\n        : null;\n    // postTranslation handler\n    let _postTranslation = isFunction(options.postTranslation)\n        ? options.postTranslation\n        : null;\n    // prettier-ignore\n    let _warnHtmlMessage = __root\n        ? __root.warnHtmlMessage\n        : isBoolean(options.warnHtmlMessage)\n            ? options.warnHtmlMessage\n            : true;\n    let _escapeParameter = !!options.escapeParameter;\n    // custom linked modifiers\n    // prettier-ignore\n    const _modifiers = __root\n        ? __root.modifiers\n        : isPlainObject(options.modifiers)\n            ? options.modifiers\n            : {};\n    // pluralRules\n    let _pluralRules = options.pluralRules || (__root && __root.pluralRules);\n    // runtime context\n    // eslint-disable-next-line prefer-const\n    let _context;\n    const getCoreContext = () => {\n        _isGlobal && setFallbackContext(null);\n        const ctxOptions = {\n            version: VERSION,\n            locale: _locale.value,\n            fallbackLocale: _fallbackLocale.value,\n            messages: _messages.value,\n            modifiers: _modifiers,\n            pluralRules: _pluralRules,\n            missing: _runtimeMissing === null ? undefined : _runtimeMissing,\n            missingWarn: _missingWarn,\n            fallbackWarn: _fallbackWarn,\n            fallbackFormat: _fallbackFormat,\n            unresolving: true,\n            postTranslation: _postTranslation === null ? undefined : _postTranslation,\n            warnHtmlMessage: _warnHtmlMessage,\n            escapeParameter: _escapeParameter,\n            messageResolver: options.messageResolver,\n            messageCompiler: options.messageCompiler,\n            __meta: { framework: 'vue' }\n        };\n        {\n            ctxOptions.datetimeFormats = _datetimeFormats.value;\n            ctxOptions.numberFormats = _numberFormats.value;\n            ctxOptions.__datetimeFormatters = isPlainObject(_context)\n                ? _context.__datetimeFormatters\n                : undefined;\n            ctxOptions.__numberFormatters = isPlainObject(_context)\n                ? _context.__numberFormatters\n                : undefined;\n        }\n        if ((process.env.NODE_ENV !== 'production')) {\n            ctxOptions.__v_emitter = isPlainObject(_context)\n                ? _context.__v_emitter\n                : undefined;\n        }\n        const ctx = createCoreContext(ctxOptions);\n        _isGlobal && setFallbackContext(ctx);\n        return ctx;\n    };\n    _context = getCoreContext();\n    updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n    // track reactivity\n    function trackReactivityValues() {\n        return [\n                _locale.value,\n                _fallbackLocale.value,\n                _messages.value,\n                _datetimeFormats.value,\n                _numberFormats.value\n            ]\n            ;\n    }\n    // locale\n    const locale = computed({\n        get: () => _locale.value,\n        set: val => {\n            _locale.value = val;\n            _context.locale = _locale.value;\n        }\n    });\n    // fallbackLocale\n    const fallbackLocale = computed({\n        get: () => _fallbackLocale.value,\n        set: val => {\n            _fallbackLocale.value = val;\n            _context.fallbackLocale = _fallbackLocale.value;\n            updateFallbackLocale(_context, _locale.value, val);\n        }\n    });\n    // messages\n    const messages = computed(() => _messages.value);\n    // datetimeFormats\n    const datetimeFormats = /* #__PURE__*/ computed(() => _datetimeFormats.value);\n    // numberFormats\n    const numberFormats = /* #__PURE__*/ computed(() => _numberFormats.value);\n    // getPostTranslationHandler\n    function getPostTranslationHandler() {\n        return isFunction(_postTranslation) ? _postTranslation : null;\n    }\n    // setPostTranslationHandler\n    function setPostTranslationHandler(handler) {\n        _postTranslation = handler;\n        _context.postTranslation = handler;\n    }\n    // getMissingHandler\n    function getMissingHandler() {\n        return _missing;\n    }\n    // setMissingHandler\n    function setMissingHandler(handler) {\n        if (handler !== null) {\n            _runtimeMissing = defineCoreMissingHandler(handler);\n        }\n        _missing = handler;\n        _context.missing = _runtimeMissing;\n    }\n    function isResolvedTranslateMessage(type, arg) {\n        return type !== 'translate' || !arg.resolvedMessage;\n    }\n    const wrapWithDeps = (fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) => {\n        trackReactivityValues(); // track reactive dependency\n        // NOTE: experimental !!\n        let ret;\n        try {\n            if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\n                setAdditionalMeta(getMetaInfo());\n            }\n            if (!_isGlobal) {\n                _context.fallbackContext = __root\n                    ? getFallbackContext()\n                    : undefined;\n            }\n            ret = fn(_context);\n        }\n        finally {\n            if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\n                setAdditionalMeta(null);\n            }\n            if (!_isGlobal) {\n                _context.fallbackContext = undefined;\n            }\n        }\n        if ((warnType !== 'translate exists' && // for not `te` (e.g `t`)\n            isNumber(ret) &&\n            ret === NOT_REOSLVED) ||\n            (warnType === 'translate exists' && !ret) // for `te`\n        ) {\n            const [key, arg2] = argumentParser();\n            if ((process.env.NODE_ENV !== 'production') &&\n                __root &&\n                isString(key) &&\n                isResolvedTranslateMessage(warnType, arg2)) {\n                if (_fallbackRoot &&\n                    (isTranslateFallbackWarn(_fallbackWarn, key) ||\n                        isTranslateMissingWarn(_missingWarn, key))) {\n                    warn(getWarnMessage(I18nWarnCodes.FALLBACK_TO_ROOT, {\n                        key,\n                        type: warnType\n                    }));\n                }\n                // for vue-devtools timeline event\n                if ((process.env.NODE_ENV !== 'production')) {\n                    const { __v_emitter: emitter } = _context;\n                    if (emitter && _fallbackRoot) {\n                        emitter.emit('fallback', {\n                            type: warnType,\n                            key,\n                            to: 'global',\n                            groupId: `${warnType}:${key}`\n                        });\n                    }\n                }\n            }\n            return __root && _fallbackRoot\n                ? fallbackSuccess(__root)\n                : fallbackFail(key);\n        }\n        else if (successCondition(ret)) {\n            return ret;\n        }\n        else {\n            /* istanbul ignore next */\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE);\n        }\n    };\n    // t\n    function t(...args) {\n        return wrapWithDeps(context => Reflect.apply(translate, null, [context, ...args]), () => parseTranslateArgs(...args), 'translate', root => Reflect.apply(root.t, root, [...args]), key => key, val => isString(val));\n    }\n    // rt\n    function rt(...args) {\n        const [arg1, arg2, arg3] = args;\n        if (arg3 && !isObject(arg3)) {\n            throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\n        }\n        return t(...[arg1, arg2, assign({ resolvedMessage: true }, arg3 || {})]);\n    }\n    // d\n    function d(...args) {\n        return wrapWithDeps(context => Reflect.apply(datetime, null, [context, ...args]), () => parseDateTimeArgs(...args), 'datetime format', root => Reflect.apply(root.d, root, [...args]), () => MISSING_RESOLVE_VALUE, val => isString(val));\n    }\n    // n\n    function n(...args) {\n        return wrapWithDeps(context => Reflect.apply(number, null, [context, ...args]), () => parseNumberArgs(...args), 'number format', root => Reflect.apply(root.n, root, [...args]), () => MISSING_RESOLVE_VALUE, val => isString(val));\n    }\n    // for custom processor\n    function normalize(values) {\n        return values.map(val => isString(val) || isNumber(val) || isBoolean(val)\n            ? createTextNode(String(val))\n            : val);\n    }\n    const interpolate = (val) => val;\n    const processor = {\n        normalize,\n        interpolate,\n        type: 'vnode'\n    };\n    // translateVNode, using for `i18n-t` component\n    function translateVNode(...args) {\n        return wrapWithDeps(context => {\n            let ret;\n            const _context = context;\n            try {\n                _context.processor = processor;\n                ret = Reflect.apply(translate, null, [_context, ...args]);\n            }\n            finally {\n                _context.processor = null;\n            }\n            return ret;\n        }, () => parseTranslateArgs(...args), 'translate', root => root[TranslateVNodeSymbol](...args), key => [createTextNode(key)], val => isArray(val));\n    }\n    // numberParts, using for `i18n-n` component\n    function numberParts(...args) {\n        return wrapWithDeps(context => Reflect.apply(number, null, [context, ...args]), () => parseNumberArgs(...args), 'number format', root => root[NumberPartsSymbol](...args), NOOP_RETURN_ARRAY, val => isString(val) || isArray(val));\n    }\n    // datetimeParts, using for `i18n-d` component\n    function datetimeParts(...args) {\n        return wrapWithDeps(context => Reflect.apply(datetime, null, [context, ...args]), () => parseDateTimeArgs(...args), 'datetime format', root => root[DatetimePartsSymbol](...args), NOOP_RETURN_ARRAY, val => isString(val) || isArray(val));\n    }\n    function setPluralRules(rules) {\n        _pluralRules = rules;\n        _context.pluralRules = _pluralRules;\n    }\n    // te\n    function te(key, locale) {\n        return wrapWithDeps(() => {\n            if (!key) {\n                return false;\n            }\n            const targetLocale = isString(locale) ? locale : _locale.value;\n            const message = getLocaleMessage(targetLocale);\n            const resolved = _context.messageResolver(message, key);\n            return (isMessageAST(resolved) ||\n                isMessageFunction(resolved) ||\n                isString(resolved));\n        }, () => [key], 'translate exists', root => {\n            return Reflect.apply(root.te, root, [key, locale]);\n        }, NOOP_RETURN_FALSE, val => isBoolean(val));\n    }\n    function resolveMessages(key) {\n        let messages = null;\n        const locales = fallbackWithLocaleChain(_context, _fallbackLocale.value, _locale.value);\n        for (let i = 0; i < locales.length; i++) {\n            const targetLocaleMessages = _messages.value[locales[i]] || {};\n            const messageValue = _context.messageResolver(targetLocaleMessages, key);\n            if (messageValue != null) {\n                messages = messageValue;\n                break;\n            }\n        }\n        return messages;\n    }\n    // tm\n    function tm(key) {\n        const messages = resolveMessages(key);\n        // prettier-ignore\n        return messages != null\n            ? messages\n            : __root\n                ? __root.tm(key) || {}\n                : {};\n    }\n    // getLocaleMessage\n    function getLocaleMessage(locale) {\n        return (_messages.value[locale] || {});\n    }\n    // setLocaleMessage\n    function setLocaleMessage(locale, message) {\n        if (flatJson) {\n            const _message = { [locale]: message };\n            for (const key in _message) {\n                if (hasOwn(_message, key)) {\n                    handleFlatJson(_message[key]);\n                }\n            }\n            message = _message[locale];\n        }\n        _messages.value[locale] = message;\n        _context.messages = _messages.value;\n    }\n    // mergeLocaleMessage\n    function mergeLocaleMessage(locale, message) {\n        _messages.value[locale] = _messages.value[locale] || {};\n        const _message = { [locale]: message };\n        if (flatJson) {\n            for (const key in _message) {\n                if (hasOwn(_message, key)) {\n                    handleFlatJson(_message[key]);\n                }\n            }\n        }\n        message = _message[locale];\n        deepCopy(message, _messages.value[locale]);\n        _context.messages = _messages.value;\n    }\n    // getDateTimeFormat\n    function getDateTimeFormat(locale) {\n        return _datetimeFormats.value[locale] || {};\n    }\n    // setDateTimeFormat\n    function setDateTimeFormat(locale, format) {\n        _datetimeFormats.value[locale] = format;\n        _context.datetimeFormats = _datetimeFormats.value;\n        clearDateTimeFormat(_context, locale, format);\n    }\n    // mergeDateTimeFormat\n    function mergeDateTimeFormat(locale, format) {\n        _datetimeFormats.value[locale] = assign(_datetimeFormats.value[locale] || {}, format);\n        _context.datetimeFormats = _datetimeFormats.value;\n        clearDateTimeFormat(_context, locale, format);\n    }\n    // getNumberFormat\n    function getNumberFormat(locale) {\n        return _numberFormats.value[locale] || {};\n    }\n    // setNumberFormat\n    function setNumberFormat(locale, format) {\n        _numberFormats.value[locale] = format;\n        _context.numberFormats = _numberFormats.value;\n        clearNumberFormat(_context, locale, format);\n    }\n    // mergeNumberFormat\n    function mergeNumberFormat(locale, format) {\n        _numberFormats.value[locale] = assign(_numberFormats.value[locale] || {}, format);\n        _context.numberFormats = _numberFormats.value;\n        clearNumberFormat(_context, locale, format);\n    }\n    // for debug\n    composerID++;\n    // watch root locale & fallbackLocale\n    if (__root && inBrowser) {\n        watch(__root.locale, (val) => {\n            if (_inheritLocale) {\n                _locale.value = val;\n                _context.locale = val;\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n            }\n        });\n        watch(__root.fallbackLocale, (val) => {\n            if (_inheritLocale) {\n                _fallbackLocale.value = val;\n                _context.fallbackLocale = val;\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n            }\n        });\n    }\n    // define basic composition API!\n    const composer = {\n        id: composerID,\n        locale,\n        fallbackLocale,\n        get inheritLocale() {\n            return _inheritLocale;\n        },\n        set inheritLocale(val) {\n            _inheritLocale = val;\n            if (val && __root) {\n                _locale.value = __root.locale.value;\n                _fallbackLocale.value = __root.fallbackLocale.value;\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n            }\n        },\n        get availableLocales() {\n            return Object.keys(_messages.value).sort();\n        },\n        messages,\n        get modifiers() {\n            return _modifiers;\n        },\n        get pluralRules() {\n            return _pluralRules || {};\n        },\n        get isGlobal() {\n            return _isGlobal;\n        },\n        get missingWarn() {\n            return _missingWarn;\n        },\n        set missingWarn(val) {\n            _missingWarn = val;\n            _context.missingWarn = _missingWarn;\n        },\n        get fallbackWarn() {\n            return _fallbackWarn;\n        },\n        set fallbackWarn(val) {\n            _fallbackWarn = val;\n            _context.fallbackWarn = _fallbackWarn;\n        },\n        get fallbackRoot() {\n            return _fallbackRoot;\n        },\n        set fallbackRoot(val) {\n            _fallbackRoot = val;\n        },\n        get fallbackFormat() {\n            return _fallbackFormat;\n        },\n        set fallbackFormat(val) {\n            _fallbackFormat = val;\n            _context.fallbackFormat = _fallbackFormat;\n        },\n        get warnHtmlMessage() {\n            return _warnHtmlMessage;\n        },\n        set warnHtmlMessage(val) {\n            _warnHtmlMessage = val;\n            _context.warnHtmlMessage = val;\n        },\n        get escapeParameter() {\n            return _escapeParameter;\n        },\n        set escapeParameter(val) {\n            _escapeParameter = val;\n            _context.escapeParameter = val;\n        },\n        t,\n        getLocaleMessage,\n        setLocaleMessage,\n        mergeLocaleMessage,\n        getPostTranslationHandler,\n        setPostTranslationHandler,\n        getMissingHandler,\n        setMissingHandler,\n        [SetPluralRulesSymbol]: setPluralRules\n    };\n    {\n        composer.datetimeFormats = datetimeFormats;\n        composer.numberFormats = numberFormats;\n        composer.rt = rt;\n        composer.te = te;\n        composer.tm = tm;\n        composer.d = d;\n        composer.n = n;\n        composer.getDateTimeFormat = getDateTimeFormat;\n        composer.setDateTimeFormat = setDateTimeFormat;\n        composer.mergeDateTimeFormat = mergeDateTimeFormat;\n        composer.getNumberFormat = getNumberFormat;\n        composer.setNumberFormat = setNumberFormat;\n        composer.mergeNumberFormat = mergeNumberFormat;\n        composer[InejctWithOptionSymbol] = __injectWithOption;\n        composer[TranslateVNodeSymbol] = translateVNode;\n        composer[DatetimePartsSymbol] = datetimeParts;\n        composer[NumberPartsSymbol] = numberParts;\n    }\n    // for vue-devtools timeline event\n    if ((process.env.NODE_ENV !== 'production')) {\n        composer[EnableEmitter] = (emitter) => {\n            _context.__v_emitter = emitter;\n        };\n        composer[DisableEmitter] = () => {\n            _context.__v_emitter = undefined;\n        };\n    }\n    return composer;\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst VUE_I18N_COMPONENT_TYPES = 'vue-i18n: composer properties';\nconst VueDevToolsLabels = {\n    'vue-devtools-plugin-vue-i18n': 'Vue I18n DevTools',\n    'vue-i18n-resource-inspector': 'Vue I18n DevTools',\n    'vue-i18n-timeline': 'Vue I18n'\n};\nconst VueDevToolsPlaceholders = {\n    'vue-i18n-resource-inspector': 'Search for scopes ...'\n};\nconst VueDevToolsTimelineColors = {\n    'vue-i18n-timeline': 0xffcd19\n};\nlet devtoolsApi;\nasync function enableDevTools(app, i18n) {\n    return new Promise((resolve, reject) => {\n        try {\n            setupDevtoolsPlugin({\n                id: 'vue-devtools-plugin-vue-i18n',\n                label: VueDevToolsLabels['vue-devtools-plugin-vue-i18n'],\n                packageName: 'vue-i18n',\n                homepage: 'https://vue-i18n.intlify.dev',\n                logo: 'https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png',\n                componentStateTypes: [VUE_I18N_COMPONENT_TYPES],\n                app: app // eslint-disable-line @typescript-eslint/no-explicit-any\n            }, api => {\n                devtoolsApi = api;\n                api.on.visitComponentTree(({ componentInstance, treeNode }) => {\n                    updateComponentTreeTags(componentInstance, treeNode, i18n);\n                });\n                api.on.inspectComponent(({ componentInstance, instanceData }) => {\n                    if (componentInstance.vnode.el &&\n                        componentInstance.vnode.el.__VUE_I18N__ &&\n                        instanceData) {\n                        if (i18n.mode === 'legacy') {\n                            // ignore global scope on legacy mode\n                            if (componentInstance.vnode.el.__VUE_I18N__ !==\n                                i18n.global.__composer) {\n                                inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);\n                            }\n                        }\n                        else {\n                            inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);\n                        }\n                    }\n                });\n                api.addInspector({\n                    id: 'vue-i18n-resource-inspector',\n                    label: VueDevToolsLabels['vue-i18n-resource-inspector'],\n                    icon: 'language',\n                    treeFilterPlaceholder: VueDevToolsPlaceholders['vue-i18n-resource-inspector']\n                });\n                api.on.getInspectorTree(payload => {\n                    if (payload.app === app &&\n                        payload.inspectorId === 'vue-i18n-resource-inspector') {\n                        registerScope(payload, i18n);\n                    }\n                });\n                const roots = new Map();\n                api.on.getInspectorState(async (payload) => {\n                    if (payload.app === app &&\n                        payload.inspectorId === 'vue-i18n-resource-inspector') {\n                        api.unhighlightElement();\n                        inspectScope(payload, i18n);\n                        if (payload.nodeId === 'global') {\n                            if (!roots.has(payload.app)) {\n                                const [root] = await api.getComponentInstances(payload.app);\n                                roots.set(payload.app, root);\n                            }\n                            api.highlightElement(roots.get(payload.app));\n                        }\n                        else {\n                            const instance = getComponentInstance(payload.nodeId, i18n);\n                            instance && api.highlightElement(instance);\n                        }\n                    }\n                });\n                api.on.editInspectorState(payload => {\n                    if (payload.app === app &&\n                        payload.inspectorId === 'vue-i18n-resource-inspector') {\n                        editScope(payload, i18n);\n                    }\n                });\n                api.addTimelineLayer({\n                    id: 'vue-i18n-timeline',\n                    label: VueDevToolsLabels['vue-i18n-timeline'],\n                    color: VueDevToolsTimelineColors['vue-i18n-timeline']\n                });\n                resolve(true);\n            });\n        }\n        catch (e) {\n            console.error(e);\n            // eslint-disable-next-line @typescript-eslint/prefer-promise-reject-errors\n            reject(false);\n        }\n    });\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getI18nScopeLable(instance) {\n    return (instance.type.name ||\n        instance.type.displayName ||\n        instance.type.__file ||\n        'Anonymous');\n}\nfunction updateComponentTreeTags(instance, // eslint-disable-line @typescript-eslint/no-explicit-any\ntreeNode, i18n) {\n    // prettier-ignore\n    const global = i18n.mode === 'composition'\n        ? i18n.global\n        : i18n.global.__composer;\n    if (instance && instance.vnode.el && instance.vnode.el.__VUE_I18N__) {\n        // add custom tags local scope only\n        if (instance.vnode.el.__VUE_I18N__ !== global) {\n            const tag = {\n                label: `i18n (${getI18nScopeLable(instance)} Scope)`,\n                textColor: 0x000000,\n                backgroundColor: 0xffcd19\n            };\n            treeNode.tags.push(tag);\n        }\n    }\n}\nfunction inspectComposer(instanceData, composer) {\n    const type = VUE_I18N_COMPONENT_TYPES;\n    instanceData.state.push({\n        type,\n        key: 'locale',\n        editable: true,\n        value: composer.locale.value\n    });\n    instanceData.state.push({\n        type,\n        key: 'availableLocales',\n        editable: false,\n        value: composer.availableLocales\n    });\n    instanceData.state.push({\n        type,\n        key: 'fallbackLocale',\n        editable: true,\n        value: composer.fallbackLocale.value\n    });\n    instanceData.state.push({\n        type,\n        key: 'inheritLocale',\n        editable: true,\n        value: composer.inheritLocale\n    });\n    instanceData.state.push({\n        type,\n        key: 'messages',\n        editable: false,\n        value: getLocaleMessageValue(composer.messages.value)\n    });\n    {\n        instanceData.state.push({\n            type,\n            key: 'datetimeFormats',\n            editable: false,\n            value: composer.datetimeFormats.value\n        });\n        instanceData.state.push({\n            type,\n            key: 'numberFormats',\n            editable: false,\n            value: composer.numberFormats.value\n        });\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getLocaleMessageValue(messages) {\n    const value = {};\n    Object.keys(messages).forEach((key) => {\n        const v = messages[key];\n        if (isFunction(v) && 'source' in v) {\n            value[key] = getMessageFunctionDetails(v);\n        }\n        else if (isMessageAST(v) && v.loc && v.loc.source) {\n            value[key] = v.loc.source;\n        }\n        else if (isObject(v)) {\n            value[key] = getLocaleMessageValue(v);\n        }\n        else {\n            value[key] = v;\n        }\n    });\n    return value;\n}\nconst ESC = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '&': '&amp;'\n};\nfunction escape(s) {\n    return s.replace(/[<>\"&]/g, escapeChar);\n}\nfunction escapeChar(a) {\n    return ESC[a] || a;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getMessageFunctionDetails(func) {\n    const argString = func.source ? `(\"${escape(func.source)}\")` : `(?)`;\n    return {\n        _custom: {\n            type: 'function',\n            display: `<span>ƒ</span> ${argString}`\n        }\n    };\n}\nfunction registerScope(payload, i18n) {\n    payload.rootNodes.push({\n        id: 'global',\n        label: 'Global Scope'\n    });\n    // prettier-ignore\n    const global = i18n.mode === 'composition'\n        ? i18n.global\n        : i18n.global.__composer;\n    for (const [keyInstance, instance] of i18n.__instances) {\n        // prettier-ignore\n        const composer = i18n.mode === 'composition'\n            ? instance\n            : instance.__composer;\n        if (global === composer) {\n            continue;\n        }\n        payload.rootNodes.push({\n            id: composer.id.toString(),\n            label: `${getI18nScopeLable(keyInstance)} Scope`\n        });\n    }\n}\nfunction getComponentInstance(nodeId, i18n) {\n    let instance = null;\n    if (nodeId !== 'global') {\n        for (const [component, composer] of i18n.__instances.entries()) {\n            if (composer.id.toString() === nodeId) {\n                instance = component;\n                break;\n            }\n        }\n    }\n    return instance;\n}\nfunction getComposer$2(nodeId, i18n) {\n    if (nodeId === 'global') {\n        return i18n.mode === 'composition'\n            ? i18n.global\n            : i18n.global.__composer;\n    }\n    else {\n        const instance = Array.from(i18n.__instances.values()).find(item => item.id.toString() === nodeId);\n        if (instance) {\n            return i18n.mode === 'composition'\n                ? instance\n                : instance.__composer;\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction inspectScope(payload, i18n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    const composer = getComposer$2(payload.nodeId, i18n);\n    if (composer) {\n        // TODO:\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        payload.state = makeScopeInspectState(composer);\n    }\n    return null;\n}\nfunction makeScopeInspectState(composer) {\n    const state = {};\n    const localeType = 'Locale related info';\n    const localeStates = [\n        {\n            type: localeType,\n            key: 'locale',\n            editable: true,\n            value: composer.locale.value\n        },\n        {\n            type: localeType,\n            key: 'fallbackLocale',\n            editable: true,\n            value: composer.fallbackLocale.value\n        },\n        {\n            type: localeType,\n            key: 'availableLocales',\n            editable: false,\n            value: composer.availableLocales\n        },\n        {\n            type: localeType,\n            key: 'inheritLocale',\n            editable: true,\n            value: composer.inheritLocale\n        }\n    ];\n    state[localeType] = localeStates;\n    const localeMessagesType = 'Locale messages info';\n    const localeMessagesStates = [\n        {\n            type: localeMessagesType,\n            key: 'messages',\n            editable: false,\n            value: getLocaleMessageValue(composer.messages.value)\n        }\n    ];\n    state[localeMessagesType] = localeMessagesStates;\n    {\n        const datetimeFormatsType = 'Datetime formats info';\n        const datetimeFormatsStates = [\n            {\n                type: datetimeFormatsType,\n                key: 'datetimeFormats',\n                editable: false,\n                value: composer.datetimeFormats.value\n            }\n        ];\n        state[datetimeFormatsType] = datetimeFormatsStates;\n        const numberFormatsType = 'Datetime formats info';\n        const numberFormatsStates = [\n            {\n                type: numberFormatsType,\n                key: 'numberFormats',\n                editable: false,\n                value: composer.numberFormats.value\n            }\n        ];\n        state[numberFormatsType] = numberFormatsStates;\n    }\n    return state;\n}\nfunction addTimelineEvent(event, payload) {\n    if (devtoolsApi) {\n        let groupId;\n        if (payload && 'groupId' in payload) {\n            groupId = payload.groupId;\n            delete payload.groupId;\n        }\n        devtoolsApi.addTimelineEvent({\n            layerId: 'vue-i18n-timeline',\n            event: {\n                title: event,\n                groupId,\n                time: Date.now(),\n                meta: {},\n                data: payload || {},\n                logType: event === 'compile-error'\n                    ? 'error'\n                    : event === 'fallback' || event === 'missing'\n                        ? 'warning'\n                        : 'default'\n            }\n        });\n    }\n}\nfunction editScope(payload, i18n) {\n    const composer = getComposer$2(payload.nodeId, i18n);\n    if (composer) {\n        const [field] = payload.path;\n        if (field === 'locale' && isString(payload.state.value)) {\n            composer.locale.value = payload.state.value;\n        }\n        else if (field === 'fallbackLocale' &&\n            (isString(payload.state.value) ||\n                isArray(payload.state.value) ||\n                isObject(payload.state.value))) {\n            composer.fallbackLocale.value = payload.state.value;\n        }\n        else if (field === 'inheritLocale' && isBoolean(payload.state.value)) {\n            composer.inheritLocale = payload.state.value;\n        }\n    }\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Convert to I18n Composer Options from VueI18n Options\n *\n * @internal\n */\nfunction convertComposerOptions(options) {\n    const locale = isString(options.locale) ? options.locale : DEFAULT_LOCALE;\n    const fallbackLocale = isString(options.fallbackLocale) ||\n        isArray(options.fallbackLocale) ||\n        isPlainObject(options.fallbackLocale) ||\n        options.fallbackLocale === false\n        ? options.fallbackLocale\n        : locale;\n    const missing = isFunction(options.missing) ? options.missing : undefined;\n    const missingWarn = isBoolean(options.silentTranslationWarn) ||\n        isRegExp(options.silentTranslationWarn)\n        ? !options.silentTranslationWarn\n        : true;\n    const fallbackWarn = isBoolean(options.silentFallbackWarn) ||\n        isRegExp(options.silentFallbackWarn)\n        ? !options.silentFallbackWarn\n        : true;\n    const fallbackRoot = isBoolean(options.fallbackRoot)\n        ? options.fallbackRoot\n        : true;\n    const fallbackFormat = !!options.formatFallbackMessages;\n    const modifiers = isPlainObject(options.modifiers) ? options.modifiers : {};\n    const pluralizationRules = options.pluralizationRules;\n    const postTranslation = isFunction(options.postTranslation)\n        ? options.postTranslation\n        : undefined;\n    const warnHtmlMessage = isString(options.warnHtmlInMessage)\n        ? options.warnHtmlInMessage !== 'off'\n        : true;\n    const escapeParameter = !!options.escapeParameterHtml;\n    const inheritLocale = isBoolean(options.sync) ? options.sync : true;\n    let messages = options.messages;\n    if (isPlainObject(options.sharedMessages)) {\n        const sharedMessages = options.sharedMessages;\n        const locales = Object.keys(sharedMessages);\n        messages = locales.reduce((messages, locale) => {\n            const message = messages[locale] || (messages[locale] = {});\n            assign(message, sharedMessages[locale]);\n            return messages;\n        }, (messages || {}));\n    }\n    const { __i18n, __root, __injectWithOption } = options;\n    const datetimeFormats = options.datetimeFormats;\n    const numberFormats = options.numberFormats;\n    const flatJson = options.flatJson;\n    return {\n        locale,\n        fallbackLocale,\n        messages,\n        flatJson,\n        datetimeFormats,\n        numberFormats,\n        missing,\n        missingWarn,\n        fallbackWarn,\n        fallbackRoot,\n        fallbackFormat,\n        modifiers,\n        pluralRules: pluralizationRules,\n        postTranslation,\n        warnHtmlMessage,\n        escapeParameter,\n        messageResolver: options.messageResolver,\n        inheritLocale,\n        __i18n,\n        __root,\n        __injectWithOption\n    };\n}\n/**\n * create VueI18n interface factory\n *\n * @internal\n */\nfunction createVueI18n(options = {}) {\n    const composer = createComposer(convertComposerOptions(options));\n    const { __extender } = options;\n    // defines VueI18n\n    const vueI18n = {\n        // id\n        id: composer.id,\n        // locale\n        get locale() {\n            return composer.locale.value;\n        },\n        set locale(val) {\n            composer.locale.value = val;\n        },\n        // fallbackLocale\n        get fallbackLocale() {\n            return composer.fallbackLocale.value;\n        },\n        set fallbackLocale(val) {\n            composer.fallbackLocale.value = val;\n        },\n        // messages\n        get messages() {\n            return composer.messages.value;\n        },\n        // datetimeFormats\n        get datetimeFormats() {\n            return composer.datetimeFormats.value;\n        },\n        // numberFormats\n        get numberFormats() {\n            return composer.numberFormats.value;\n        },\n        // availableLocales\n        get availableLocales() {\n            return composer.availableLocales;\n        },\n        // missing\n        get missing() {\n            return composer.getMissingHandler();\n        },\n        set missing(handler) {\n            composer.setMissingHandler(handler);\n        },\n        // silentTranslationWarn\n        get silentTranslationWarn() {\n            return isBoolean(composer.missingWarn)\n                ? !composer.missingWarn\n                : composer.missingWarn;\n        },\n        set silentTranslationWarn(val) {\n            composer.missingWarn = isBoolean(val) ? !val : val;\n        },\n        // silentFallbackWarn\n        get silentFallbackWarn() {\n            return isBoolean(composer.fallbackWarn)\n                ? !composer.fallbackWarn\n                : composer.fallbackWarn;\n        },\n        set silentFallbackWarn(val) {\n            composer.fallbackWarn = isBoolean(val) ? !val : val;\n        },\n        // modifiers\n        get modifiers() {\n            return composer.modifiers;\n        },\n        // formatFallbackMessages\n        get formatFallbackMessages() {\n            return composer.fallbackFormat;\n        },\n        set formatFallbackMessages(val) {\n            composer.fallbackFormat = val;\n        },\n        // postTranslation\n        get postTranslation() {\n            return composer.getPostTranslationHandler();\n        },\n        set postTranslation(handler) {\n            composer.setPostTranslationHandler(handler);\n        },\n        // sync\n        get sync() {\n            return composer.inheritLocale;\n        },\n        set sync(val) {\n            composer.inheritLocale = val;\n        },\n        // warnInHtmlMessage\n        get warnHtmlInMessage() {\n            return composer.warnHtmlMessage ? 'warn' : 'off';\n        },\n        set warnHtmlInMessage(val) {\n            composer.warnHtmlMessage = val !== 'off';\n        },\n        // escapeParameterHtml\n        get escapeParameterHtml() {\n            return composer.escapeParameter;\n        },\n        set escapeParameterHtml(val) {\n            composer.escapeParameter = val;\n        },\n        // pluralizationRules\n        get pluralizationRules() {\n            return composer.pluralRules || {};\n        },\n        // for internal\n        __composer: composer,\n        // t\n        t(...args) {\n            return Reflect.apply(composer.t, composer, [...args]);\n        },\n        // rt\n        rt(...args) {\n            return Reflect.apply(composer.rt, composer, [...args]);\n        },\n        // tc\n        tc(...args) {\n            const [arg1, arg2, arg3] = args;\n            const options = { plural: 1 };\n            let list = null;\n            let named = null;\n            if ((process.env.NODE_ENV !== 'production')) {\n                warnOnce(getWarnMessage(I18nWarnCodes.DEPRECATE_TC));\n            }\n            if (!isString(arg1)) {\n                throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\n            }\n            const key = arg1;\n            if (isString(arg2)) {\n                options.locale = arg2;\n            }\n            else if (isNumber(arg2)) {\n                options.plural = arg2;\n            }\n            else if (isArray(arg2)) {\n                list = arg2;\n            }\n            else if (isPlainObject(arg2)) {\n                named = arg2;\n            }\n            if (isString(arg3)) {\n                options.locale = arg3;\n            }\n            else if (isArray(arg3)) {\n                list = arg3;\n            }\n            else if (isPlainObject(arg3)) {\n                named = arg3;\n            }\n            // return composer.t(key, (list || named || {}) as any, options)\n            return Reflect.apply(composer.t, composer, [\n                key,\n                (list || named || {}),\n                options\n            ]);\n        },\n        // te\n        te(key, locale) {\n            return composer.te(key, locale);\n        },\n        // tm\n        tm(key) {\n            return composer.tm(key);\n        },\n        // getLocaleMessage\n        getLocaleMessage(locale) {\n            return composer.getLocaleMessage(locale);\n        },\n        // setLocaleMessage\n        setLocaleMessage(locale, message) {\n            composer.setLocaleMessage(locale, message);\n        },\n        // mergeLocaleMessage\n        mergeLocaleMessage(locale, message) {\n            composer.mergeLocaleMessage(locale, message);\n        },\n        // d\n        d(...args) {\n            return Reflect.apply(composer.d, composer, [...args]);\n        },\n        // getDateTimeFormat\n        getDateTimeFormat(locale) {\n            return composer.getDateTimeFormat(locale);\n        },\n        // setDateTimeFormat\n        setDateTimeFormat(locale, format) {\n            composer.setDateTimeFormat(locale, format);\n        },\n        // mergeDateTimeFormat\n        mergeDateTimeFormat(locale, format) {\n            composer.mergeDateTimeFormat(locale, format);\n        },\n        // n\n        n(...args) {\n            return Reflect.apply(composer.n, composer, [...args]);\n        },\n        // getNumberFormat\n        getNumberFormat(locale) {\n            return composer.getNumberFormat(locale);\n        },\n        // setNumberFormat\n        setNumberFormat(locale, format) {\n            composer.setNumberFormat(locale, format);\n        },\n        // mergeNumberFormat\n        mergeNumberFormat(locale, format) {\n            composer.mergeNumberFormat(locale, format);\n        }\n    };\n    vueI18n.__extender = __extender;\n    // for vue-devtools timeline event\n    if ((process.env.NODE_ENV !== 'production')) {\n        vueI18n.__enableEmitter = (emitter) => {\n            const __composer = composer;\n            __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\n        };\n        vueI18n.__disableEmitter = () => {\n            const __composer = composer;\n            __composer[DisableEmitter] && __composer[DisableEmitter]();\n        };\n    }\n    return vueI18n;\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * Supports compatibility for legacy vue-i18n APIs\n * This mixin is used when we use vue-i18n@v9.x or later\n */\nfunction defineMixin(vuei18n, composer, i18n) {\n    return {\n        beforeCreate() {\n            const instance = getCurrentInstance();\n            /* istanbul ignore if */\n            if (!instance) {\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n            }\n            const options = this.$options;\n            if (options.i18n) {\n                const optionsI18n = options.i18n;\n                if (options.__i18n) {\n                    optionsI18n.__i18n = options.__i18n;\n                }\n                optionsI18n.__root = composer;\n                if (this === this.$root) {\n                    // merge option and gttach global\n                    this.$i18n = mergeToGlobal(vuei18n, optionsI18n);\n                }\n                else {\n                    optionsI18n.__injectWithOption = true;\n                    optionsI18n.__extender = i18n.__vueI18nExtend;\n                    // atttach local VueI18n instance\n                    this.$i18n = createVueI18n(optionsI18n);\n                    // extend VueI18n instance\n                    const _vueI18n = this.$i18n;\n                    if (_vueI18n.__extender) {\n                        _vueI18n.__disposer = _vueI18n.__extender(this.$i18n);\n                    }\n                }\n            }\n            else if (options.__i18n) {\n                if (this === this.$root) {\n                    // merge option and gttach global\n                    this.$i18n = mergeToGlobal(vuei18n, options);\n                }\n                else {\n                    // atttach local VueI18n instance\n                    this.$i18n = createVueI18n({\n                        __i18n: options.__i18n,\n                        __injectWithOption: true,\n                        __extender: i18n.__vueI18nExtend,\n                        __root: composer\n                    });\n                    // extend VueI18n instance\n                    const _vueI18n = this.$i18n;\n                    if (_vueI18n.__extender) {\n                        _vueI18n.__disposer = _vueI18n.__extender(this.$i18n);\n                    }\n                }\n            }\n            else {\n                // attach global VueI18n instance\n                this.$i18n = vuei18n;\n            }\n            if (options.__i18nGlobal) {\n                adjustI18nResources(composer, options, options);\n            }\n            // defines vue-i18n legacy APIs\n            this.$t = (...args) => this.$i18n.t(...args);\n            this.$rt = (...args) => this.$i18n.rt(...args);\n            this.$tc = (...args) => this.$i18n.tc(...args);\n            this.$te = (key, locale) => this.$i18n.te(key, locale);\n            this.$d = (...args) => this.$i18n.d(...args);\n            this.$n = (...args) => this.$i18n.n(...args);\n            this.$tm = (key) => this.$i18n.tm(key);\n            i18n.__setInstance(instance, this.$i18n);\n        },\n        mounted() {\n            /* istanbul ignore if */\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\n                !false &&\n                this.$el &&\n                this.$i18n) {\n                const _vueI18n = this.$i18n;\n                this.$el.__VUE_I18N__ = _vueI18n.__composer;\n                const emitter = (this.__v_emitter =\n                    createEmitter());\n                _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);\n                emitter.on('*', addTimelineEvent);\n            }\n        },\n        unmounted() {\n            const instance = getCurrentInstance();\n            /* istanbul ignore if */\n            if (!instance) {\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n            }\n            const _vueI18n = this.$i18n;\n            /* istanbul ignore if */\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\n                !false &&\n                this.$el &&\n                this.$el.__VUE_I18N__) {\n                if (this.__v_emitter) {\n                    this.__v_emitter.off('*', addTimelineEvent);\n                    delete this.__v_emitter;\n                }\n                if (this.$i18n) {\n                    _vueI18n.__disableEmitter && _vueI18n.__disableEmitter();\n                    delete this.$el.__VUE_I18N__;\n                }\n            }\n            delete this.$t;\n            delete this.$rt;\n            delete this.$tc;\n            delete this.$te;\n            delete this.$d;\n            delete this.$n;\n            delete this.$tm;\n            if (_vueI18n.__disposer) {\n                _vueI18n.__disposer();\n                delete _vueI18n.__disposer;\n                delete _vueI18n.__extender;\n            }\n            i18n.__deleteInstance(instance);\n            delete this.$i18n;\n        }\n    };\n}\nfunction mergeToGlobal(g, options) {\n    g.locale = options.locale || g.locale;\n    g.fallbackLocale = options.fallbackLocale || g.fallbackLocale;\n    g.missing = options.missing || g.missing;\n    g.silentTranslationWarn =\n        options.silentTranslationWarn || g.silentFallbackWarn;\n    g.silentFallbackWarn = options.silentFallbackWarn || g.silentFallbackWarn;\n    g.formatFallbackMessages =\n        options.formatFallbackMessages || g.formatFallbackMessages;\n    g.postTranslation = options.postTranslation || g.postTranslation;\n    g.warnHtmlInMessage = options.warnHtmlInMessage || g.warnHtmlInMessage;\n    g.escapeParameterHtml = options.escapeParameterHtml || g.escapeParameterHtml;\n    g.sync = options.sync || g.sync;\n    g.__composer[SetPluralRulesSymbol](options.pluralizationRules || g.pluralizationRules);\n    const messages = getLocaleMessages(g.locale, {\n        messages: options.messages,\n        __i18n: options.__i18n\n    });\n    Object.keys(messages).forEach(locale => g.mergeLocaleMessage(locale, messages[locale]));\n    if (options.datetimeFormats) {\n        Object.keys(options.datetimeFormats).forEach(locale => g.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\n    }\n    if (options.numberFormats) {\n        Object.keys(options.numberFormats).forEach(locale => g.mergeNumberFormat(locale, options.numberFormats[locale]));\n    }\n    return g;\n}\n\nconst baseFormatProps = {\n    tag: {\n        type: [String, Object]\n    },\n    locale: {\n        type: String\n    },\n    scope: {\n        type: String,\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\n        validator: (val /* ComponentI18nScope */) => val === 'parent' || val === 'global',\n        default: 'parent' /* ComponentI18nScope */\n    },\n    i18n: {\n        type: Object\n    }\n};\n\nfunction getInterpolateArg(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n{ slots }, // SetupContext,\nkeys) {\n    if (keys.length === 1 && keys[0] === 'default') {\n        // default slot with list\n        const ret = slots.default ? slots.default() : [];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return ret.reduce((slot, current) => {\n            return [\n                ...slot,\n                // prettier-ignore\n                ...(current.type === Fragment ? current.children : [current])\n            ];\n        }, []);\n    }\n    else {\n        // named slots\n        return keys.reduce((arg, key) => {\n            const slot = slots[key];\n            if (slot) {\n                arg[key] = slot();\n            }\n            return arg;\n        }, create());\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getFragmentableTag() {\n    return Fragment;\n}\n\nconst TranslationImpl = /*#__PURE__*/ defineComponent({\n    /* eslint-disable */\n    name: 'i18n-t',\n    props: assign({\n        keypath: {\n            type: String,\n            required: true\n        },\n        plural: {\n            type: [Number, String],\n            validator: (val) => isNumber(val) || !isNaN(val)\n        }\n    }, baseFormatProps),\n    /* eslint-enable */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    setup(props, context) {\n        const { slots, attrs } = context;\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\n        const i18n = props.i18n ||\n            useI18n({\n                useScope: props.scope,\n                __useComponent: true\n            });\n        return () => {\n            const keys = Object.keys(slots).filter(key => key !== '_');\n            const options = create();\n            if (props.locale) {\n                options.locale = props.locale;\n            }\n            if (props.plural !== undefined) {\n                options.plural = isString(props.plural) ? +props.plural : props.plural;\n            }\n            const arg = getInterpolateArg(context, keys);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const children = i18n[TranslateVNodeSymbol](props.keypath, arg, options);\n            const assignedAttrs = assign(create(), attrs);\n            const tag = isString(props.tag) || isObject(props.tag)\n                ? props.tag\n                : getFragmentableTag();\n            return h(tag, assignedAttrs, children);\n        };\n    }\n});\n/**\n * export the public type for h/tsx inference\n * also to avoid inline import() in generated d.ts files\n */\n/**\n * Translation Component\n *\n * @remarks\n * See the following items for property about details\n *\n * @VueI18nSee [TranslationProps](component#translationprops)\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\n *\n * @example\n * ```html\n * <div id=\"app\">\n *   <!-- ... -->\n *   <i18n keypath=\"term\" tag=\"label\" for=\"tos\">\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\n *   </i18n>\n *   <!-- ... -->\n * </div>\n * ```\n * ```js\n * import { createApp } from 'vue'\n * import { createI18n } from 'vue-i18n'\n *\n * const messages = {\n *   en: {\n *     tos: 'Term of Service',\n *     term: 'I accept xxx {0}.'\n *   },\n *   ja: {\n *     tos: '利用規約',\n *     term: '私は xxx の{0}に同意します。'\n *   }\n * }\n *\n * const i18n = createI18n({\n *   locale: 'en',\n *   messages\n * })\n *\n * const app = createApp({\n *   data: {\n *     url: '/term'\n *   }\n * }).use(i18n).mount('#app')\n * ```\n *\n * @VueI18nComponent\n */\nconst Translation = TranslationImpl;\nconst I18nT = Translation;\n\nfunction isVNode(target) {\n    return isArray(target) && !isString(target[0]);\n}\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\n    const { slots, attrs } = context;\n    return () => {\n        const options = { part: true };\n        let overrides = create();\n        if (props.locale) {\n            options.locale = props.locale;\n        }\n        if (isString(props.format)) {\n            options.key = props.format;\n        }\n        else if (isObject(props.format)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (isString(props.format.key)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                options.key = props.format.key;\n            }\n            // Filter out number format options only\n            overrides = Object.keys(props.format).reduce((options, prop) => {\n                return slotKeys.includes(prop)\n                    ? assign(create(), options, { [prop]: props.format[prop] }) // eslint-disable-line @typescript-eslint/no-explicit-any\n                    : options;\n            }, create());\n        }\n        const parts = partFormatter(...[props.value, options, overrides]);\n        let children = [options.key];\n        if (isArray(parts)) {\n            children = parts.map((part, index) => {\n                const slot = slots[part.type];\n                const node = slot\n                    ? slot({ [part.type]: part.value, index, parts })\n                    : [part.value];\n                if (isVNode(node)) {\n                    node[0].key = `${part.type}-${index}`;\n                }\n                return node;\n            });\n        }\n        else if (isString(parts)) {\n            children = [parts];\n        }\n        const assignedAttrs = assign(create(), attrs);\n        const tag = isString(props.tag) || isObject(props.tag)\n            ? props.tag\n            : getFragmentableTag();\n        return h(tag, assignedAttrs, children);\n    };\n}\n\nconst NumberFormatImpl = /*#__PURE__*/ defineComponent({\n    /* eslint-disable */\n    name: 'i18n-n',\n    props: assign({\n        value: {\n            type: Number,\n            required: true\n        },\n        format: {\n            type: [String, Object]\n        }\n    }, baseFormatProps),\n    /* eslint-enable */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    setup(props, context) {\n        const i18n = props.i18n ||\n            useI18n({\n                useScope: props.scope,\n                __useComponent: true\n            });\n        return renderFormatter(props, context, NUMBER_FORMAT_OPTIONS_KEYS, (...args) => \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        i18n[NumberPartsSymbol](...args));\n    }\n});\n/**\n * export the public type for h/tsx inference\n * also to avoid inline import() in generated d.ts files\n */\n/**\n * Number Format Component\n *\n * @remarks\n * See the following items for property about details\n *\n * @VueI18nSee [FormattableProps](component#formattableprops)\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\n *\n * @VueI18nDanger\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\n *\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\n *\n * @VueI18nComponent\n */\nconst NumberFormat = NumberFormatImpl;\nconst I18nN = NumberFormat;\n\nconst DatetimeFormatImpl = /* #__PURE__*/ defineComponent({\n    /* eslint-disable */\n    name: 'i18n-d',\n    props: assign({\n        value: {\n            type: [Number, Date],\n            required: true\n        },\n        format: {\n            type: [String, Object]\n        }\n    }, baseFormatProps),\n    /* eslint-enable */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    setup(props, context) {\n        const i18n = props.i18n ||\n            useI18n({\n                useScope: props.scope,\n                __useComponent: true\n            });\n        return renderFormatter(props, context, DATETIME_FORMAT_OPTIONS_KEYS, (...args) => \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        i18n[DatetimePartsSymbol](...args));\n    }\n});\n/**\n * Datetime Format Component\n *\n * @remarks\n * See the following items for property about details\n *\n * @VueI18nSee [FormattableProps](component#formattableprops)\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\n *\n * @VueI18nDanger\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\n *\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\n *\n * @VueI18nComponent\n */\nconst DatetimeFormat = DatetimeFormatImpl;\nconst I18nD = DatetimeFormat;\n\nfunction getComposer$1(i18n, instance) {\n    const i18nInternal = i18n;\n    if (i18n.mode === 'composition') {\n        return (i18nInternal.__getInstance(instance) || i18n.global);\n    }\n    else {\n        const vueI18n = i18nInternal.__getInstance(instance);\n        return vueI18n != null\n            ? vueI18n.__composer\n            : i18n.global.__composer;\n    }\n}\nfunction vTDirective(i18n) {\n    const _process = (binding) => {\n        const { instance, value } = binding;\n        /* istanbul ignore if */\n        if (!instance || !instance.$) {\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n        }\n        const composer = getComposer$1(i18n, instance.$);\n        const parsedValue = parseValue(value);\n        return [\n            Reflect.apply(composer.t, composer, [...makeParams(parsedValue)]),\n            composer\n        ];\n    };\n    const register = (el, binding) => {\n        const [textContent, composer] = _process(binding);\n        if (inBrowser && i18n.global === composer) {\n            // global scope only\n            el.__i18nWatcher = watch(composer.locale, () => {\n                binding.instance && binding.instance.$forceUpdate();\n            });\n        }\n        el.__composer = composer;\n        el.textContent = textContent;\n    };\n    const unregister = (el) => {\n        if (inBrowser && el.__i18nWatcher) {\n            el.__i18nWatcher();\n            el.__i18nWatcher = undefined;\n            delete el.__i18nWatcher;\n        }\n        if (el.__composer) {\n            el.__composer = undefined;\n            delete el.__composer;\n        }\n    };\n    const update = (el, { value }) => {\n        if (el.__composer) {\n            const composer = el.__composer;\n            const parsedValue = parseValue(value);\n            el.textContent = Reflect.apply(composer.t, composer, [\n                ...makeParams(parsedValue)\n            ]);\n        }\n    };\n    const getSSRProps = (binding) => {\n        const [textContent] = _process(binding);\n        return { textContent };\n    };\n    return {\n        created: register,\n        unmounted: unregister,\n        beforeUpdate: update,\n        getSSRProps\n    };\n}\nfunction parseValue(value) {\n    if (isString(value)) {\n        return { path: value };\n    }\n    else if (isPlainObject(value)) {\n        if (!('path' in value)) {\n            throw createI18nError(I18nErrorCodes.REQUIRED_VALUE, 'path');\n        }\n        return value;\n    }\n    else {\n        throw createI18nError(I18nErrorCodes.INVALID_VALUE);\n    }\n}\nfunction makeParams(value) {\n    const { path, locale, args, choice, plural } = value;\n    const options = {};\n    const named = args || {};\n    if (isString(locale)) {\n        options.locale = locale;\n    }\n    if (isNumber(choice)) {\n        options.plural = choice;\n    }\n    if (isNumber(plural)) {\n        options.plural = plural;\n    }\n    return [path, named, options];\n}\n\nfunction apply(app, i18n, ...options) {\n    const pluginOptions = isPlainObject(options[0])\n        ? options[0]\n        : {};\n    const globalInstall = isBoolean(pluginOptions.globalInstall)\n        ? pluginOptions.globalInstall\n        : true;\n    if (globalInstall) {\n        [Translation.name, 'I18nT'].forEach(name => app.component(name, Translation));\n        [NumberFormat.name, 'I18nN'].forEach(name => app.component(name, NumberFormat));\n        [DatetimeFormat.name, 'I18nD'].forEach(name => app.component(name, DatetimeFormat));\n    }\n    // install directive\n    {\n        app.directive('t', vTDirective(i18n));\n    }\n}\n\n/**\n * Injection key for {@link useI18n}\n *\n * @remarks\n * The global injection key for I18n instances with `useI18n`. this injection key is used in Web Components.\n * Specify the i18n instance created by {@link createI18n} together with `provide` function.\n *\n * @VueI18nGeneral\n */\nconst I18nInjectionKey = \n/* #__PURE__*/ makeSymbol('global-vue-i18n');\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction createI18n(options = {}, VueI18nLegacy) {\n    // prettier-ignore\n    const __legacyMode = __VUE_I18N_LEGACY_API__ && isBoolean(options.legacy)\n            ? options.legacy\n            : __VUE_I18N_LEGACY_API__;\n    // prettier-ignore\n    const __globalInjection = isBoolean(options.globalInjection)\n        ? options.globalInjection\n        : true;\n    const __instances = new Map();\n    const [globalScope, __global] = createGlobal(options, __legacyMode);\n    const symbol = /* #__PURE__*/ makeSymbol((process.env.NODE_ENV !== 'production') ? 'vue-i18n' : '');\n    function __getInstance(component) {\n        return __instances.get(component) || null;\n    }\n    function __setInstance(component, instance) {\n        __instances.set(component, instance);\n    }\n    function __deleteInstance(component) {\n        __instances.delete(component);\n    }\n    const i18n = {\n        // mode\n        get mode() {\n            return __VUE_I18N_LEGACY_API__ && __legacyMode\n                ? 'legacy'\n                : 'composition';\n        },\n        // install plugin\n        async install(app, ...options) {\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && !false) {\n                app.__VUE_I18N__ = i18n;\n            }\n            // setup global provider\n            app.__VUE_I18N_SYMBOL__ = symbol;\n            app.provide(app.__VUE_I18N_SYMBOL__, i18n);\n            // set composer & vuei18n extend hook options from plugin options\n            if (isPlainObject(options[0])) {\n                const opts = options[0];\n                i18n.__composerExtend =\n                    opts.__composerExtend;\n                i18n.__vueI18nExtend =\n                    opts.__vueI18nExtend;\n            }\n            // global method and properties injection for Composition API\n            let globalReleaseHandler = null;\n            if (!__legacyMode && __globalInjection) {\n                globalReleaseHandler = injectGlobalFields(app, i18n.global);\n            }\n            // install built-in components and directive\n            if (__VUE_I18N_FULL_INSTALL__) {\n                apply(app, i18n, ...options);\n            }\n            // setup mixin for Legacy API\n            if (__VUE_I18N_LEGACY_API__ && __legacyMode) {\n                app.mixin(defineMixin(__global, __global.__composer, i18n));\n            }\n            // release global scope\n            const unmountApp = app.unmount;\n            app.unmount = () => {\n                globalReleaseHandler && globalReleaseHandler();\n                i18n.dispose();\n                unmountApp();\n            };\n            // setup vue-devtools plugin\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && !false) {\n                const ret = await enableDevTools(app, i18n);\n                if (!ret) {\n                    throw createI18nError(I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);\n                }\n                const emitter = createEmitter();\n                if (__legacyMode) {\n                    const _vueI18n = __global;\n                    _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    const _composer = __global;\n                    _composer[EnableEmitter] && _composer[EnableEmitter](emitter);\n                }\n                emitter.on('*', addTimelineEvent);\n            }\n        },\n        // global accessor\n        get global() {\n            return __global;\n        },\n        dispose() {\n            globalScope.stop();\n        },\n        // @internal\n        __instances,\n        // @internal\n        __getInstance,\n        // @internal\n        __setInstance,\n        // @internal\n        __deleteInstance\n    };\n    return i18n;\n}\nfunction useI18n(options = {}) {\n    const instance = getCurrentInstance();\n    if (instance == null) {\n        throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);\n    }\n    if (!instance.isCE &&\n        instance.appContext.app != null &&\n        !instance.appContext.app.__VUE_I18N_SYMBOL__) {\n        throw createI18nError(I18nErrorCodes.NOT_INSTALLED);\n    }\n    const i18n = getI18nInstance(instance);\n    const gl = getGlobalComposer(i18n);\n    const componentOptions = getComponentOptions(instance);\n    const scope = getScope(options, componentOptions);\n    if (scope === 'global') {\n        adjustI18nResources(gl, options, componentOptions);\n        return gl;\n    }\n    if (scope === 'parent') {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        let composer = getComposer(i18n, instance, options.__useComponent);\n        if (composer == null) {\n            if ((process.env.NODE_ENV !== 'production')) {\n                warn(getWarnMessage(I18nWarnCodes.NOT_FOUND_PARENT_SCOPE));\n            }\n            composer = gl;\n        }\n        return composer;\n    }\n    const i18nInternal = i18n;\n    let composer = i18nInternal.__getInstance(instance);\n    if (composer == null) {\n        const composerOptions = assign({}, options);\n        if ('__i18n' in componentOptions) {\n            composerOptions.__i18n = componentOptions.__i18n;\n        }\n        if (gl) {\n            composerOptions.__root = gl;\n        }\n        composer = createComposer(composerOptions);\n        if (i18nInternal.__composerExtend) {\n            composer[DisposeSymbol] =\n                i18nInternal.__composerExtend(composer);\n        }\n        setupLifeCycle(i18nInternal, instance, composer);\n        i18nInternal.__setInstance(instance, composer);\n    }\n    return composer;\n}\nfunction createGlobal(options, legacyMode, VueI18nLegacy // eslint-disable-line @typescript-eslint/no-explicit-any\n) {\n    const scope = effectScope();\n    const obj = __VUE_I18N_LEGACY_API__ && legacyMode\n        ? scope.run(() => createVueI18n(options))\n        : scope.run(() => createComposer(options));\n    if (obj == null) {\n        throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n    }\n    return [scope, obj];\n}\nfunction getI18nInstance(instance) {\n    const i18n = inject(!instance.isCE\n        ? instance.appContext.app.__VUE_I18N_SYMBOL__\n        : I18nInjectionKey);\n    /* istanbul ignore if */\n    if (!i18n) {\n        throw createI18nError(!instance.isCE\n            ? I18nErrorCodes.UNEXPECTED_ERROR\n            : I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE);\n    }\n    return i18n;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getScope(options, componentOptions) {\n    // prettier-ignore\n    return isEmptyObject(options)\n        ? ('__i18n' in componentOptions)\n            ? 'local'\n            : 'global'\n        : !options.useScope\n            ? 'local'\n            : options.useScope;\n}\nfunction getGlobalComposer(i18n) {\n    // prettier-ignore\n    return i18n.mode === 'composition'\n        ? i18n.global\n        : i18n.global.__composer;\n}\nfunction getComposer(i18n, target, useComponent = false) {\n    let composer = null;\n    const root = target.root;\n    let current = getParentComponentInstance(target, useComponent);\n    while (current != null) {\n        const i18nInternal = i18n;\n        if (i18n.mode === 'composition') {\n            composer = i18nInternal.__getInstance(current);\n        }\n        else {\n            if (__VUE_I18N_LEGACY_API__) {\n                const vueI18n = i18nInternal.__getInstance(current);\n                if (vueI18n != null) {\n                    composer = vueI18n\n                        .__composer;\n                    if (useComponent &&\n                        composer &&\n                        !composer[InejctWithOptionSymbol] // eslint-disable-line @typescript-eslint/no-explicit-any\n                    ) {\n                        composer = null;\n                    }\n                }\n            }\n        }\n        if (composer != null) {\n            break;\n        }\n        if (root === current) {\n            break;\n        }\n        current = current.parent;\n    }\n    return composer;\n}\nfunction getParentComponentInstance(target, useComponent = false) {\n    if (target == null) {\n        return null;\n    }\n    // if `useComponent: true` will be specified, we get lexical scope owner instance for use-case slots\n    return !useComponent\n        ? target.parent\n        : target.vnode.ctx || target.parent; // eslint-disable-line @typescript-eslint/no-explicit-any\n}\nfunction setupLifeCycle(i18n, target, composer) {\n    let emitter = null;\n    onMounted(() => {\n        // inject composer instance to DOM for intlify-devtools\n        if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\n            !false &&\n            target.vnode.el) {\n            target.vnode.el.__VUE_I18N__ = composer;\n            emitter = createEmitter();\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const _composer = composer;\n            _composer[EnableEmitter] && _composer[EnableEmitter](emitter);\n            emitter.on('*', addTimelineEvent);\n        }\n    }, target);\n    onUnmounted(() => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const _composer = composer;\n        // remove composer instance from DOM for intlify-devtools\n        if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\n            !false &&\n            target.vnode.el &&\n            target.vnode.el.__VUE_I18N__) {\n            emitter && emitter.off('*', addTimelineEvent);\n            _composer[DisableEmitter] && _composer[DisableEmitter]();\n            delete target.vnode.el.__VUE_I18N__;\n        }\n        i18n.__deleteInstance(target);\n        // dispose extended resources\n        const dispose = _composer[DisposeSymbol];\n        if (dispose) {\n            dispose();\n            delete _composer[DisposeSymbol];\n        }\n    }, target);\n}\nconst globalExportProps = [\n    'locale',\n    'fallbackLocale',\n    'availableLocales'\n];\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm', 'te']\n    ;\nfunction injectGlobalFields(app, composer) {\n    const i18n = Object.create(null);\n    globalExportProps.forEach(prop => {\n        const desc = Object.getOwnPropertyDescriptor(composer, prop);\n        if (!desc) {\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n        }\n        const wrap = isRef(desc.value) // check computed props\n            ? {\n                get() {\n                    return desc.value.value;\n                },\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                set(val) {\n                    desc.value.value = val;\n                }\n            }\n            : {\n                get() {\n                    return desc.get && desc.get();\n                }\n            };\n        Object.defineProperty(i18n, prop, wrap);\n    });\n    app.config.globalProperties.$i18n = i18n;\n    globalExportMethods.forEach(method => {\n        const desc = Object.getOwnPropertyDescriptor(composer, method);\n        if (!desc || !desc.value) {\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n        }\n        Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\n    });\n    const dispose = () => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        delete app.config.globalProperties.$i18n;\n        globalExportMethods.forEach(method => {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            delete app.config.globalProperties[`$${method}`];\n        });\n    };\n    return dispose;\n}\n\n{\n    initFeatureFlags();\n}\n// register message compiler at vue-i18n\nregisterMessageCompiler(compile);\n// register message resolver at vue-i18n\nregisterMessageResolver(resolveValue);\n// register fallback locale at vue-i18n\nregisterLocaleFallbacker(fallbackWithLocaleChain);\n// NOTE: experimental !!\nif ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\n    const target = getGlobalThis();\n    target.__INTLIFY__ = true;\n    setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\n}\nif ((process.env.NODE_ENV !== 'production')) ;\n\nexport { DatetimeFormat, I18nD, I18nInjectionKey, I18nN, I18nT, NumberFormat, Translation, VERSION, createI18n, useI18n, vTDirective };\n","import { unref, watch } from 'vue'\nimport {useI18n as $useI18n, createI18n as $createI18n} from 'vue-i18n'\nimport type { Composer } from 'vue-i18n'\nimport type { Model } from 'pinia-orm'\n\nimport config from '../config'\nimport {getCookieList} from '../utils'\n\n\n/**\n * Initialize vue-i18n, looking in cookies in order to load the right locale.\n */\nexport function createI18n() {\n    // remove country specific locale as they are not provided by locales\n    // client side\n    const candidates = (getCookieList(\"lang\", \",\") || [\"en\"]).map(\n        x => x.toLowerCase().replace(/[_-](\\w+)/, \"\")\n    )\n    const locale = candidates.find(x => x in config.locales)\n    return $createI18n({\n        legacy: false,\n        globalInjection: true,\n        fallbackLocale: 'en',\n        locale\n    })\n}\n\n\n/**\n * Main vue-i18n instance used by Oxylus application.\n */\nexport const i18n = createI18n()\n\n\n/**\n * Shortcut to {@link i18n} `t()` function.\n */\nexport const t = i18n.global.t\n\nexport interface IUseI18n {\n    composer?: Composer,\n    path?: string,\n    fallback?: boolean,\n}\n\n/**\n * This composable return vue-i18n's `t()` function and watch for\n * locale change in order to dynamically load corresponding message file.\n *\n * @param {String} [options.path] parent path of locales' dir.\n * @param {Boolean} [options.fallback] if true, use fallback locale\n * @return ``t()`` function.\n */\nexport function useI18n({path=\"./\", fallback=true, composer=null}: IUseI18n={}) {\n    composer ??= i18n.global\n    loadLocale({composer, path, fallback})\n    watch(() => composer.locale, () => loadLocale({composer, path, fallback}))\n    return composer\n}\n\n\n/**\n * Set locale (load it if required).\n * FIXME\n */\nexport function setLocale(i18n: Composer, path: string, locale: string) {\n    if(!(locale in config.locales))\n        throw Error(\"Locale is not provided by config.\")\n\n    i18n.global.locale.value = locale\n    loadLocaleFrom(i18n, path, locale)\n\n    // FIXME: axios.defaults.headers.common['Accept-Language'] support?\n\n    document.querySelector('html').setAttribute('lang', locale)\n}\n\n/**\n * Keeps track of already loaded locales (by path)\n */\nexport const loadedLocalePaths = new Set()\n\n\n/**\n * Load locale using provided path and i18n locale composer.\n *\n * @param i18n - vue-i18n locale Composer;\n * @param [options.path] path to parent directory of locale dir;\n * @param [options.fallback] if True, use fallback locale whenever required.\n */\nfunction loadLocale({path=\"./\", fallback=true, composer=null}: IUseI18n ={}): Promise<void> {\n    composer ??= i18n.global\n    if(!path.startsWith('/'))\n        path = import.meta.resolve(path)\n    if(!path.endsWith('/'))\n        path += '/'\n\n    let promise = loadLocaleFrom(composer, path, unref(composer.locale))\n    if(fallback && composer.fallbackLocale.value)\n        promise = promise.catch((error) => loadLocaleFrom(composer, path, unref(composer.fallbackLocale) as string))\n            .catch((error) => {\n                throw Error(\n                    `Could not load locale ${composer.locale.value} nor its fallback ${composer.fallbackLocale.value} (path: ${path}). Error: ${error}`\n                )\n            })\n    return promise\n}\n\n\n/**\n * Load locale of specific name and add it to composer's messages.\n */\nasync function loadLocaleFrom(i18n: Composer, path: string, locale: string) {\n    const locale2 = locale.replace(/[_-](\\w+)/, '')\n    path = `${path}locales/${locale2}.json`\n    if(loadedLocalePaths.has(path))\n        return\n\n    loadedLocalePaths.add(path)\n\n    const messages = await fetch(path).then(r => r.json())\n    // we don't use setLocaleMessage, because we merge locales\n    // from different apps\n    i18n.messages.value[locale] = {\n        ...(i18n.messages.value as Record<string, any>)[locale],\n        ...messages\n    }\n}\n\n\nexport const tKeys = {\n    model: (model: typeof Model) => `models.${model.entity}`,\n    field: (field: string) => `fields.${field}`\n}\n","import { createApp as $createApp, reactive, watch } from 'vue'\nimport { createVuetify as $createVuetify } from 'vuetify'\nimport { md3 } from 'vuetify/blueprints'\nimport colors from 'vuetify/util/colors'\n\nimport { createPinia as $createPinia, setActivePinia } from 'pinia'\nimport { createORM } from 'pinia-orm'\nimport { createPiniaOrmAxios } from '@pinia-orm/axios'\nimport axios from 'axios'\n\nimport '../styles/index.scss'\nimport * as vendorComponents from 'ox/vendor'\nimport config from '../config'\nimport {i18n, useI18n} from './i18n'\n\nimport type {IObject} from '../utils'\n\n\n/**\n * {@link createVuetify} parameters. Theses are passed down to Vuetify's\n * plugin initialization.\n */\nexport interface ICreateVuetifyOpts extends IObject {\n    components?: Record<string,any>\n}\n\n\n/**\n * Options passed to {@link createApp}.\n */\nexport interface ICreateAppOpts {\n    /**\n     * Vue's `createApp` `props` arguments\n     */\n    props?: IObject\n    /**\n     *  Vuetify plugin's parameters (passed to {@link createVuetify})\n     */\n    vuetify?: ICreateVuetifyOpts\n    /**\n     * Plugins to add to Vue application.\n     */\n    plugins?: IObject[]\n}\n\nexport interface IInitOpts extends ICreateAppOpts {\n    /** Vue's App config. */\n    App?: IObject\n    /** Element selector to mount application on. */\n    el?: string\n    /**\n     * If True (default), defer application creation after page has been\n     * loaded (on `window.load` event)\n     */\n    onLoad?: boolean\n}\n\n\n/**\n * Main entry point to initialize and mount an application.\n *\n * The base `App` config is provided by `ox/components` modules.\n */\nexport function init({App=null, el='#app', onLoad=true, ...options}: IInitOpts={}) {\n    function initApp() {\n        const app = createApp(App, options)\n        const vm = el ? app.mount(el) : null\n        document.body.classList.remove('loading')\n        return {app, el, vm}\n    }\n\n    return new Promise((resolve) => {\n        if(onLoad)\n            return window.addEventListener(\n                'load', () => resolve(initApp())\n            )\n        resolve(initApp())\n    })\n}\n\n\n/**\n * Create Oxerp application (including Vuetify).\n * It also provide app's global property `window` in order to allow components\n * access to this object.\n */\nexport function createApp(app: IObject, {props={}, vuetify={}, plugins=null}: ICreateAppOpts={}) {\n    app = $createApp(app, props)\n    app.config.globalProperties.window = window\n\n    app.use(createVuetify(vuetify))\n    app.use(i18n)\n    useI18n()\n\n    plugins && plugins.forEach(plugin => app.use(plugin))\n    return app\n}\n\n\n\n/**\n * Create and return vuetify plugin with default components set.\n * This is called by `createApp`.\n */\nexport function createVuetify({components={}, defaults={}, ...opts}: ICreateVuetifyOpts) {\n    opts.components = {\n        ...vendorComponents,\n        ...components\n    }\n    return $createVuetify({\n        blueprint: md3,\n        theme: {\n            themes: {\n                light: {\n                    dark: false,\n                    colors: {\n                        primary: colors.green.darken1,\n                        secondary: colors.green.lighten4\n                    }\n                }\n            }\n        },\n        defaults: {\n            ...defaults,\n            VTextField: { variant: 'underlined', },\n            VSelect: { variant: 'underlined', },\n            VTextarea: { variant: 'underlined', },\n            VCombobox: { variant: 'underlined', },\n            VAutocomplete: { variant: 'underlined', },\n        },\n        ...opts\n    })\n}\n\n\n\n/**\n * Create Pinia and PiniaOrm plugins instances.\n * If no `baseURL` is provided, get it from `document.body.dataset.apiUrl`.\n */\nexport function createPinia({axiosConfig=null, baseURL=null}: IObject={}) {\n    if(!baseURL)\n        baseURL = document.body.dataset.apiUrl\n\n    const pinia = $createPinia()\n    const piniaOrm = createORM({\n        plugins: [\n            createPiniaOrmAxios({\n                axios,\n                ...(axiosConfig || config.axiosConfig),\n                baseURL,\n            })\n        ]\n    })\n    setActivePinia(pinia)\n    return pinia.use(piniaOrm)\n}\n","import {Repository, Relation} from 'pinia-orm'\nimport type {Model} from 'pinia-orm'\nimport type {Response} from '@pinia-orm/axios'\n\nimport {collectAttr} from '../utils'\nimport type {IObject} from '../utils'\nimport {asRelation, getSourceKey} from '../models'\nimport type {Repos} from '../models'\n\n\n/** Interface of {@link Query} class. */\nexport interface IQuery<M extends Model> {\n    /** Model repository used to store results. */\n    repo: Repository<M>\n    /**\n     * Repositories used to store relations.\n     *\n     * This argument may be ignored if there is no need to fetch\n     * relations.\n     */\n    repos: Repos\n}\n\n/** {@link Query.fetch} parameters. */\nexport interface IQueryFetch<M extends Model> extends Partial<object> {\n    /**\n     * Fetch from this url.\n     * Usage of this argument is exclusive from {@link IQueryFetch.id} and {@link IQueryFetch.path}.\n     */\n    url?: string\n    /**\n     * Fetch item of this id.\n     * Usage of this argument is exclusive from {@link IQueryFetch.ids}\n     */\n    id?: number,\n    /** Fetch items with this id. */\n    ids?: number[] | Set<number>\n    /** Extra path to append on url. */\n    path?: string,\n    /** Model repository (instead of `Query.repo`'s one). */\n    repo?: Repository<M>\n    /** Lookup field for ids (default: `id__in`). */\n    lookup?: string\n    /** Extra GET parameters. */\n    params?: IObject\n    /** Fetch items from thoses relations. */\n    relations?: string[]\n    /** If true (default value), save items in Pinia repository */\n    save: boolean\n}\n\n/**\n * {@link Query.all} parameters.\n */\nexport interface IQueryAll<M extends Model> extends IQueryFetch<M> {\n    /**\n     * Key of object returned by server that provide url to next items.\n     */\n    nextKey?: string\n    /**\n     * Provide a limit to the number of request to do consecutivelly.\n     * If `-1`, no limit (**use with caution!**).\n     */\n    limit?: number\n}\n\n\n/**\n * This class allows to fetch objects from api, and their relations.\n *\n * It is a utility class built around ``pinia-orm/axios``, using\n * repositories' ``api().get`` method.\n *\n * It allows:\n *\n * - to fetch a model list or all values (using `next` key);\n * - to fetch relations of objects based on fields names;\n *\n * When fetching relations, please ensure that {@link Query.repos} is provided.\n *\n * @example\n * const query = new Query(repos.users, repos)\n *\n * // this fetch User model objects from API, then the related groups.\n * const result = await query.fetch({url: '/users', relations: ['groups']})\n */\nexport default class Query<M extends Model> {\n    /**\n    * @param {Repos} [repos] all models repositories\n    * @param {Repository<M>} [repo] the main repository\n    */\n    constructor(repo: Repository<M>, repos: Repos|null=null) {\n        this.repo = repo\n        this.repos = repos\n    }\n\n    /**\n     * Fetch items from api.\n     *\n     * @param [options.ids] select by ids\n     * @param {Repository} [options.repo] use this repository instead of \\\n     * ``Query.repo``.\n     * @param [options.url] use this url instead of repository's one.\n     * @param [options.id] fetch element with this id.\n     * @param [options.ids] fetch elements with those ids\n     * @param [options.lookup] query GET parameters used to get ids.\n     * @param [options.params] extra GET parameters\n     * @param [options.opts] options passed down to ``repo.api.get``\n     */\n    async fetch({url, id=null, ids=null, repo=null, lookup=\"id__in\", params=undefined, relations=null, path=null, ...opts}: IQueryFetch<M> = {}) : Promise<Response> {\n        repo ??= this.repo\n\n        if(ids?.length === 1) {\n            id = ids[0]\n            ids = null\n        }\n\n        if(!url)\n            url = repo.use?.meta?.getUrl({path, id})\n\n        if(!id)\n            opts.dataKey ??= repo.use?.config?.axiosApi?.dataKey\n        else\n            opts.dataKey = null\n\n        if(ids && lookup !== undefined) {\n            if(id)\n                throw Error(\"Both `ids` and `id` are provided while only one of those arguments is accepted.\")\n            params = {...(params || {})}\n            params[lookup] = [...ids]\n        }\n        const response = await repo.api().get(url, {...opts, params})\n\n        if(relations)\n            response.relations = await this.relations(response.entities, relations, {...opts, params: {}})\n        return response\n    }\n\n    /**\n     * Fetch all items from api.\n     *\n     * @param [options.nextKey] response object key to get next url\n     * @param [options.limit] max count of consecutive requests\n     * @return Response of the first request, whoses ``entities`` has \\\n     * model instances of all requests.\n     */\n    async all({nextKey='next', limit=-1, ...opts} : IQueryAll<M> ={}) : Promise<Response> {\n        const result = await this.fetch(opts)\n\n        let url = result.response.data[nextKey]\n        while(url) {\n            const result2 = await this.fetch({...opts, url})\n            if(result2.entities)\n                result.entities = result.entities !== null ? result.entities.concat(result2.entities) : result2.entities\n            url = result2.response.data[nextKey]\n            if(limit>0) limit--\n            if(!limit) break\n        }\n        return result\n    }\n\n    /**\n     * Fetch all from API if repository is empty (see {@link Query.all}).\n     *\n     * For arguments see {@link Query.all}.\n     *\n     * Return null if no request has been made.\n     */\n    async allOnce(options: IQueryAll<M> = {}) : Promise<Reponse|null> {\n        const repo = options.repo ?? this.repo\n        if(!repo.first())\n            return await this.all(options)\n        return null\n    }\n\n    /**\n     * Fetch related objects for the provided list and field names.\n     *\n     * @param objs - the objects to get related ids from.\n     * @param options.fields - list of field names.\n     * @param options.opts - options to pass down to {@link Quey.relation}.\n     * @return the resulting entities.\n     */\n    async relations(objs: M[], fields: string[], opts = {}) : Promise<{[s: string]: Response}>\n    {\n        this._ensureRepos(\"relations\")\n        const entities: {[s: string]: Response} = {}\n        const relations = this.repo.use?.fields()\n        if(relations)\n            for(const field of fields) {\n                const relation = relations[field]\n                if(relation instanceof Relation)\n                    entities[field] = await this.relation(objs, relation, opts)\n                else\n                    throw Error(`Field ${field} is not a relation`)\n            }\n        return entities\n    }\n\n    protected _ensureRepos(funcName: string) {\n        if(!this.repos)\n            throw Error(`Query.repos is not provided although it is mandatory to call ${funcName}.`)\n    }\n\n    /**\n     * Fetch related objects for the provided object list and field name.\n     * It uses {@link Query.all} in order to fetch all items.\n     *\n     * @param objs - the objects to get ids from.\n     * @param relation - objects' field or field name.\n     * @param options - options to pass down to `all()`.\n     */\n    async relation(objs: Array<M>, relation: string | Relation, options: IQueryAll<M> ={}) : Promise<Response> {\n        this._ensureRepos(\"relations\")\n\n        const rel = asRelation(this.repo, relation)\n        if(!rel)\n            throw Error(`No Relation found for field ${relation}.`)\n\n        const key = (<typeof Model>rel.related.constructor).entity\n        const repo2 = this.repos[key]\n        if(!repo2)\n            throw Error(`No repository \"${key}\" found.`)\n\n        const fk = getSourceKey(rel)\n        if(!fk)\n            throw Error(`No source ids attributes for ${relation}.`)\n        const ids = [... new Set(collectAttr(objs, fk))]\n        const query = new Query(repo2, this.repos)\n        return query.all({...options, ids, repo: repo2})\n    }\n\n}\nexport default interface Query<M extends Model> extends IQuery<M> {}\n\n\n/** Return a new {@link Query} based on repo's entity. */\nexport function query<M extends Model>(repo: string|Repository<M>, repos?: Repos): Query<M> {\n    if(typeof repo == \"string\") {\n        if(!(repo in repos))\n            throw Error(`Repository \"${repo}\" is not present in provided repositories.`)\n        return new Query(repos[repo] as unknown as Repository<M>, repos)\n    }\n    return new Query(repo, repos)\n}\n","import { cloneDeep, isEqual, pick } from 'lodash'\nimport type { Attribute, Repository } from 'pinia-orm'\nimport type { Response } from '@pinia-orm/axios'\n\nimport { assignNonEmpty, reset, State } from '../utils'\nimport type { IObject } from '../utils'\nimport type { Model } from '../models'\n\n\nexport interface IEditorProps<T> {\n    /**\n     * @property initial - initial value provided to the editor\n     */\n    initial: T & {[k: string]: any}\n    /**\n     * @property name - editor name\n     */\n    name?: string\n    /**\n     * @property url - url to send value to\n     */\n    url?: string\n    /**\n     * @property saved - callback to run after object has been saved\n     */\n    saved?: (item: T, editor: IEditor<T,IEditorProps<T>>) => void\n}\n\n\n/**\n * Editor class interface.\n */\nexport interface IEditor<T,P extends IEditorProps<T>> extends IEditorProps<T> {\n    [index: string]: any\n\n    props: P\n    /** Value to use as initial for creating object */\n    default: T & Record<string, any>\n    /**\n     * @property value - current edited value\n     */\n    value: T & Record<string, any>\n    /**\n    * @property state - current editor state. Set to `State.PROCESSING` when\n    * saving instance.\n    */\n    state: State,\n}\n\n\nexport interface IEditorSend extends IObject {}\n\n/**\n * An Editor handles data edition without changing original value.\n * It provides utilities in order to:\n * - detect if changes have been made;\n * - reset edited values to initial state;\n * - save data to server;\n *\n * Default implementation handles raw Object edition, but not saving data to the server.\n * Note: this might lead to errors due to reactivity when returned from composable.\n */\nexport default class Editor<T extends IObject, P extends IEditorProps<T>> {\n    state = State.none()\n    value: T & Record<string, any> = {} as T\n    default: T & Record<string, any> = {} as T\n\n    constructor(options: IEditor<T,P>)\n    {\n        options && assignNonEmpty(this, options)\n        if(!this.state)\n            this.state = new State()\n\n        this.value = {} as T\n        this.initial = this.props.initial || {}\n        this.valid = true\n        this.reset(this.initial)\n    }\n\n    //get initial(): T { return this.props.initial || {} }\n    get name(): string { return this.props.name }\n    get url(): string|null { return this.props.url }\n\n    get errors() : any {\n        return this.state.isError && this.state.data || null\n    }\n\n    /** Discard changes, resetting to initial value. */\n    discard() {\n        this.reset(this.initial)\n    }\n\n    /**\n     * Reset editor data to provided value.\n     * When value is provided, reset initial to this value.\n     */\n    reset(initial: T|null = null) {\n        reset(this.value, initial || {})\n        this.state.none()\n    }\n\n    isEdited(): boolean {\n        return !isEqual(this.value, this.initial)\n    }\n\n    /**\n     * Save data. It will `serialize()` value then `send()` it.\n     *\n     * Note: default implementation does not provide `send()` method\n     * and thus will raise an error.\n     *\n     * @param [value] if provided use this instead of `this.value`.\n     * @return state.\n     */\n    async save(value: T|null = null): Promise<State> {\n        this.state.processing()\n\n        if(!this.valid)\n            return this.state.error({\n                \"_\": \"Some of the input values are invalid\"\n            })\n        value = this.serialize(value ?? this.value)\n\n        const state = await this.send(value)\n        if(state.isOk) {\n            this.reset(state.data as T, true)\n            this.initial = cloneDeep(this.value)\n            this.saved?.(this.value)\n        }\n        else\n            this.state = state\n        return this.state\n    }\n\n    /**\n     * This method is called when editor successfully saved the\n     * edited item to the server.\n     *\n     * By default, it will call {@link Editor.props.saved} if provided.\n     */\n    saved(item: T) {\n        this.props.saved?.(item, this)\n    }\n\n    /** Serialize value before sending. */\n    serialize<R>(value: T): any { return value }\n\n    /** Send value (not implemented, MUST BE in subclasses). */\n    send(_: IEditorSend): Promise<State> {\n        throw \"not implemented\"\n    }\n}\nexport default interface Editor<T,P extends IEditorProps<T>> extends IEditor<T,P> {\n    // Whether edited data are valid. Default to `true`.\n    valid: boolean\n}\n\n// /**\n//  * Editor subclass used to edit ordered arrays.\n//  */\n// export class ArrayEditor extends Editor {\n//     _reset(val) { this.value = this.bind ? val : [...val] }\n//     isEdited() { this.value != this.initial }\n// }\n//\n//\n// /**\n//  * Editor subclass used to edit unordered arrays.\n//  */\n// export class CollectionEditor extends ArrayEditor {\n//     isEdited() {\n//         return this.value.length != this.initial.length ||\n//             this.value.some(v => this.initial.indexOf(v) == -1)\n//     }\n// }\n","import {computed, watch} from 'vue'\nimport type {WatchHandle, Reactive} from 'vue'\n\nimport {t} from '../composables'\nimport {assignNonEmpty, State} from '../utils'\nimport type Panels from './panels'\n\n\nexport interface IPanelInfo {\n    /** The view title displayed to user. */\n    title?: string\n    /** The view's icon displayed to user. */\n    icon?: string\n}\n\n\n/** Properties of OxPanel **/\nexport interface IPanelProps extends IPanelInfo {\n    /** Panel's name */\n    name: string\n    /** Index view name **/\n    index: string\n    /** Panel's view */\n    view: string\n    /** Current value */\n    value?: any\n    /** Optional state (used with `ox-state-alert`). */\n    state?: State\n    /** Url to related help page */\n    help?: string\n}\n\n/** Component properties used by OxPanelNav */\nexport type IPanelNavProps = IPanelInfo & {\n    /** Panel's name */\n    value: string\n    /** Panels page **/\n    url?: string\n    /** Required permission */\n    permissions?: string|string[]\n    /** Item type: subheader, divider, (item by default) */\n    type?: string,\n    /** Nested items */\n    items?: Record[]\n    /** Order */\n    order: number\n}\n\nexport interface IPanel<P> extends IPanelInfo {\n    /** Panel's name */\n    readonly name: string\n    /** Panel component properties. */\n    props: P\n    /**\n    * {@link Panels} used to specify current view and value.\n    *\n    * This element may be shared among multiple panels.\n    */\n    panels: Panels\n    /**\n     * Current unsaved changes. This can be updated by component in order\n     * to prevent data loss when changing panels.\n     */\n    editions: Set<string>\n}\n\n\n/**\n * This is the base class used by panels.\n */\nexport default class Panel<P extends IPanelProps = IPanelProps>\n{\n    index: string = 'list.table'\n    view: string = ''\n    value: any = null\n    item: any = null\n    editions: Set<string> = new Set()\n\n    /**\n     * Translation key for message displayed on `confirm()` to leave unsaved\n     * changes.\n     */\n    confirmTKey = \"panel.confirm\"\n\n    /** Panel name (based on props) **/\n    get name(): string { return this.props?.name || '' }\n\n    /** Wether there are still edited items on current view. */\n    get edited(): boolean { return !!this.editions?.size }\n\n    /** Return adequate icon based on props and model **/\n    get icon(): string { return this.props?.icon || null }\n\n    /** Return panel's title based on props. */\n    get title(): string { return this.props?.title }\n\n    constructor(options: IPanel<P>|null = null) {\n        options && assignNonEmpty(this, options)\n        this.view ??= this.index || ''\n    }\n\n    /** Return URL GET parameters for the current view */\n    getUrlParams(): IObject {\n        const params = {panel: this.name}\n        if(this.view != this.index)\n            params.view = this.view\n        if(this.view.startsWith('detail.') && this.value)\n            params.value = this.value\n        return params\n    }\n\n\n    /** Set or remove an edition by name. */\n    setEdition(name: string, edited: boolean) {\n        if(edited) this.editions.add(name)\n        else this.editions.delete(name)\n    }\n\n    /** Show a view, providing optional value */\n    show({view=null, value=null, silent=false}: {view?: string, value?: any, silent?: boolean}={}) {\n        if((view != this.view || value != this.value) && this.onLeave()) {\n            this.view = view || this.index\n            this.value = value\n            !silent && this.updateLocation()\n        }\n    }\n\n    /** Update current location using History api */\n    updateLocation() {\n        const params = this.getUrlParams()\n        if(params) {\n            const url = (new URLSearchParams(params)).toString()\n            history.pushState(params, \"\", `?${url}`)\n        }\n    }\n\n    /**\n     * Called when view or panel changes. It returns `true` if view/panel can be changed.\n     *\n     * Ask user for confirmation if there is unsaved changes (aka editions).\n     *\n     * @return true if we can proceed to view/panel change.\n     */\n    onLeave() {\n        if(!this.edited)\n            return true\n\n        const msg = t(this.confirmTKey)\n        return confirm(msg)\n    }\n\n    onViewChange(val: string) {\n        console.log('onViewChange', val)\n        if(!val)\n            this.view = this.index\n    }\n    onValueChange(val: string) {}\n}\nexport default interface Panel<P extends IPanelProps=IPanelProps> extends IPanel<P> {}\n","import {provide} from 'vue'\nimport {assignNonEmpty} from '../utils'\nimport type Panel from './panel'\n\n\nexport interface IPanels {\n    /** Current panel's name. **/\n    panel: string\n    /** Display/GET parameters for the current panel. */\n    params: Record\n    silent: boolean\n}\n\n\nexport interface IPanelShow extends IPanels {\n    force?: boolean\n    href?: string\n}\n\n/**\n * This class is used to panels a panel, providing extra information such\n * as value and view. It is shared among panels.\n *\n * Use it as this provides utilities to avoid data loss and allow current\n * panel to have control over leaving it.\n */\nexport default class Panels {\n    panel: string = \"\"\n    params: Record<string, any> = {}\n    paramsString: string = ''\n    children: {[k: string]: Panel} = {}\n    current: Panel|null\n\n    constructor(options: IPanels|null = null) {\n        options && assignNonEmpty(this, options)\n    }\n\n    /**\n     * Set {@link Panels.params based on current document location.\n     */\n    readDocumentLocation() {\n        this.paramsString = document.location.search.substring(1)\n        const search = new URLSearchParams(this.paramsString)\n        const {panel, ...params} = Object.fromEntries(search.entries()) \n        this.panel = panel\n        this.params = params || {}\n    }\n\n    /** Read provided path and return current panel and view */\n    static readPath(path: string) : IPanels {\n        if(!path)\n            return {panel: \"\", view: \"\"}\n\n        const idx = path.indexOf('.')\n        if(idx < 0)\n            return {panel: path, view: ''}\n        return {panel: path.substring(0, idx), view: path.substring(idx+1)}\n    }\n\n    /** Register a panel */\n    register(name: string, child: Panel) {\n        if(!this.children[name]) {\n            this.children[name] = child\n\n            // Set current to child if required\n            if(this.panel == child.name) {\n                this.current = child\n                child.show(this.params)\n            }\n        }\n    }\n\n    /** Unregister a panel */\n    unregister(name: string) {\n        delete this.children[name]\n    }\n\n    /**\n     * Show a panel, loading page provided by href if required.\n     * When there is already a panel displayed, it will call {@link Panel.onLeave} in order to eventually prevent\n     * unwanted page change.\n     */\n    show({force=false, href=null, ...options}: IPanelShow) {\n        const proceed = force || !this.current || this.current.onLeave()\n        if(!proceed)\n            return\n\n        if(href && window.location.pathname != href) {\n            if(!options.panel)\n                throw Error(\"The attribute `href` requires`panel`.\")\n\n            href = `${href}?panel=${options.panel}`\n            if(options.view)\n                href = `${href}&view=${options.view || ''}`\n            window.location.href = href\n            return\n        }\n\n        this.reset(options)\n    }\n\n    reset({panel, silent=false, ...params}: IPanels) {\n        const panelChanged = (panel && panel != this.panel)\n        if(panelChanged && this.current) {\n            if(!this.current.onLeave())\n                return\n        }\n\n        this.panel = panel || this.panel\n        this.params = params\n\n        // Set current and if yet registered, show it.\n        this.current = this.children[this.panel]\n        this.current?.show({...this.params, silent})\n    }\n}\nexport default interface Panels extends IPanels {\n    /** Current panel (set by panels) **/\n    current: Panel|null\n}\n","import type {Repository, Query as $Query} from 'pinia-orm'\nimport type {Response} from '@pinia-orm/axios'\n\nimport {State, assignNonEmpty} from '../utils'\nimport type {Model} from '../models'\n\nimport Query from './query'\nimport type {IQueryFetch} from './query'\n\n\nexport interface IModelController<M extends Model> {\n    /** Response's key used to return data */\n    dataKey: string\n    /** {@link Query} used to fetch list items. */\n    query: Query<M>\n    /** Related fields to get from pinia orm's database and eventually fetch when items are retrieved from API.  */\n    relations?: string[]\n    /** Use this URL instead of model's defined one. */\n    url?: string\n    /** Fetch related fields from API when queried */\n    fetchRelations: boolean\n    /** If true (default value), save items in Pinia repository */\n    save: boolean\n}\n\nexport interface IModelFetch<M extends Model> extends IQueryFetch<M> {\n    /** Response's key used to return data */\n    dataKey?: string\n}\n\n\n/**\n * Base controller class that handles model fetching from the server in conjunction\n * with ORM framework.\n *\n * This provides:\n * - load items from the server and manage state accordingly (using {@link Query});\n * - items are retrieved from ORM store with specified relations;\n *\n * It does not:\n * - fetch items' related objects.\n *\n * This is used for {@link ModelDetail} and {@link ModelList}.\n */\nexport default class ModelController<M extends Model, O=IModelController<M>> {\n    state = State.none()\n    save = true\n\n    /** The repository of contained items. */\n    get repo(): Repository<M> { return this.query.repo }\n\n    /** Current model. */\n    get model(): typeof Model { return (this.repo.use as typeof Model) }\n\n    constructor(options: IModelController<M>|null = null) {\n        options && assignNonEmpty(this, options)\n    }\n\n    /** Return orm's query to object. This will includes declared {@link List.relations}.\n     *\n     *   @param ids - optional id lookup\n     *   @param first - if true, return the first item\n     *   @return orm's query\n     */\n    queryset(ids: number|number[]|null=null, first=false) : $Query<M> {\n        let query = this.repo.query()\n        if(this.relations)\n            for(const relation of this.relations)\n                query = query.with(relation)\n\n        return ids ? query.whereId(ids) : query\n    }\n\n    /**\n     * Fetch model instance from the server and select them.\n     *\n     * Calling this method updates state to:\n     * - `PROCESSING`: request is being made;\n     * - `NONE`: request has been done without error;\n     * - `ERROR`: if an error happened;\n     *\n     * Flowchart:\n     * - {@link ModelController.fetch}\n     * - {@link ModelController.handleResponse}\n     */\n    async load(options: IModelFetch<M> = {}): Promise<Response|null> {\n        this.state.processing()\n        let response = null\n        try {\n            response = await this.fetch(options)\n            response = await this.handleResponse(options, response)\n        }\n        catch(error) {\n            this.state.error(error)\n        }\n        if(!this.state.isError)\n            this.state.none()\n        return response\n    }\n\n    /** Fetch model instance from the server.\n     *\n     * Flowchart:\n     * - {@link ModelController.getQueryParams}\n     * - {@link Query.fetch}\n     */\n    async fetch(options: IModelFetch<M> = {}) : Promise<Response> {\n        const opts = this.getQueryOptions(options)\n        return await this.query.fetch(opts)\n    }\n\n    /** Handle response from the {@link ModelContainer.fetch}'s request. */\n    async handleResponse(options: IModelFetch<M>, response: Response): Promise<Response> {\n        // TODO: handle status code\n        return response\n    }\n\n    /** Get {@link Query.fetch} options. */\n    protected getQueryOptions(options: IModelFetch<M>): IQueryFetch<M> {\n        if(!options.relations && this.relations && this.fetchRelations)\n            options.relations = this.relations\n        // if(!(\"dataKey\" in options))\n        //    options.dataKey = this.dataKey\n        if(!options.url)\n            options.url = this.url\n        if(!(\"save\" in options))\n            options.save = this.save\n        return options\n    }\n}\nexport default interface ModelController<M extends Model, O> extends IModelController<M> {\n    /** Current request's state. */\n    state: State\n}\n","import {uniqWith} from 'lodash'\nimport {unref} from 'vue'\nimport type {Ref} from 'vue'\nimport type {Response} from '@pinia-orm/axios'\n\nimport {collectAttr} from '../utils'\nimport type {Model} from '../models'\nimport type {IObject} from '../utils'\n\nimport Query from './query'\nimport ModelController from './modelController'\nimport type {IQueryFetch} from './query'\nimport type {IModelController, IModelFetch} from './modelController'\n\n\nexport type FilterValue = number | string\nexport type Filters = IObject<FilterValue>\n\n\n/** Base interface of a ModelList */\nexport interface IModelList<M extends Model> extends IModelController<M> {\n    /** Provide extra GET parameters. */\n    filters?: Filters\n    /** Response's key used to return URL to previous paginated items. */\n    prevKey: string\n    /** Response's key used to return URL to next paginated items.  */\n    nextKey: string\n    /** Response's key used to return total items count. */\n    countKey: string\n}\n\n/**\n * Arguments of {@link ModelList.fetch}. It is passed down to {@link Query.fetch}.\n */\nexport interface IModelListFetch<M extends Model> extends IModelFetch<M> {\n    /** Query's GET parameters used to filter the list. */\n    filters?: Filters\n    /**\n     * Append items to list. If `false` (default), fetch results will replace\n     * current list items.\n     */\n    append?: boolean | number\n}\n\n\n\n/**\n * Handle a list of model instances fetched using Rest Api. It is\n * used in model's panels.\n *\n * It uses {@link Query} object in order to fetch items and relations.\n *\n *\n * @example\n * const value = ref(null)\n * const list = new ModelList.reactive({\n *     query: new Query(repos.users, repos),\n *     relations: ['groups'],\n *     value,\n * })\n *\n * await list.load({url: '/users'})\n */\nexport default class ModelList<M extends Model> extends ModelController<M, IModelList<M>> {\n    // ids: number[] = []\n    items: M[] = []\n    filters: Filters = {}\n    nextUrl: string|null = null\n    prevUrl: string|null = null\n    count: number|null = null\n\n    dataKey = \"results\"\n    nextKey = \"next\"\n    prevKey = \"previous\"\n    countKey = \"count\"\n\n    /** Get items count. */\n    get length(): number { return this.items.length }\n\n    /** Get ids **/\n    get ids(): number[] { return this.items.map(v => v.id) }\n\n    /** Get item by list index */\n    get(index: number): number { return index < this.items.length ? this.items[index] : null }\n\n    /** Get item index by id */\n    findIndex(id: number): number { return this.items.findIndex((v) => v.id == id) }\n\n    /**\n     * Get item id next to provided one at the specified direction.\n     *\n     * @param item - reference item\n     * @param step - increment or decrement item index by this value.\n     * @return the target item id or null if not found.\n     */\n    getSiblingIndex(item: M|null, step: number): number {\n        if(item === null)\n            return -1\n\n        const index = this.findIndex(item.id)\n        const sibling = index >= 0 ? index+step : -1\n        return sibling >= 0 && sibling < this.items.length ? sibling : -1\n    }\n\n    /**\n     * Fetch next items from API, override `url` using {@link ModelList.nextUrl}.\n     */\n    async loadNext(options: IModelListFetch<M>): Promise<Response> {\n        return await this.load({...options, url: this.nextUrl})\n    }\n\n    /**\n     * Fetch previous items from API, override `url` using {@link ModelList.prevUrl}.\n     */\n    async loadPrev(options: IModelListFetch<M>): Promise<Response> {\n        return await this.load({...options, url: this.prevUrl})\n    }\n\n    protected getQueryOptions(options: IModelFetch<M>): IQueryFetch<M> {\n        if(this.filters)\n            options.params = {...this.filters, ...(options.params ?? [])}\n        return super.getQueryOptions(options)\n    }\n\n    /**\n     * Handle response from API.\n     * Reset list and context information such as next/prev url, total count.\n     */\n    async handleResponse({append=false, ...options}: IModelListFetch<M>, response: Response): Promise<Response> {\n        response = await super.handleResponse(options, response)\n        if(!this.state.isError) {\n            /*const ids = [...collectAttr(response.entities, 'id')]\n            if(typeof append == \"number\")\n                this.ids.splice(append, 0, ...ids)\n            else\n                this.ids = append ? this.ids.concat(ids) : ids\n                */\n            if(typeof append == \"number\")\n                this.items.splice(append, 0, ...response.entities)\n            else\n                this.items = append ? this.items.concat(response.entities) : response.entities\n\n            this.items = uniqWith(this.items, (a, b) => a.id == b.id)\n            this.nextUrl = response.response.data[this.nextKey] || null\n            this.prevUrl = response.response.data[this.prevKey] || null\n            this.count = response.response.data[this.countKey] || this.length\n        }\n        return response\n    }\n}\n\nexport default interface ModelList<M extends Model> extends IModelList<M> {\n    //ids: number[]\n    items: M[]\n    nextUrl: string|null\n    prevUrl: string|null\n    count: number|null\n}\n","import { cloneDeep, isEqual, pick } from 'lodash'\nimport type { Attribute, Repository } from 'pinia-orm'\nimport type { Response } from '@pinia-orm/axios'\nimport {toRaw} from 'vue'\n\nimport { reset, State } from '../utils'\nimport Editor from './editor'\nimport type { IObject } from '../utils'\nimport type { Model } from '../models'\nimport type {IEditor, IEditorProps, IEditorSend} from './editor'\n\n\n/**\n * ModelEditor properties (as passed down to {@link OxModelEdit} component).\n */\nexport interface IModelEditorProps<T extends Model> extends IEditorProps<T> {\n    /** Related repository */\n    repo: Repository<T>\n    /** Empty value, if not provided generated */\n    empty: T\n}\n\nexport interface IModelEditorSend extends IEditorSend {\n    id: number\n}\n\n\n/**\n * Editor sub-class used to edit model instances.\n *\n * Regarding properties ({@link IModelEditorProps}):\n * - `name` defaults to `{model.entity}-edit`.\n * - `repo` is mandatory\n *\n */\nexport default class ModelEditor<T extends Model, P extends IModelEditorProps<T>> extends Editor<T,P> {\n    constructor(options : IEditor<T,P>) {\n        options.fields = Object.keys((options.props.repo.use as typeof Model).fields())\n        options.empty ??= new options.props.repo.use()\n        super(options)\n    }\n\n    get repo() { return this.props.repo }\n    get name() { return this.props.name || `${this.repo.use.entity}-edit` }\n\n    isEdited(): boolean {\n        return !isEqual(pick(this.value, this.fields), pick(this.initial, this.fields))\n    }\n\n    get url(): string {\n        const url = super.url || (this.repo.use as typeof Model)?.meta?.url\n        if(!url)\n            throw Error(\"No url specified as parameter or in Model.meta.\")\n        return url\n    }\n\n    reset(val: T|null): void {\n        if(!val || !Object.keys(val).length)\n            val = this.empty\n\n        const fields = this.fields.filter(k => k in val)\n        this.value = cloneDeep(pick(val, fields)) || {}\n        this.state.none()\n    }\n\n    serialize(value: T): {[k: string]: any} {\n        const cls = this.repo.use\n        const obj = new cls({...this.value})\n        return obj.$toJson(null, {relations: false})\n    }\n\n    send(value: IModelEditorSend) : Promise<State> {\n        let [func, url] = [\"post\", this.url]\n        if(value.id) {\n            url = `${url}${value.id}/`\n            func = \"put\"\n        }\n        return this.repo.api()[func](url, value).then(\n            (result: Response) => State.ok(result.entities[0]),\n            (error: Response) => State.error(error.response.data)\n        )\n    }\n}\nexport default interface ModelEditor<T extends Model, P extends IModelEditorProps<T>> extends Editor<T,P> {\n    fields: string[]\n}\n","import {computed, reactive, toRefs} from 'vue'\nimport type {Reactive} from 'vue'\nimport type {Repository} from 'pinia-orm'\n\nimport {Model} from '../models'\nimport {mapToObject} from '../utils'\nimport {t, tKeys} from '../composables/i18n'\n\nimport type ModelList from './modelList'\nimport type Query from './query'\nimport type {Repos} from '../models'\n\nimport type {IPanel, IPanelProps} from './panel'\nimport type Panels from './panels'\n\nimport Panel from './panel'\nimport {query} from './query'\n\n\n/** Model panel component properties. */\nexport interface IModelPanelProps<M extends Model> extends IPanelProps {\n    /** Current repository */\n    repo: Repository<M>\n    // search: string\n    /** Current view */\n    view: string\n    /** List table headers */\n    headers?: string[]\n    /** Related fields to get from pinia orm's database and eventually fetch when items are retrieved from API.  */\n    relations?: string[]\n    /** Show filters */\n    showFilters?: boolean\n    /** Fetch related fields from API when queried */\n    fetchRelations: boolean\n    /** Search filter lookup */\n    search: string\n\n    /**\n     * Display this warning on the top of the panel.\n     */\n    warning?: string\n}\n\n/** Model panel interface. */\nexport interface IModelPanel<\n    M extends Model,\n    P extends IModelPanelProps<M> = IModelPanelProps<M>\n> extends IPanel<P>\n{\n    /** List controller used to load and handle multiple items from the server. */\n    list: ModelList<M>\n    /** Detail controller used to load and handle a single item from the server. */\n    //detail: ModelListDetail<M>\n}\n\n\n/** This class handles model panel (used by {@link OxModelPanel}. */\nexport default class ModelPanel<\n    M extends Model,\n    P extends IModelPanelProps<M> = IModelPanelProps<M>,\n> extends Panel<P>\n{\n    showFilters: boolean = false\n\n    constructor(options: IModelPanel<M,P>) {\n        super(options)\n        this.showFilters = this.props?.showFilters || false\n    }\n\n    /** Current model's repository. */\n    get repo(): Repository<M> { return this.props.repo }\n\n    /** Current model. */\n    get model(): typeof Model { return (this.repo.use as typeof Model) }\n\n    /** Query (shortcut to `this.list.query`). **/\n    get query(): Query<M> { return this.list.query }\n\n    /** Return icon based on props and model **/\n    get icon(): string { return super.icon || this.model.meta?.icon }\n\n    /** Return panel's title based on view and current item. */\n    get title(): string {\n        const {props, list} = this\n        const model = this.repo.use\n        if(model) {\n            // many items\n            if(this.view?.startsWith('list.'))\n                return t(tKeys.model(model), 3)\n\n            if(this.view?.startsWith('detail.') && this.value) {\n                if(this.value.$title)\n                    return this.value.$title\n\n                const name = t(tKeys.model(model))\n                return this.value.id\n                    ? t(`models._.title`, {model: name, id: this.value.id})\n                    : t(`models._.title.new`, {model: name})\n            }\n        }\n        return super.title\n    }\n\n    getUrlParams() {\n        const {value=null, ...params} = super.getUrlParams()\n        if(value?.id)\n            params.id = value.id\n        return params\n    }\n\n    /**\n     * Edit a new item.\n     *\n     * @param view - edit view.\n     */\n    create(view: string='detail.edit') {\n        this.show({view, value: null})\n    }\n\n    /** Called when an item has been created. By default, show edit view. */\n    created(value: M, view: string=\"detail.edit\") {\n        // this.list.load()\n        this.show({view, value})\n    }\n\n    show({id=null, ...params}: {view?: string, value?: M, id: number}) {\n        if(id) {\n            query(this.repo).fetch({id, relations: this.relations}).then(r => {\n                super.show({...params, value: r.entities[0]})\n                return r\n            })\n        }\n        else\n            return super.show(params)\n    }\n\n    onViewChange(val: string) {\n        super.onViewChange(val)\n        if(val.startsWith('list.'))\n            this.list.load()\n        //if(val.startsWith('detail.'))\n        //    this.detail.load()\n    }\n    onValueChange(val: string) {\n        //val && this.detail.load({id: val})\n    }\n}\n\n\nexport default interface ModelPanel<M extends Model,P extends IModelPanelProps<M>=IModelPanelProps<M>,O=IModelPanel<M>> extends IModelPanel<M,P> {\n    showFilters: boolean\n}\n","import {\n    computed, inject, isRef, toRefs, unref, watch,\n    onMounted, onUnmounted, provide, reactive,\n} from 'vue'\n\nimport type {ComputedRef, Reactive, Ref, WatchHandle} from 'vue'\nimport type {Repository} from 'pinia-orm'\n\nimport {injectOrProvide} from '../utils'\nimport type {IObject} from '../utils'\nimport type {Repos, Model} from '../models'\n\nimport {\n    Panels, Panel, ModelPanel,\n    Query, ModelList,\n    Editor, ModelEditor\n} from '../controllers'\n\nimport type {\n    IPanels, IPanel, IPanelProps,\n    IModelPanel, IModelPanelProps,\n    IModelList,\n    IEditor, IEditorProps, IModelEditorProps,\n} from '../controllers'\n\n\n//---- Panels\n/**\n * Create a new reactive {@link Panels} and provide it as `panels`.\n *\n * It also creates watchers in order to:\n * - update document title based on current panel's view\n * - keep track of current view's url: when a panels' getUrlParams changes, it will `History.pushState` storing those params;\n *\n * @return the reactive Panels.\n */\nexport function usePanels(options: IPanels) {\n    const panels = reactive(new Panels(options))\n    provide('panels', panels)\n\n    onMounted(() => {\n        panels.readDocumentLocation()\n        panels.panel && panels.show({\n            panel: panels.panel, silent: true,\n            ...panels.params\n        })\n    })\n\n    window.addEventListener(\"popstate\", (event) => {\n        if(event.state)\n            panels.show({...event.state, silent: true})\n    })\n\n    // we update title after history state\n    const initialTitle = document.title\n    watch(() => panels.current?.title, (val) => {\n        if(val)\n            document.title = `${val} | ${initialTitle}`\n        else\n            document.title = initialTitle\n    })\n\n    return panels\n}\n\n/** Create a new {@link Panel}.\n*\n* - (un)register the panel to object's `panels` on (un)mount.\n* - provide `panel`;\n* - watch on {@link Panel.view} calling {@link Panel.onViewChange}\n*/\nexport function usePanel<P extends IPanelProps>(options: IPanel<P>, cls: typeof Panel<P>) {\n    const panel = reactive(new cls(options))\n\n    provide('panel', panel)\n    onMounted(() => panel.panels.register(panel.name, panel))\n    onUnmounted(() => panel.panels.unregister(panel.name))\n\n    // watch(() => panel.view, (val, old) => val != old && panel.onViewChange(val))\n    return {panel}\n}\n\n/** Create a new {@link ModelPanel}. */\n// TODO: allow to pass list down\nexport function useModelPanel<M extends Model, P extends IModelPanelProps<M>>(\n    {query, repos, ...options}: IModelPanel<M,P>\n)\n{\n    repos ??= inject('repos')\n    query ??= useQuery(options.props.repo, inject('repos'))\n    options.panels ??= inject('panels')\n\n    const {list, items} = useModelList({\n        query,\n        relations: options.props.relations,\n        fetchRelations: options.props.fetchRelations\n    })\n    const {panel} = usePanel({list, ...options}, ModelPanel)\n\n    const next = computed(() => {\n        const index = list.getSiblingIndex(unref(panel.value), 1)\n        return items.value[index] ?? null\n    })\n    const prev = computed(() => {\n        const index = list.getSiblingIndex(unref(panel.value), -1)\n        return items.value[index] ?? null\n    })\n\n    return {panels: panel.panels, panel, list, items, next, prev}\n}\n\n\n//---- Controllers\n/** Create a new {@link List} and provide it as `list`. */\nexport function useModelList<M extends Model>(options : IModelList<M>, cls: typeof ModelList = ModelList)\n{\n    const list = reactive(new cls(options))\n    const items = computed(() =>\n        list.save && list.relations && list.length ?\n            list.queryset(list.ids).orderBy((item) => list.ids.indexOf(item)).get() :\n            list.items\n    )\n\n    provide('list', list)\n    provide('items', items)\n    return {list, items}\n}\n\n/** This composable return a new query from provided arguments. */\nexport function useQuery<M extends Model>(repo: Repository<M>, repos: Repos|null=null): Query<M> {\n    const query = new Query(repo, repos)\n    provide('query', query)\n    return query\n}\n\n\n/**\n * This composable create an new Editor and returns it as reactive object.\n *\n * - provide `editor`\n * - set default `saved` method if emits is provided\n * - watch on edition to update panel's editions\n */\nexport function useEditor<\n    T extends Record<string,any>,\n    P extends IEditorProps<T>,\n>(\n    options: IEditor<T,P>,\n    cls: typeof Editor<T,P>=Editor<T,P>\n)\n{\n    const initial = options.initial || unref\n    const editor = reactive(new cls(options))\n\n    provide('editor', editor)\n\n    const edited = computed(() => editor.isEdited())\n    watch(() => editor.props.initial, (val) => editor.reset(val || editor.default))\n\n    const panel = inject('panel') as Panel\n    if(panel)\n        watch(() => editor.edited, (val: boolean) => panel.setEdition(editor.name, val))\n\n    return {editor, edited}\n}\n\n/** Return a new reactive {@link ModelEditor} */\nexport function useModelEditor<\n    T extends Model,\n    P extends IModelEditorProps<T>\n>(\n    options: IEditor<T,P>,\n    cls: typeof ModelEditor<T,P> = ModelEditor<T,P>\n)\n{\n    return useEditor(options, cls)\n}\n","import {t} from '../composables'\n\n/**\n * This object provide commonly used validation rules to use with form fields.\n */\nexport default {\n    /** Field is required */\n    required(value) {\n        return value ? true : t('fields._.required')\n    },\n\n    /**\n     * Validate field errors returned from the server.\n     */\n    errors(errorList) {\n        return () => {\n            errorList?.length ? errorList.join('<br>') : true\n        }\n    },\n\n    /**\n     * Return a rule whose validating value is optional.\n     *\n     * By default rules require value to be provided. This returns a new\n     * rule whose value can either be empty or must match provided rule.\n     */\n    optional(rule) {\n        return (value) => {\n            return !value || rule(value)\n        }\n    },\n\n    /** Rule validating email */\n    email(value) {\n        const allowed = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\n        return allowed.test(value) || t(\"fields.email.rule\")\n    },\n\n    /** Rule validating username */\n    username(value) {\n        const allowed = /^[A-Za-z0-9@.+\\-_]+$/\n        return allowed.test(value) || \"Username must not be empty. It only can contain letters, numbers and @/+/./- special characters\"\n    },\n}\n","import { defineAsyncComponent as $defineAsyncComponent } from 'vue'\n\nexport * from './app'\nexport * from './actions'\nexport * from './init'\nexport * from './i18n'\nexport * from './models'\nexport * from './controllers'\nexport {default as rules} from './rules'\n\n\n/**\n * Similar to `defineAsyncComponent` allowing to load a component\n * by name from a provided module url.\n */\nexport function defineAsyncComponent(url: string, name: string) {\n    return $defineAsyncComponent(() => {\n        return import(url).then(mod => {\n            if(!name)\n                return mod\n            console.log(mod, mod.components, Object.keys(mod))\n            const obj = Object.values(mod).filter((y: {[k: string]: any}) => y.__name == name)[0]\n            return obj\n        })\n    })\n}\n\n\n/**\n * This exception is used in order to display the message to user\n * when it is raised.\n */\nclass UserError extends Error {}\n"],"names":["asRelation","repo","relation","fields","_a","field","Relation","getSourceKey","HasMany","HasManyBy","HasOne","BelongsTo","Response","repository","config","response","__publicField","data","method","result","action","Request","actions","_c","_b","name","url","requestConfig","axiosResponse","AxiosRepository","Repository","database","pinia","useAxiosApi","axios","useAxiosRepo","model","getActivePinia","useRepo","createPiniaOrmAxios","axiosConfig","definePiniaOrmPlugin","context","useModels","models","useInject","useDefaults","repos","inject","injected","User","provide","usePermissionsProps","usePermissions","user","perms","value","permissions","Permissions","allowed","computed","unref","AppContext","opts","obj","reactive","State","dataEl","el","useAppContext","load","useAction","props","emits","processing","ref","args","weekInfo","locale","code","getWeekArray","date","firstDayOfWeek","weeks","currentWeek","firstDayOfMonth","startOfMonth","lastDayOfMonth","endOfMonth","first","firstDayWeekIndex","lastDayWeekIndex","i","adjacentDay","day","startOfWeek","d","endOfWeek","lastDay","parseLocalDate","parts","_YYYMMDD","parsed","sundayJanuarySecond2000","getWeekdays","daysFromSunday","createRange","weekday","format","formatString","formats","newDate","customFormat","options","month","toISO","adapter","year","padStart","parseISO","addMinutes","amount","addHours","addDays","addWeeks","addMonths","getYear","getMonth","getWeek","firstWeekMinSize","weekInfoFromLocale","weekStart","minWeekSize","firstWeekSize","yearStart","getDiff","currentWeekEnd","size","d1w1","getDate","getNextMonth","getPreviousMonth","getHours","getMinutes","startOfYear","endOfYear","isWithinRange","range","isAfter","isBefore","isValid","comparing","isAfterDay","startOfDay","isEqual","isSameDay","isSameMonth","isSameYear","unit","c","setHours","count","setMinutes","setMonth","setDate","setYear","endOfDay","VuetifyDateAdapter","firstDay","DateOptionsSymbol","DateAdapterSymbol","createDate","_options","mergeDeep","createInstance","instance","watch","createVuetify","vuetify","blueprint","rest","aliases","components","directives","scope","effectScope","defaults","createDefaults","display","createDisplay","theme","createTheme","icons","createIcons","createLocale","goTo","createGoTo","install","app","key","defineComponent","appScope","DefaultsSymbol","DisplaySymbol","ThemeSymbol","IconSymbol","LocaleSymbol","GoToSymbol","IN_BROWSER","mount","vm","nextTick","unmount","version","provides","md3","mdi","green","colors","inBrowser","makeSymbol","shareable","generateFormatCacheKey","source","friendlyJSONstringify","json","isNumber","val","isDate","toTypeString","isRegExp","isEmptyObject","isPlainObject","assign","_create","create","_globalThis","getGlobalThis","escapeHtml","rawText","hasOwnProperty","hasOwn","isArray","isFunction","isString","isBoolean","isObject","isPromise","objectToString","toDisplayString","join","items","separator","str","item","index","warn","msg","err","isNotObjectOrIsArray","deepCopy","src","des","stack","createPosition","line","column","offset","createLocation","start","end","CompileErrorCodes","COMPILE_ERROR_CODES_EXTEND_POINT","createCompileError","loc","domain","messages","error","defaultOnError","CHAR_SP","CHAR_CR","CHAR_LF","CHAR_LS","CHAR_PS","createScanner","_buf","_index","_line","_column","_peekOffset","isCRLF","isLF","isPS","isLS","isLineEnd","peekOffset","charAt","currentChar","currentPeek","next","peek","reset","resetPeek","skipToPeek","target","EOF","DOT","LITERAL_DELIMITER","ERROR_DOMAIN$3","createTokenizer","location","_scnr","currentOffset","currentPosition","_initLoc","_initOffset","_context","onError","emitError","pos","ctx","getToken","type","token","getEndToken","eat","scnr","ch","peekSpaces","buf","skipSpaces","isIdentifierStart","cc","isNumberStart","isNamedIdentifierStart","currentType","ret","isListIdentifierStart","isLiteralStart","isLinkedDotStart","isLinkedModifierStart","isLinkedDelimiterStart","isLinkedReferStart","fn","isTextStart","isPluralStart","hasSpace","prev","takeChar","isIdentifier","takeIdentifierChar","isNamedIdentifier","takeNamedIdentifierChar","isDigit","takeDigit","isHexDigit","takeHexDigit","getDigits","num","readText","readNamedIdentifier","readListIdentifier","isLiteral","readLiteral","literal","readEscapeSequence","current","readUnicodeEscapeSequence","unicode","digits","sequence","isInvalidIdentifier","readInvalidIdentifier","identifiers","readLinkedModifier","readLinkedRefer","readPlural","plural","readTokenInPlaceholder","readTokenInLinked","validNamedIdentifier","validListIdentifier","validLiteral","readToken","nextToken","startLoc","endLoc","ERROR_DOMAIN$2","KNOWN_ESCAPES","fromEscapeSequence","match","codePoint4","codePoint6","codePoint","createParser","tokenzer","startNode","node","endNode","parseText","tokenizer","parseList","parseNamed","parseLiteral","parseLinkedModifier","getTokenCaption","parseLinkedKey","parseLinked","linkedNode","nextContext","emptyLinkedKeyNode","parseMessage","startOffset","endOffset","parsePlural","msgNode","hasEmptyMessage","parseResource","parse","createTransformer","ast","traverseNodes","nodes","transformer","traverseNode","transform","optimize","body","optimizeMessageNode","message","values","minify","resource","cases","valueNode","linked","list","named","createCodeGenerator","filename","breakLineCode","_needIndent","push","_newline","n","withBreakLine","_breakLineCode","indent","withNewLine","level","deindent","newline","generateLinkedNode","generator","helper","generateNode","generateMessageNode","needIndent","length","generatePluralNode","generateResource","generate","mode","helpers","s","map","baseCompile","assignedOptions","jit","enalbeMinify","enambeOptimize","initFeatureFlags","isMessageAST","resolveType","PROPS_BODY","resolveBody","resolveProps","PROPS_CASES","resolveCases","PROPS_STATIC","resolveStatic","PROPS_ITEMS","resolveItems","PROPS_TYPE","PROPS_VALUE","resolveValue$1","resolved","createUnhandleNodeError","PROPS_MODIFIER","resolveLinkedModifier","PROPS_KEY","resolveLinkedKey","defaultValue","prop","AST_NODE_PROPS_KEYS","formatParts","formatMessageParts","static_","acm","formatMessagePart","modifier","defaultOnCacheKey","compileCache","detectError","baseCompile$1","compile","cacheKey","cached","devtools","setDevToolsHook","hook","initI18nDevTools","i18n","meta","translateDevTools","createDevToolsHook","payloads","CoreErrorCodes","CORE_ERROR_CODES_EXTEND_POINT","createCoreError","getLocale","resolveLocale","_resolveLocale","resolve","fallbackWithSimple","fallback","fallbackWithLocaleChain","startLocale","DEFAULT_LOCALE","chain","block","appendBlockToChain","blocks","follow","appendLocaleToChain","tokens","appendItemToChain","pathStateMachine","literalValueRE","exp","stripQuotes","a","b","getPathCharType","formatSubPath","path","trimmed","keys","subPathDepth","newChar","transition","typeMap","maybeUnescapeQuote","nextChar","cache","resolveWithKeyValue","resolveValue","hit","len","last","VERSION","NOT_REOSLVED","MISSING_RESOLVE_VALUE","capitalize","getDefaultLinkedModifiers","_compiler","registerMessageCompiler","compiler","_resolver","registerMessageResolver","resolver","_fallbacker","registerLocaleFallbacker","fallbacker","_additionalMeta","setAdditionalMeta","getAdditionalMeta","_fallbackContext","setFallbackContext","getFallbackContext","_cid","createCoreContext","onWarn","_locale","fallbackLocale","createResources","datetimeFormats","numberFormats","modifiers","pluralRules","missing","missingWarn","fallbackWarn","fallbackFormat","unresolving","postTranslation","processor","warnHtmlMessage","escapeParameter","messageCompiler","messageResolver","localeFallbacker","fallbackContext","internalOptions","__datetimeFormatters","__numberFormatters","__meta","handleMissing","updateFallbackLocale","isAlmostSameLocale","compareLocale","isImplicitFallback","targetLocale","locales","datetime","overrides","parseDateTimeArgs","part","datetimeFormat","id","formatter","DATETIME_FORMAT_OPTIONS_KEYS","arg1","arg2","arg3","arg4","matches","dateTime","clearDateTimeFormat","number","parseNumberArgs","numberFormat","NUMBER_FORMAT_OPTIONS_KEYS","clearNumberFormat","DEFAULT_MODIFIER","DEFAULT_MESSAGE","DEFAULT_MESSAGE_DATA_TYPE","DEFAULT_NORMALIZE","DEFAULT_INTERPOLATE","pluralDefault","choice","choicesLength","getPluralIndex","normalizeNamed","pluralIndex","createMessageContext","pluralRule","orgPluralRule","_list","_named","useLinked","_modifier","normalize","interpolate","NOOP_MESSAGE_FUNCTION","isMessageFunction","translate","parseTranslateArgs","resolvedMessage","defaultMsgOrKey","enableDefaultMsg","escapeParams","formatScope","resolveMessageFormat","cacheBaseKey","occurred","compileMessageFormat","ctxOptions","getMessageContextOptions","msgContext","messaged","evaluateMessage","missingRet","getCompileContext","msgCtx","I18nErrorCodes","createI18nError","TranslateVNodeSymbol","DatetimePartsSymbol","NumberPartsSymbol","SetPluralRulesSymbol","InejctWithOptionSymbol","DisposeSymbol","handleFlatJson","subKeys","lastIndex","currentObj","hasStringValue","getLocaleMessages","__i18n","flatJson","custom","getComponentOptions","adjustI18nResources","gl","componentOptions","createTextNode","createVNode","Text","DEVTOOLS_META","NOOP_RETURN_ARRAY","NOOP_RETURN_FALSE","composerID","defineCoreMissingHandler","getCurrentInstance","getMetaInfo","createComposer","__root","__injectWithOption","_isGlobal","_ref","shallowRef","_inheritLocale","_fallbackLocale","_messages","_datetimeFormats","_numberFormats","_missingWarn","_fallbackWarn","_fallbackRoot","_fallbackFormat","_missing","_runtimeMissing","_postTranslation","_warnHtmlMessage","_escapeParameter","_modifiers","_pluralRules","trackReactivityValues","getPostTranslationHandler","setPostTranslationHandler","handler","getMissingHandler","setMissingHandler","wrapWithDeps","argumentParser","warnType","fallbackSuccess","fallbackFail","successCondition","t","root","rt","translateVNode","numberParts","datetimeParts","setPluralRules","rules","te","getLocaleMessage","resolveMessages","targetLocaleMessages","messageValue","tm","setLocaleMessage","_message","mergeLocaleMessage","getDateTimeFormat","setDateTimeFormat","mergeDateTimeFormat","getNumberFormat","setNumberFormat","mergeNumberFormat","composer","convertComposerOptions","fallbackRoot","pluralizationRules","inheritLocale","sharedMessages","createVueI18n","__extender","vueI18n","defineMixin","vuei18n","optionsI18n","mergeToGlobal","_vueI18n","g","baseFormatProps","getInterpolateArg","slots","slot","Fragment","arg","getFragmentableTag","TranslationImpl","attrs","useI18n","children","assignedAttrs","tag","h","Translation","isVNode","renderFormatter","slotKeys","partFormatter","NumberFormatImpl","NumberFormat","DatetimeFormatImpl","DatetimeFormat","getComposer$1","i18nInternal","vTDirective","_process","binding","parsedValue","parseValue","makeParams","textContent","apply","pluginOptions","I18nInjectionKey","createI18n","VueI18nLegacy","__legacyMode","__globalInjection","__instances","globalScope","__global","createGlobal","symbol","__getInstance","component","__setInstance","__deleteInstance","globalReleaseHandler","injectGlobalFields","unmountApp","getI18nInstance","getGlobalComposer","getScope","getComposer","composerOptions","setupLifeCycle","legacyMode","useComponent","getParentComponentInstance","onMounted","onUnmounted","_composer","dispose","globalExportProps","globalExportMethods","desc","wrap","isRef","getCookieList","x","$createI18n","loadLocale","setLocale","loadedLocalePaths","promise","loadLocaleFrom","locale2","r","tKeys","init","App","onLoad","initApp","createApp","plugins","$createApp","plugin","vendorComponents","$createVuetify","createPinia","baseURL","$createPinia","piniaOrm","createORM","setActivePinia","Query","ids","lookup","params","relations","_e","_d","nextKey","limit","result2","objs","entities","funcName","rel","repo2","fk","collectAttr","query","Editor","assignNonEmpty","initial","state","cloneDeep","_","Panel","edited","view","silent","Panels","search","panel","idx","child","force","href","ModelController","ModelList","v","step","sibling","append","uniqWith","ModelEditor","pick","k","cls","func","ModelPanel","usePanels","panels","event","initialTitle","usePanel","useModelPanel","useQuery","useModelList","useEditor","editor","useModelEditor","errorList","rule","defineAsyncComponent","$defineAsyncComponent","mod","y"],"mappings":"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","x_google_ignoreList":[1,5,6,7,8,9,10,11,12,13]}
