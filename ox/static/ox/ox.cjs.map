{"version":3,"file":"ox.cjs","sources":["../../../assets/ox/src/models/index.ts","../../../assets/node_modules/.pnpm/@pinia-orm+axios@1.10.2_axios@1.9.0_pinia-orm@1.10.2_pinia@2.3.1_typescript@5.8.3_vue@3_820808fc56c26caa850f1c1b6b7ed0f0/node_modules/@pinia-orm/axios/dist/index.mjs","../../../assets/ox/src/composables/models.ts","../../../assets/ox/src/composables/app.ts","../../../assets/ox/src/composables/actions.ts","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/composables/date/adapters/vuetify.js","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/composables/date/date.js","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/framework.js","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/blueprints/md3.js","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/util/colors.js","../../../assets/node_modules/.pnpm/@intlify+shared@10.0.7/node_modules/@intlify/shared/dist/shared.mjs","../../../assets/node_modules/.pnpm/@intlify+message-compiler@10.0.7/node_modules/@intlify/message-compiler/dist/message-compiler.mjs","../../../assets/node_modules/.pnpm/@intlify+core-base@10.0.7/node_modules/@intlify/core-base/dist/core-base.mjs","../../../assets/node_modules/.pnpm/vue-i18n@10.0.7_vue@3.5.13_typescript@5.8.3_/node_modules/vue-i18n/dist/vue-i18n.mjs","../../../assets/ox/src/composables/i18n.ts","../../../assets/ox/src/composables/init.ts","../../../assets/ox/src/controllers/query.ts","../../../assets/ox/src/controllers/editor.ts","../../../assets/ox/src/controllers/panel.ts","../../../assets/ox/src/controllers/panels.ts","../../../assets/ox/src/controllers/modelController.ts","../../../assets/ox/src/controllers/modelList.ts","../../../assets/ox/src/controllers/modelEditor.ts","../../../assets/ox/src/controllers/modelPanel.ts","../../../assets/ox/src/composables/controllers.ts","../../../assets/ox/src/composables/rules.ts","../../../assets/ox/src/composables/index.ts"],"sourcesContent":["import {Relation, BelongsTo, HasMany, HasManyBy, HasOne} from 'pinia-orm'\nimport type {Repository, PrimaryKey, Model as $Model} from 'pinia-orm'\n\nimport type { ClassType } from '../utils'\n\nexport * from './model'\nexport * from './auth'\nimport type { Model } from './model'\n\n/** Shortcut to an object of repositories by model entity. */\nexport type Repos={[s: string]: Repository<Model>}\n\n/** Generic type for typing model classes. **/\nexport type ModelType<T extends Model> = ClassType<T>\n\n\n/** Return relation based on field name or Relation field. */\nexport function asRelation<M extends $Model>(repo: Repository<M>, relation: string|Relation): Relation|null {\n    if(typeof relation == \"string\") {\n        const fields = repo.use?.fields()\n        const field = fields && fields[relation] || null\n        relation = field instanceof Relation ? field : null\n    }\n    return relation\n}\n\n/**\n * For the provided relation, return the field name providing ids of related\n * models.\n */\nexport function getSourceKey(field: Relation): PrimaryKey|null  {\n    if(field instanceof HasMany || field instanceof HasManyBy || field instanceof HasOne || field instanceof BelongsTo)\n        return field.foreignKey\n    return null\n}\n","import { Repository, config, useRepo, definePiniaOrmPlugin } from 'pinia-orm';\nimport { getActivePinia } from 'pinia';\n\nclass Response {\n  /**\n   * The repository that called the request.\n   */\n  repository;\n  /**\n   * The request configuration.\n   */\n  config;\n  /**\n   * The axios response instance.\n   */\n  response;\n  /**\n   * Entities created by Pinia ORM.\n   */\n  entities = null;\n  /**\n   * Whether if response data is saved to the store or not.\n   */\n  isSaved = false;\n  /**\n   * Create a new response instance.\n   */\n  constructor(repository, config, response) {\n    this.repository = repository;\n    this.config = config;\n    this.response = response;\n  }\n  /**\n   * Save response data to the store.\n   */\n  async save() {\n    const data = this.getDataFromResponse();\n    if (!this.validateData(data)) {\n      console.warn(\n        \"[Pinia ORM Axios] The response data could not be saved to the store because it is not an object or an array. You might want to use `dataTransformer` option to handle non-array/object response before saving it to the store.\"\n      );\n      return;\n    }\n    let method = this.config.persistBy || \"save\";\n    if (!this.validatePersistAction(method)) {\n      console.warn(\n        '[Pinia ORM Axios] The \"persistBy\" option configured is not a recognized value. Response data will be persisted by the default `save` method.'\n      );\n      method = \"save\";\n    }\n    const result = await this.repository[method](data);\n    this.entities = Array.isArray(result) ? result : [result];\n    this.isSaved = true;\n  }\n  /**\n   * Delete the entity record where the `delete` option is configured.\n   */\n  async delete() {\n    if (this.config.delete === void 0) {\n      throw new Error(\n        \"[Pinia ORM Axios] Could not delete records because the `delete` option is not set.\"\n      );\n    }\n    await this.repository.query().destroy(this.config.delete);\n  }\n  /**\n   * Get the response data from the axios response object. If a `dataTransformer`\n   * option is configured, it will be applied to the response object. If the\n   * `dataKey` option is configured, it will return the data from the given\n   * property within the response body.\n   */\n  getDataFromResponse() {\n    if (this.config.dataTransformer) {\n      return this.config.dataTransformer(this.response);\n    }\n    if (this.config.dataKey) {\n      return this.response.data[this.config.dataKey];\n    }\n    return this.response.data;\n  }\n  /**\n   * Get persist options if any set in config.\n   */\n  // protected getPersistOptions (): PersistOptions | undefined {\n  //   const persistOptions = this.config.persistOptions\n  //\n  //   if (!persistOptions || typeof persistOptions !== 'object') {\n  //     return\n  //   }\n  //\n  //   return Object.keys(persistOptions)\n  //     .filter(this.validatePersistAction) // Filter to avoid polluting the payload.\n  //     .reduce((carry, key) => {\n  //       carry[key] = persistOptions[key]\n  //       return carry\n  //     }, {} as PersistOptions)\n  // }\n  /**\n   * Validate the given data to ensure the Pinia ORM persist methods accept it.\n   */\n  validateData(data) {\n    return data !== null && typeof data === \"object\";\n  }\n  /**\n   * Validate the given string as to ensure it correlates with the available\n   * Pinia ORM persist methods.\n   */\n  validatePersistAction(action) {\n    return [\"save\", \"insert\"].includes(action);\n  }\n}\n\nclass Request {\n  /**\n   * The repository class.\n   */\n  repository;\n  /**\n   * The default config.\n   */\n  config = {\n    save: true\n  };\n  /**\n   * Create a new api instance.\n   */\n  constructor(repository) {\n    this.repository = repository;\n    this.registerActions();\n  }\n  /**\n   * Get the axios client.\n   */\n  get axios() {\n    this.repository.axios = this.repository.axios ?? this.repository.config.axiosApi.axios;\n    if (!this.repository.axios) {\n      throw new Error(\n        \"[Pinia ORM Axios] The axios instance is not registered. Please register the axios instance to the repository.\"\n      );\n    }\n    return this.repository.axios;\n  }\n  /**\n   * Register actions from the repository config.\n   */\n  registerActions() {\n    const actions = { ...this.repository.config.axiosApi?.actions, ...this.repository.getModel().$config()?.axiosApi?.actions };\n    if (!actions) {\n      return;\n    }\n    for (const name in actions) {\n      const action = actions[name];\n      typeof action === \"function\" ? this.registerFunctionAction(name, action) : this.registerObjectAction(name, action);\n    }\n  }\n  /**\n   * Register the given object action.\n   */\n  registerObjectAction(name, action) {\n    this[name] = (config) => {\n      return this.request({ ...action, ...config });\n    };\n  }\n  /**\n   * Register the given function action.\n   */\n  registerFunctionAction(name, action) {\n    this[name] = action.bind(this);\n  }\n  /**\n   * Perform a get request.\n   */\n  get(url, config = {}) {\n    return this.request({ method: \"get\", url, ...config });\n  }\n  /**\n   * Perform a post request.\n   */\n  post(url, data = {}, config = {}) {\n    return this.request({ method: \"post\", url, data, ...config });\n  }\n  /**\n   * Perform a put request.\n   */\n  put(url, data = {}, config = {}) {\n    return this.request({ method: \"put\", url, data, ...config });\n  }\n  /**\n   * Perform a patch request.\n   */\n  patch(url, data = {}, config = {}) {\n    return this.request({ method: \"patch\", url, data, ...config });\n  }\n  /**\n   * Perform a delete request.\n   */\n  delete(url, config = {}) {\n    return this.request({ method: \"delete\", url, ...config });\n  }\n  /**\n   * Perform an api request.\n   */\n  async request(config) {\n    const requestConfig = this.createConfig(config);\n    const axiosResponse = await this.axios.request(requestConfig);\n    return this.createResponse(axiosResponse, requestConfig);\n  }\n  /**\n   * Create a new config by merging the global config, the repository config,\n   * and the given config.\n   */\n  createConfig(config) {\n    return {\n      ...this.config,\n      ...this.repository.globalApiConfig,\n      ...this.repository.apiConfig,\n      ...config\n    };\n  }\n  /**\n   * Create a new response instance by applying a few initialization processes.\n   * For example, it saves response data if `save` option id set to `true`.\n   */\n  async createResponse(axiosResponse, config) {\n    const response = new Response(this.repository, config, axiosResponse);\n    if (config.delete !== void 0) {\n      await response.delete();\n      return response;\n    }\n    config.save && await response.save();\n    return response;\n  }\n}\n\nclass AxiosRepository extends Repository {\n  axios;\n  globalApiConfig;\n  apiConfig;\n  constructor(database, pinia) {\n    super(database, pinia);\n    this.axios = config?.axiosApi?.axios || null;\n    this.globalApiConfig = config?.axiosApi || {};\n    this.apiConfig = {};\n  }\n  api() {\n    return useAxiosApi(this);\n  }\n  setAxios(axios) {\n    this.axios = axios;\n    return this;\n  }\n}\n\nfunction useAxiosApi(repository) {\n  return new Request(repository);\n}\n\nfunction useAxiosRepo(model) {\n  const pinia = getActivePinia();\n  AxiosRepository.useModel = model;\n  return useRepo(AxiosRepository, pinia);\n}\n\nfunction createPiniaOrmAxios(axiosConfig) {\n  return definePiniaOrmPlugin((context) => {\n    context.config.axiosApi = axiosConfig;\n    return context;\n  });\n}\nconst piniaOrmPluginAxios = createPiniaOrmAxios();\n\nexport { AxiosRepository, Request, Response, createPiniaOrmAxios, piniaOrmPluginAxios, useAxiosApi, useAxiosRepo };\n","import { inject, provide, computed, unref } from 'vue'\nimport { getActivePinia } from 'pinia'\nimport { useRepo } from 'pinia-orm'\nimport { useAxiosRepo } from '@pinia-orm/axios'\nimport type {Ref} from 'vue'\nimport type {Repository} from 'pinia-orm'\n\nimport { Model, User, Permissions } from '../models'\nimport type {Repos, IPermissionItem} from '../models'\n\n\nexport type Models = (typeof Model)[] | {[name: string]: (typeof Model)}\n\n/**\n * {@link useModels} options.\n */\nexport interface IUseModelOpts {\n    /** Use injected repository if already present. */\n    useInject?: boolean\n    /** Use default models */\n    useDefaults?: boolean\n}\n\n/**\n * Use provided pinia-orm models, returning an object with:\n * - repos: pinia-orm api repositories as dict by entity\n * - models: pinia-orm models\n *\n * It uses injected repos by default if already provided. You\n * can disable it through options.\n *\n * `provide()` those values if not already provided.\n */\nexport function useModels(models: Models, {useInject=true, useDefaults=true}: IUseModelOpts = {}) {\n    var repos : Repos = useInject && (inject('repos') || {}) as Repos\n    const injected = (useInject && !!Object.keys(repos).length)\n\n    if(!Array.isArray(models))\n       models = Object.values(models)\n\n    if(useDefaults)\n       models.push(User)\n\n    for(const model of models)\n        if(model && model.entity) {\n            if(model.entity in repos)\n                continue\n\n            // there might be a bug here, without useRepo, axios is\n            // null on repositories\n            useRepo(model)\n            repos[model.entity] = useAxiosRepo(model) as Repository<Model>\n        }\n\n    !injected && provide(\"repos\", repos)\n    return repos\n}\n\n\nexport function usePermissionsProps() {\n    return {\n        permissions: [String, Function, Object, Array],\n    }\n}\n\n\nexport function usePermissions(user: User|Ref<User>, perms: IPermissionItem[], value: Model) {\n    const permissions = perms instanceof Permissions ? perms : new Permissions(perms)\n    const allowed = computed(() => permissions.can(unref(user), unref(value)))\n    return { permissions, allowed }\n}\n","import {computed, reactive, provide} from 'vue'\nimport type {ComputedRef, Reactive} from 'vue'\n\nimport {User, Model} from '../models'\nimport type {Repos} from '../models'\nimport { useModels } from './models'\nimport { State } from '../utils'\nimport type {IObject} from '../utils'\n\n\n/**\n * Interface describing application data.\n *\n * Application data is initial data passed down to application from\n * Django generated page.\n */\nexport interface IAppData extends IObject {\n    //! User's data.\n    user?: IObject\n}\n\n/**\n * This provide configuration to {@link AppContext}.\n */\nexport interface IApp {\n    /**\n     * Root API url\n     */\n    apiUrl?: string\n    /**\n     * Id of `<script>` element containing initial application data.\n     */\n    dataEl?: string\n    /**\n     * Models used by application.\n     */\n    models?: (typeof Model)[]\n    /**\n     * Extra application data.\n     */\n    data?: IAppData\n}\n\n\n/**\n * This class provides context for Oxylus application.\n *\n * Which is:\n * - initial data: this is loaded from `<script>` HTML object.\n * - models: it will create adequate `pinia-orm/axios` repositories for them.\n *\n * The context is provided to Vue components in order to allow them\n * to access global information, such as current user or Panel.\n */\nexport class AppContext {\n    static reactive(opts: IApp) : IRAppContext {\n        const obj = reactive(new this(opts)) as IRAppContext\n        obj.user = computed(() => new User(obj.data?.user || {}))\n        return obj\n    }\n\n    constructor(opts: IApp = {}) {\n        Object.assign(this, opts)\n        this.state = State.none()\n        this.showState = false\n    }\n\n    /**\n     * Load data into AppData. If no `value` is provided, read it from\n     * source element.\n     */\n    load(value: any = undefined) {\n        if(this.dataEl !== undefined) {\n            if(value === undefined)\n                value = this.readData(this.dataEl)\n            value.dataEl = this.dataEl\n            this.data = value\n        }\n\n        if(this.models !== undefined) {\n            this.repos = useModels(this.models)\n        }\n    }\n\n    /**\n     * Read data from the context of provided source element.\n     * @param {String} el - id of the DOM element.\n     * @return {Object} read data\n     */\n    readData(dataEl: string): any {\n        const el = document.getElementById(dataEl)\n        if(!el)\n            throw `Element {elementId} not found`;\n        return el.innerText ? JSON.parse(el.innerText) : {};\n    }\n}\nexport interface AppContext extends IApp {\n    /** Models' repositories */\n    repos?: Repos\n    /**\n     * Application level state. This can be displayed to user using\n     * {@link AppContext.showState}.\n     *\n     * This element can display errors to users.\n     */\n    state: State\n    /**\n     * Show application state to user.\n     */\n    showState: boolean\n}\nexport interface IRAppContext extends Reactive<AppContext> {\n    user: ComputedRef<User>\n}\n\n\n/**\n * Create a new {@link AppContext} and provide the following values:\n * - `context`: {@link AppContext} object;\n * - `user`: current {@link models.User};\n */\nexport function useAppContext(opts: IApp, load: boolean = true): AppContext {\n    const obj = AppContext.reactive(opts)\n    load && obj.dataEl && obj.load()\n\n    provide('context', obj)\n    provide('user', obj.user)\n    // provide('repos')\n    return obj\n}\n","import { ref } from 'vue'\n\nimport type { ComputedRef, Ref } from 'vue'\nimport type { Repository } from 'pinia-orm'\nimport type { Response } from '@pinia-orm/axios'\n\nimport { usePermissions, usePermissionsProps } from './models'\nimport { User, Model } from '../models'\nimport type { IPermissionItems, Permissions } from '../models'\n\n\nexport type ActionRun<M extends Model, R> = (user: User, item: M, ...args: any[]) => Promise<R>\nexport type ActionCompleted<M extends Model, R> = (user: User, item: Model, result: R) => void\n\n\nexport interface IActionProps<M extends Model, R>\n{\n    /**\n     * Value or model instance.\n     */\n    item: M\n    /**\n     * Label text displayed to user.\n     */\n    title: string\n    /**\n     * Displayed icon\n     */\n    icon: string\n    /**\n     * Displayed color\n     */\n    color?: string\n    /**\n     * Display action as a small button\n     */\n    button?: boolean\n    /**\n     * If provided, ask user for a confirmation before executing the action.\n     */\n    confirm?: string\n    /**\n     * Required permission to run the action\n     */\n    permissions: IPermissionItems\n    /**\n     * The function to call when action is executed\n     */\n    run: ActionRun<M,R>\n\n    /** If provided, open this link */\n    href?: string\n}\n\n\nexport interface IAction<M extends Model, R> {\n    /**\n     * Wether the action is running.\n     */\n    processing: Ref<boolean>\n    /**\n     * List of required {@link Permission} to run the action.\n     */\n    permissions: Permissions\n    /**\n     * Wether the user is allowed to run the action.\n     */\n    allowed: ComputedRef<boolean>\n    /**\n     * Action properties\n     */\n    props: ActionProps<M, R>\n}\n\n/**\n * Action's parameters, `user` MUST be provided.\n */\nexport interface IAction<M extends Model, R> {\n    /** Action components properties */\n    props: IActionProps<M, R>\n    /** The user running the action. */\n    user: User\n    /** If provided, emits `completed` once the action has been executed. */\n    emits?: (event: string, ...opts: any[]) => void\n}\n\n\n/**\n * Create a new action, returning:\n * - processing: ref to boolean indicating wether the action is processing\n * - permissions: Permissions instance\n * - allowed: computed ref indicating wether the action is allowed\n * - run: async function to call in order to run the method\n */\nexport function useAction<M extends Model,R>({props, user, emits=null}: IAction<M,R>) {\n    const processing = ref(false)\n    const {permissions, allowed} = usePermissions(user, props.permissions, props.item)\n\n    /** Execute the action. */\n    const run = async (...args: any[]): Promise<R> => {\n        if(props.confirm && !confirm(props.confirm))\n            return\n        if(!allowed.value)\n            throw Error(`You are not allowed to execute this action`)\n\n        processing.value = true\n        if(props.href) {\n            document.location.href = props.href\n            return\n        }\n\n        let result : R = props.run(user, props.item, ...args)\n        if(result instanceof Promise)\n            result = await result\n\n        processing.value = false\n        if(emits)\n            emits('completed', props.item, ...args)\n        return result\n    }\n    return {processing, permissions, allowed, run}\n}\n","// Utilities\nimport { createRange, padStart } from \"../../../util/index.js\"; // Types\nfunction weekInfo(locale) {\n  // https://simplelocalize.io/data/locales/\n  // then `new Intl.Locale(...).getWeekInfo()`\n  const code = locale.slice(-2).toUpperCase();\n  switch (true) {\n    case locale === 'GB-alt-variant':\n      {\n        return {\n          firstDay: 0,\n          firstWeekSize: 4\n        };\n      }\n    case locale === '001':\n      {\n        return {\n          firstDay: 1,\n          firstWeekSize: 1\n        };\n      }\n    case `AG AS BD BR BS BT BW BZ CA CO DM DO ET GT GU HK HN ID IL IN JM JP KE\n    KH KR LA MH MM MO MT MX MZ NI NP PA PE PH PK PR PY SA SG SV TH TT TW UM US\n    VE VI WS YE ZA ZW`.includes(code):\n      {\n        return {\n          firstDay: 0,\n          firstWeekSize: 1\n        };\n      }\n    case `AI AL AM AR AU AZ BA BM BN BY CL CM CN CR CY EC GE HR KG KZ LB LK LV\n    MD ME MK MN MY NZ RO RS SI TJ TM TR UA UY UZ VN XK`.includes(code):\n      {\n        return {\n          firstDay: 1,\n          firstWeekSize: 1\n        };\n      }\n    case `AD AN AT AX BE BG CH CZ DE DK EE ES FI FJ FO FR GB GF GP GR HU IE IS\n    IT LI LT LU MC MQ NL NO PL RE RU SE SK SM VA`.includes(code):\n      {\n        return {\n          firstDay: 1,\n          firstWeekSize: 4\n        };\n      }\n    case `AE AF BH DJ DZ EG IQ IR JO KW LY OM QA SD SY`.includes(code):\n      {\n        return {\n          firstDay: 6,\n          firstWeekSize: 1\n        };\n      }\n    case code === 'MV':\n      {\n        return {\n          firstDay: 5,\n          firstWeekSize: 1\n        };\n      }\n    case code === 'PT':\n      {\n        return {\n          firstDay: 0,\n          firstWeekSize: 4\n        };\n      }\n    default:\n      return null;\n  }\n}\nfunction getWeekArray(date, locale, firstDayOfWeek) {\n  const weeks = [];\n  let currentWeek = [];\n  const firstDayOfMonth = startOfMonth(date);\n  const lastDayOfMonth = endOfMonth(date);\n  const first = firstDayOfWeek ?? weekInfo(locale)?.firstDay ?? 0;\n  const firstDayWeekIndex = (firstDayOfMonth.getDay() - first + 7) % 7;\n  const lastDayWeekIndex = (lastDayOfMonth.getDay() - first + 7) % 7;\n  for (let i = 0; i < firstDayWeekIndex; i++) {\n    const adjacentDay = new Date(firstDayOfMonth);\n    adjacentDay.setDate(adjacentDay.getDate() - (firstDayWeekIndex - i));\n    currentWeek.push(adjacentDay);\n  }\n  for (let i = 1; i <= lastDayOfMonth.getDate(); i++) {\n    const day = new Date(date.getFullYear(), date.getMonth(), i);\n\n    // Add the day to the current week\n    currentWeek.push(day);\n\n    // If the current week has 7 days, add it to the weeks array and start a new week\n    if (currentWeek.length === 7) {\n      weeks.push(currentWeek);\n      currentWeek = [];\n    }\n  }\n  for (let i = 1; i < 7 - lastDayWeekIndex; i++) {\n    const adjacentDay = new Date(lastDayOfMonth);\n    adjacentDay.setDate(adjacentDay.getDate() + i);\n    currentWeek.push(adjacentDay);\n  }\n  if (currentWeek.length > 0) {\n    weeks.push(currentWeek);\n  }\n  return weeks;\n}\nfunction startOfWeek(date, locale, firstDayOfWeek) {\n  const day = firstDayOfWeek ?? weekInfo(locale)?.firstDay ?? 0;\n  const d = new Date(date);\n  while (d.getDay() !== day) {\n    d.setDate(d.getDate() - 1);\n  }\n  return d;\n}\nfunction endOfWeek(date, locale) {\n  const d = new Date(date);\n  const lastDay = ((weekInfo(locale)?.firstDay ?? 0) + 6) % 7;\n  while (d.getDay() !== lastDay) {\n    d.setDate(d.getDate() + 1);\n  }\n  return d;\n}\nfunction startOfMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth(), 1);\n}\nfunction endOfMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 0);\n}\nfunction parseLocalDate(value) {\n  const parts = value.split('-').map(Number);\n\n  // new Date() uses local time zone when passing individual date component values\n  return new Date(parts[0], parts[1] - 1, parts[2]);\n}\nconst _YYYMMDD = /^([12]\\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\\d|3[01]))$/;\nfunction date(value) {\n  if (value == null) return new Date();\n  if (value instanceof Date) return value;\n  if (typeof value === 'string') {\n    let parsed;\n    if (_YYYMMDD.test(value)) {\n      return parseLocalDate(value);\n    } else {\n      parsed = Date.parse(value);\n    }\n    if (!isNaN(parsed)) return new Date(parsed);\n  }\n  return null;\n}\nconst sundayJanuarySecond2000 = new Date(2000, 0, 2);\nfunction getWeekdays(locale, firstDayOfWeek) {\n  const daysFromSunday = firstDayOfWeek ?? weekInfo(locale)?.firstDay ?? 0;\n  return createRange(7).map(i => {\n    const weekday = new Date(sundayJanuarySecond2000);\n    weekday.setDate(sundayJanuarySecond2000.getDate() + daysFromSunday + i);\n    return new Intl.DateTimeFormat(locale, {\n      weekday: 'narrow'\n    }).format(weekday);\n  });\n}\nfunction format(value, formatString, locale, formats) {\n  const newDate = date(value) ?? new Date();\n  const customFormat = formats?.[formatString];\n  if (typeof customFormat === 'function') {\n    return customFormat(newDate, formatString, locale);\n  }\n  let options = {};\n  switch (formatString) {\n    case 'fullDate':\n      options = {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      };\n      break;\n    case 'fullDateWithWeekday':\n      options = {\n        weekday: 'long',\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      };\n      break;\n    case 'normalDate':\n      const day = newDate.getDate();\n      const month = new Intl.DateTimeFormat(locale, {\n        month: 'long'\n      }).format(newDate);\n      return `${day} ${month}`;\n    case 'normalDateWithWeekday':\n      options = {\n        weekday: 'short',\n        day: 'numeric',\n        month: 'short'\n      };\n      break;\n    case 'shortDate':\n      options = {\n        month: 'short',\n        day: 'numeric'\n      };\n      break;\n    case 'year':\n      options = {\n        year: 'numeric'\n      };\n      break;\n    case 'month':\n      options = {\n        month: 'long'\n      };\n      break;\n    case 'monthShort':\n      options = {\n        month: 'short'\n      };\n      break;\n    case 'monthAndYear':\n      options = {\n        month: 'long',\n        year: 'numeric'\n      };\n      break;\n    case 'monthAndDate':\n      options = {\n        month: 'long',\n        day: 'numeric'\n      };\n      break;\n    case 'weekday':\n      options = {\n        weekday: 'long'\n      };\n      break;\n    case 'weekdayShort':\n      options = {\n        weekday: 'short'\n      };\n      break;\n    case 'dayOfMonth':\n      return new Intl.NumberFormat(locale).format(newDate.getDate());\n    case 'hours12h':\n      options = {\n        hour: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'hours24h':\n      options = {\n        hour: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'minutes':\n      options = {\n        minute: 'numeric'\n      };\n      break;\n    case 'seconds':\n      options = {\n        second: 'numeric'\n      };\n      break;\n    case 'fullTime':\n      options = {\n        hour: 'numeric',\n        minute: 'numeric'\n      };\n      break;\n    case 'fullTime12h':\n      options = {\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'fullTime24h':\n      options = {\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'fullDateTime':\n      options = {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric'\n      };\n      break;\n    case 'fullDateTime12h':\n      options = {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: true\n      };\n      break;\n    case 'fullDateTime24h':\n      options = {\n        year: 'numeric',\n        month: 'short',\n        day: 'numeric',\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: false\n      };\n      break;\n    case 'keyboardDate':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit'\n      };\n      break;\n    case 'keyboardDateTime':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: 'numeric',\n        minute: 'numeric'\n      };\n      return new Intl.DateTimeFormat(locale, options).format(newDate).replace(/, /g, ' ');\n    case 'keyboardDateTime12h':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: true\n      };\n      return new Intl.DateTimeFormat(locale, options).format(newDate).replace(/, /g, ' ');\n    case 'keyboardDateTime24h':\n      options = {\n        year: 'numeric',\n        month: '2-digit',\n        day: '2-digit',\n        hour: 'numeric',\n        minute: 'numeric',\n        hour12: false\n      };\n      return new Intl.DateTimeFormat(locale, options).format(newDate).replace(/, /g, ' ');\n    default:\n      options = customFormat ?? {\n        timeZone: 'UTC',\n        timeZoneName: 'short'\n      };\n  }\n  return new Intl.DateTimeFormat(locale, options).format(newDate);\n}\nfunction toISO(adapter, value) {\n  const date = adapter.toJsDate(value);\n  const year = date.getFullYear();\n  const month = padStart(String(date.getMonth() + 1), 2, '0');\n  const day = padStart(String(date.getDate()), 2, '0');\n  return `${year}-${month}-${day}`;\n}\nfunction parseISO(value) {\n  const [year, month, day] = value.split('-').map(Number);\n  return new Date(year, month - 1, day);\n}\nfunction addMinutes(date, amount) {\n  const d = new Date(date);\n  d.setMinutes(d.getMinutes() + amount);\n  return d;\n}\nfunction addHours(date, amount) {\n  const d = new Date(date);\n  d.setHours(d.getHours() + amount);\n  return d;\n}\nfunction addDays(date, amount) {\n  const d = new Date(date);\n  d.setDate(d.getDate() + amount);\n  return d;\n}\nfunction addWeeks(date, amount) {\n  const d = new Date(date);\n  d.setDate(d.getDate() + amount * 7);\n  return d;\n}\nfunction addMonths(date, amount) {\n  const d = new Date(date);\n  d.setDate(1);\n  d.setMonth(d.getMonth() + amount);\n  return d;\n}\nfunction getYear(date) {\n  return date.getFullYear();\n}\nfunction getMonth(date) {\n  return date.getMonth();\n}\nfunction getWeek(date, locale, firstDayOfWeek, firstWeekMinSize) {\n  const weekInfoFromLocale = weekInfo(locale);\n  const weekStart = firstDayOfWeek ?? weekInfoFromLocale?.firstDay ?? 0;\n  const minWeekSize = firstWeekMinSize ?? weekInfoFromLocale?.firstWeekSize ?? 1;\n  function firstWeekSize(year) {\n    const yearStart = new Date(year, 0, 1);\n    return 7 - getDiff(yearStart, startOfWeek(yearStart, locale, weekStart), 'days');\n  }\n  let year = getYear(date);\n  const currentWeekEnd = addDays(startOfWeek(date, locale, weekStart), 6);\n  if (year < getYear(currentWeekEnd) && firstWeekSize(year + 1) >= minWeekSize) {\n    year++;\n  }\n  const yearStart = new Date(year, 0, 1);\n  const size = firstWeekSize(year);\n  const d1w1 = size >= minWeekSize ? addDays(yearStart, size - 7) : addDays(yearStart, size);\n  return 1 + getDiff(date, d1w1, 'weeks');\n}\nfunction getDate(date) {\n  return date.getDate();\n}\nfunction getNextMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth() + 1, 1);\n}\nfunction getPreviousMonth(date) {\n  return new Date(date.getFullYear(), date.getMonth() - 1, 1);\n}\nfunction getHours(date) {\n  return date.getHours();\n}\nfunction getMinutes(date) {\n  return date.getMinutes();\n}\nfunction startOfYear(date) {\n  return new Date(date.getFullYear(), 0, 1);\n}\nfunction endOfYear(date) {\n  return new Date(date.getFullYear(), 11, 31);\n}\nfunction isWithinRange(date, range) {\n  return isAfter(date, range[0]) && isBefore(date, range[1]);\n}\nfunction isValid(date) {\n  const d = new Date(date);\n  return d instanceof Date && !isNaN(d.getTime());\n}\nfunction isAfter(date, comparing) {\n  return date.getTime() > comparing.getTime();\n}\nfunction isAfterDay(date, comparing) {\n  return isAfter(startOfDay(date), startOfDay(comparing));\n}\nfunction isBefore(date, comparing) {\n  return date.getTime() < comparing.getTime();\n}\nfunction isEqual(date, comparing) {\n  return date.getTime() === comparing.getTime();\n}\nfunction isSameDay(date, comparing) {\n  return date.getDate() === comparing.getDate() && date.getMonth() === comparing.getMonth() && date.getFullYear() === comparing.getFullYear();\n}\nfunction isSameMonth(date, comparing) {\n  return date.getMonth() === comparing.getMonth() && date.getFullYear() === comparing.getFullYear();\n}\nfunction isSameYear(date, comparing) {\n  return date.getFullYear() === comparing.getFullYear();\n}\nfunction getDiff(date, comparing, unit) {\n  const d = new Date(date);\n  const c = new Date(comparing);\n  switch (unit) {\n    case 'years':\n      return d.getFullYear() - c.getFullYear();\n    case 'quarters':\n      return Math.floor((d.getMonth() - c.getMonth() + (d.getFullYear() - c.getFullYear()) * 12) / 4);\n    case 'months':\n      return d.getMonth() - c.getMonth() + (d.getFullYear() - c.getFullYear()) * 12;\n    case 'weeks':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60 * 60 * 24 * 7));\n    case 'days':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60 * 60 * 24));\n    case 'hours':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60 * 60));\n    case 'minutes':\n      return Math.floor((d.getTime() - c.getTime()) / (1000 * 60));\n    case 'seconds':\n      return Math.floor((d.getTime() - c.getTime()) / 1000);\n    default:\n      {\n        return d.getTime() - c.getTime();\n      }\n  }\n}\nfunction setHours(date, count) {\n  const d = new Date(date);\n  d.setHours(count);\n  return d;\n}\nfunction setMinutes(date, count) {\n  const d = new Date(date);\n  d.setMinutes(count);\n  return d;\n}\nfunction setMonth(date, count) {\n  const d = new Date(date);\n  d.setMonth(count);\n  return d;\n}\nfunction setDate(date, day) {\n  const d = new Date(date);\n  d.setDate(day);\n  return d;\n}\nfunction setYear(date, year) {\n  const d = new Date(date);\n  d.setFullYear(year);\n  return d;\n}\nfunction startOfDay(date) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate(), 0, 0, 0, 0);\n}\nfunction endOfDay(date) {\n  return new Date(date.getFullYear(), date.getMonth(), date.getDate(), 23, 59, 59, 999);\n}\nexport class VuetifyDateAdapter {\n  constructor(options) {\n    this.locale = options.locale;\n    this.formats = options.formats;\n  }\n  date(value) {\n    return date(value);\n  }\n  toJsDate(date) {\n    return date;\n  }\n  toISO(date) {\n    return toISO(this, date);\n  }\n  parseISO(date) {\n    return parseISO(date);\n  }\n  addMinutes(date, amount) {\n    return addMinutes(date, amount);\n  }\n  addHours(date, amount) {\n    return addHours(date, amount);\n  }\n  addDays(date, amount) {\n    return addDays(date, amount);\n  }\n  addWeeks(date, amount) {\n    return addWeeks(date, amount);\n  }\n  addMonths(date, amount) {\n    return addMonths(date, amount);\n  }\n  getWeekArray(date, firstDayOfWeek) {\n    const firstDay = firstDayOfWeek !== undefined ? Number(firstDayOfWeek) : undefined;\n    return getWeekArray(date, this.locale, firstDay);\n  }\n  startOfWeek(date, firstDayOfWeek) {\n    const firstDay = firstDayOfWeek !== undefined ? Number(firstDayOfWeek) : undefined;\n    return startOfWeek(date, this.locale, firstDay);\n  }\n  endOfWeek(date) {\n    return endOfWeek(date, this.locale);\n  }\n  startOfMonth(date) {\n    return startOfMonth(date);\n  }\n  endOfMonth(date) {\n    return endOfMonth(date);\n  }\n  format(date, formatString) {\n    return format(date, formatString, this.locale, this.formats);\n  }\n  isEqual(date, comparing) {\n    return isEqual(date, comparing);\n  }\n  isValid(date) {\n    return isValid(date);\n  }\n  isWithinRange(date, range) {\n    return isWithinRange(date, range);\n  }\n  isAfter(date, comparing) {\n    return isAfter(date, comparing);\n  }\n  isAfterDay(date, comparing) {\n    return isAfterDay(date, comparing);\n  }\n  isBefore(date, comparing) {\n    return !isAfter(date, comparing) && !isEqual(date, comparing);\n  }\n  isSameDay(date, comparing) {\n    return isSameDay(date, comparing);\n  }\n  isSameMonth(date, comparing) {\n    return isSameMonth(date, comparing);\n  }\n  isSameYear(date, comparing) {\n    return isSameYear(date, comparing);\n  }\n  setMinutes(date, count) {\n    return setMinutes(date, count);\n  }\n  setHours(date, count) {\n    return setHours(date, count);\n  }\n  setMonth(date, count) {\n    return setMonth(date, count);\n  }\n  setDate(date, day) {\n    return setDate(date, day);\n  }\n  setYear(date, year) {\n    return setYear(date, year);\n  }\n  getDiff(date, comparing, unit) {\n    return getDiff(date, comparing, unit);\n  }\n  getWeekdays(firstDayOfWeek) {\n    const firstDay = firstDayOfWeek !== undefined ? Number(firstDayOfWeek) : undefined;\n    return getWeekdays(this.locale, firstDay);\n  }\n  getYear(date) {\n    return getYear(date);\n  }\n  getMonth(date) {\n    return getMonth(date);\n  }\n  getWeek(date, firstDayOfWeek, firstWeekMinSize) {\n    const firstDay = firstDayOfWeek !== undefined ? Number(firstDayOfWeek) : undefined;\n    return getWeek(date, this.locale, firstDay, firstWeekMinSize);\n  }\n  getDate(date) {\n    return getDate(date);\n  }\n  getNextMonth(date) {\n    return getNextMonth(date);\n  }\n  getPreviousMonth(date) {\n    return getPreviousMonth(date);\n  }\n  getHours(date) {\n    return getHours(date);\n  }\n  getMinutes(date) {\n    return getMinutes(date);\n  }\n  startOfDay(date) {\n    return startOfDay(date);\n  }\n  endOfDay(date) {\n    return endOfDay(date);\n  }\n  startOfYear(date) {\n    return startOfYear(date);\n  }\n  endOfYear(date) {\n    return endOfYear(date);\n  }\n}\n//# sourceMappingURL=vuetify.js.map","// Composables\nimport { useLocale } from \"../locale.js\"; // Utilities\nimport { inject, reactive, watch } from 'vue';\nimport { mergeDeep } from \"../../util/index.js\"; // Types\n// Adapters\nimport { VuetifyDateAdapter } from \"./adapters/vuetify.js\";\n/** Supports module augmentation to specify date adapter types */\nexport let DateModule;\nexport const DateOptionsSymbol = Symbol.for('vuetify:date-options');\nexport const DateAdapterSymbol = Symbol.for('vuetify:date-adapter');\nexport function createDate(options, locale) {\n  const _options = mergeDeep({\n    adapter: VuetifyDateAdapter,\n    locale: {\n      af: 'af-ZA',\n      // ar: '', # not the same value for all variants\n      bg: 'bg-BG',\n      ca: 'ca-ES',\n      ckb: '',\n      cs: 'cs-CZ',\n      de: 'de-DE',\n      el: 'el-GR',\n      en: 'en-US',\n      // es: '', # not the same value for all variants\n      et: 'et-EE',\n      fa: 'fa-IR',\n      fi: 'fi-FI',\n      // fr: '', #not the same value for all variants\n      hr: 'hr-HR',\n      hu: 'hu-HU',\n      he: 'he-IL',\n      id: 'id-ID',\n      it: 'it-IT',\n      ja: 'ja-JP',\n      ko: 'ko-KR',\n      lv: 'lv-LV',\n      lt: 'lt-LT',\n      nl: 'nl-NL',\n      no: 'no-NO',\n      pl: 'pl-PL',\n      pt: 'pt-PT',\n      ro: 'ro-RO',\n      ru: 'ru-RU',\n      sk: 'sk-SK',\n      sl: 'sl-SI',\n      srCyrl: 'sr-SP',\n      srLatn: 'sr-SP',\n      sv: 'sv-SE',\n      th: 'th-TH',\n      tr: 'tr-TR',\n      az: 'az-AZ',\n      uk: 'uk-UA',\n      vi: 'vi-VN',\n      zhHans: 'zh-CN',\n      zhHant: 'zh-TW'\n    }\n  }, options);\n  return {\n    options: _options,\n    instance: createInstance(_options, locale)\n  };\n}\nfunction createInstance(options, locale) {\n  const instance = reactive(typeof options.adapter === 'function'\n  // eslint-disable-next-line new-cap\n  ? new options.adapter({\n    locale: options.locale[locale.current.value] ?? locale.current.value,\n    formats: options.formats\n  }) : options.adapter);\n  watch(locale.current, value => {\n    instance.locale = options.locale[value] ?? value ?? instance.locale;\n  });\n  return instance;\n}\nexport function useDate() {\n  const options = inject(DateOptionsSymbol);\n  if (!options) throw new Error('[Vuetify] Could not find injected date options');\n  const locale = useLocale();\n  return createInstance(options, locale);\n}\n//# sourceMappingURL=date.js.map","// Composables\nimport { createDate, DateAdapterSymbol, DateOptionsSymbol } from \"./composables/date/date.js\";\nimport { createDefaults, DefaultsSymbol } from \"./composables/defaults.js\";\nimport { createDisplay, DisplaySymbol } from \"./composables/display.js\";\nimport { createGoTo, GoToSymbol } from \"./composables/goto.js\";\nimport { createIcons, IconSymbol } from \"./composables/icons.js\";\nimport { createLocale, LocaleSymbol } from \"./composables/locale.js\";\nimport { createTheme, ThemeSymbol } from \"./composables/theme.js\"; // Utilities\nimport { effectScope, nextTick, reactive } from 'vue';\nimport { defineComponent, IN_BROWSER, mergeDeep } from \"./util/index.js\"; // Types\n// Exports\nexport * from \"./composables/index.js\";\nexport * from \"./types.js\";\nexport function createVuetify() {\n  let vuetify = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    blueprint,\n    ...rest\n  } = vuetify;\n  const options = mergeDeep(blueprint, rest);\n  const {\n    aliases = {},\n    components = {},\n    directives = {}\n  } = options;\n  const scope = effectScope();\n  return scope.run(() => {\n    const defaults = createDefaults(options.defaults);\n    const display = createDisplay(options.display, options.ssr);\n    const theme = createTheme(options.theme);\n    const icons = createIcons(options.icons);\n    const locale = createLocale(options.locale);\n    const date = createDate(options.date, locale);\n    const goTo = createGoTo(options.goTo, locale);\n    function install(app) {\n      for (const key in directives) {\n        app.directive(key, directives[key]);\n      }\n      for (const key in components) {\n        app.component(key, components[key]);\n      }\n      for (const key in aliases) {\n        app.component(key, defineComponent({\n          ...aliases[key],\n          name: key,\n          aliasName: aliases[key].name\n        }));\n      }\n      const appScope = effectScope();\n      appScope.run(() => {\n        theme.install(app);\n      });\n      app.onUnmount(() => appScope.stop());\n      app.provide(DefaultsSymbol, defaults);\n      app.provide(DisplaySymbol, display);\n      app.provide(ThemeSymbol, theme);\n      app.provide(IconSymbol, icons);\n      app.provide(LocaleSymbol, locale);\n      app.provide(DateOptionsSymbol, date.options);\n      app.provide(DateAdapterSymbol, date.instance);\n      app.provide(GoToSymbol, goTo);\n      if (IN_BROWSER && options.ssr) {\n        if (app.$nuxt) {\n          app.$nuxt.hook('app:suspense:resolve', () => {\n            display.update();\n          });\n        } else {\n          const {\n            mount\n          } = app;\n          app.mount = function () {\n            const vm = mount(...arguments);\n            nextTick(() => display.update());\n            app.mount = mount;\n            return vm;\n          };\n        }\n      }\n      if (typeof __VUE_OPTIONS_API__ !== 'boolean' || __VUE_OPTIONS_API__) {\n        app.mixin({\n          computed: {\n            $vuetify() {\n              return reactive({\n                defaults: inject.call(this, DefaultsSymbol),\n                display: inject.call(this, DisplaySymbol),\n                theme: inject.call(this, ThemeSymbol),\n                icons: inject.call(this, IconSymbol),\n                locale: inject.call(this, LocaleSymbol),\n                date: inject.call(this, DateAdapterSymbol)\n              });\n            }\n          }\n        });\n      }\n    }\n    function unmount() {\n      scope.stop();\n    }\n    return {\n      install,\n      unmount,\n      defaults,\n      display,\n      theme,\n      icons,\n      locale,\n      date,\n      goTo\n    };\n  });\n}\nexport const version = \"3.8.4\";\ncreateVuetify.version = version;\n\n// Vue's inject() can only be used in setup\nfunction inject(key) {\n  const vm = this.$;\n  const provides = vm.parent?.provides ?? vm.vnode.appContext?.provides;\n  if (provides && key in provides) {\n    return provides[key];\n  }\n}\n//# sourceMappingURL=framework.js.map","// Icons\nimport { mdi } from \"../iconsets/mdi.js\"; // Types\nexport const md3 = {\n  defaults: {\n    VAppBar: {\n      flat: true\n    },\n    VAutocomplete: {\n      variant: 'outlined'\n    },\n    VBanner: {\n      color: 'primary'\n    },\n    VBottomSheet: {\n      contentClass: 'rounded-t-xl overflow-hidden'\n    },\n    VBtn: {\n      color: 'primary',\n      rounded: 'xl'\n    },\n    VBtnGroup: {\n      rounded: 'xl',\n      VBtn: {\n        rounded: null\n      }\n    },\n    VCard: {\n      rounded: 'lg'\n    },\n    VCheckbox: {\n      color: 'secondary',\n      inset: true\n    },\n    VChip: {\n      rounded: 'sm'\n    },\n    VCombobox: {\n      variant: 'outlined'\n    },\n    VDateInput: {\n      variant: 'outlined'\n    },\n    VDatePicker: {\n      controlHeight: 48,\n      color: 'primary',\n      divided: true,\n      headerColor: '',\n      elevation: 3,\n      rounded: 'xl',\n      VBtn: {\n        color: 'high-emphasis',\n        rounded: 'circle'\n      }\n    },\n    VFileInput: {\n      variant: 'outlined'\n    },\n    VNavigationDrawer: {\n      // VList: {\n      //   nav: true,\n      //   VListItem: {\n      //     rounded: 'xl',\n      //   },\n      // },\n    },\n    VNumberInput: {\n      variant: 'outlined',\n      VBtn: {\n        color: undefined,\n        rounded: undefined\n      }\n    },\n    VSelect: {\n      variant: 'outlined'\n    },\n    VSlider: {\n      color: 'primary'\n    },\n    VTabs: {\n      color: 'primary'\n    },\n    VTextarea: {\n      variant: 'outlined'\n    },\n    VTextField: {\n      variant: 'outlined'\n    },\n    VToolbar: {\n      VBtn: {\n        color: null\n      }\n    }\n  },\n  icons: {\n    defaultSet: 'mdi',\n    sets: {\n      mdi\n    }\n  },\n  theme: {\n    themes: {\n      light: {\n        colors: {\n          primary: '#6750a4',\n          secondary: '#b4b0bb',\n          tertiary: '#7d5260',\n          error: '#b3261e',\n          surface: '#fffbfe'\n        }\n      }\n    }\n  }\n};\n//# sourceMappingURL=md3.js.map","export const red = {\n  base: '#f44336',\n  lighten5: '#ffebee',\n  lighten4: '#ffcdd2',\n  lighten3: '#ef9a9a',\n  lighten2: '#e57373',\n  lighten1: '#ef5350',\n  darken1: '#e53935',\n  darken2: '#d32f2f',\n  darken3: '#c62828',\n  darken4: '#b71c1c',\n  accent1: '#ff8a80',\n  accent2: '#ff5252',\n  accent3: '#ff1744',\n  accent4: '#d50000'\n};\nexport const pink = {\n  base: '#e91e63',\n  lighten5: '#fce4ec',\n  lighten4: '#f8bbd0',\n  lighten3: '#f48fb1',\n  lighten2: '#f06292',\n  lighten1: '#ec407a',\n  darken1: '#d81b60',\n  darken2: '#c2185b',\n  darken3: '#ad1457',\n  darken4: '#880e4f',\n  accent1: '#ff80ab',\n  accent2: '#ff4081',\n  accent3: '#f50057',\n  accent4: '#c51162'\n};\nexport const purple = {\n  base: '#9c27b0',\n  lighten5: '#f3e5f5',\n  lighten4: '#e1bee7',\n  lighten3: '#ce93d8',\n  lighten2: '#ba68c8',\n  lighten1: '#ab47bc',\n  darken1: '#8e24aa',\n  darken2: '#7b1fa2',\n  darken3: '#6a1b9a',\n  darken4: '#4a148c',\n  accent1: '#ea80fc',\n  accent2: '#e040fb',\n  accent3: '#d500f9',\n  accent4: '#aa00ff'\n};\nexport const deepPurple = {\n  base: '#673ab7',\n  lighten5: '#ede7f6',\n  lighten4: '#d1c4e9',\n  lighten3: '#b39ddb',\n  lighten2: '#9575cd',\n  lighten1: '#7e57c2',\n  darken1: '#5e35b1',\n  darken2: '#512da8',\n  darken3: '#4527a0',\n  darken4: '#311b92',\n  accent1: '#b388ff',\n  accent2: '#7c4dff',\n  accent3: '#651fff',\n  accent4: '#6200ea'\n};\nexport const indigo = {\n  base: '#3f51b5',\n  lighten5: '#e8eaf6',\n  lighten4: '#c5cae9',\n  lighten3: '#9fa8da',\n  lighten2: '#7986cb',\n  lighten1: '#5c6bc0',\n  darken1: '#3949ab',\n  darken2: '#303f9f',\n  darken3: '#283593',\n  darken4: '#1a237e',\n  accent1: '#8c9eff',\n  accent2: '#536dfe',\n  accent3: '#3d5afe',\n  accent4: '#304ffe'\n};\nexport const blue = {\n  base: '#2196f3',\n  lighten5: '#e3f2fd',\n  lighten4: '#bbdefb',\n  lighten3: '#90caf9',\n  lighten2: '#64b5f6',\n  lighten1: '#42a5f5',\n  darken1: '#1e88e5',\n  darken2: '#1976d2',\n  darken3: '#1565c0',\n  darken4: '#0d47a1',\n  accent1: '#82b1ff',\n  accent2: '#448aff',\n  accent3: '#2979ff',\n  accent4: '#2962ff'\n};\nexport const lightBlue = {\n  base: '#03a9f4',\n  lighten5: '#e1f5fe',\n  lighten4: '#b3e5fc',\n  lighten3: '#81d4fa',\n  lighten2: '#4fc3f7',\n  lighten1: '#29b6f6',\n  darken1: '#039be5',\n  darken2: '#0288d1',\n  darken3: '#0277bd',\n  darken4: '#01579b',\n  accent1: '#80d8ff',\n  accent2: '#40c4ff',\n  accent3: '#00b0ff',\n  accent4: '#0091ea'\n};\nexport const cyan = {\n  base: '#00bcd4',\n  lighten5: '#e0f7fa',\n  lighten4: '#b2ebf2',\n  lighten3: '#80deea',\n  lighten2: '#4dd0e1',\n  lighten1: '#26c6da',\n  darken1: '#00acc1',\n  darken2: '#0097a7',\n  darken3: '#00838f',\n  darken4: '#006064',\n  accent1: '#84ffff',\n  accent2: '#18ffff',\n  accent3: '#00e5ff',\n  accent4: '#00b8d4'\n};\nexport const teal = {\n  base: '#009688',\n  lighten5: '#e0f2f1',\n  lighten4: '#b2dfdb',\n  lighten3: '#80cbc4',\n  lighten2: '#4db6ac',\n  lighten1: '#26a69a',\n  darken1: '#00897b',\n  darken2: '#00796b',\n  darken3: '#00695c',\n  darken4: '#004d40',\n  accent1: '#a7ffeb',\n  accent2: '#64ffda',\n  accent3: '#1de9b6',\n  accent4: '#00bfa5'\n};\nexport const green = {\n  base: '#4caf50',\n  lighten5: '#e8f5e9',\n  lighten4: '#c8e6c9',\n  lighten3: '#a5d6a7',\n  lighten2: '#81c784',\n  lighten1: '#66bb6a',\n  darken1: '#43a047',\n  darken2: '#388e3c',\n  darken3: '#2e7d32',\n  darken4: '#1b5e20',\n  accent1: '#b9f6ca',\n  accent2: '#69f0ae',\n  accent3: '#00e676',\n  accent4: '#00c853'\n};\nexport const lightGreen = {\n  base: '#8bc34a',\n  lighten5: '#f1f8e9',\n  lighten4: '#dcedc8',\n  lighten3: '#c5e1a5',\n  lighten2: '#aed581',\n  lighten1: '#9ccc65',\n  darken1: '#7cb342',\n  darken2: '#689f38',\n  darken3: '#558b2f',\n  darken4: '#33691e',\n  accent1: '#ccff90',\n  accent2: '#b2ff59',\n  accent3: '#76ff03',\n  accent4: '#64dd17'\n};\nexport const lime = {\n  base: '#cddc39',\n  lighten5: '#f9fbe7',\n  lighten4: '#f0f4c3',\n  lighten3: '#e6ee9c',\n  lighten2: '#dce775',\n  lighten1: '#d4e157',\n  darken1: '#c0ca33',\n  darken2: '#afb42b',\n  darken3: '#9e9d24',\n  darken4: '#827717',\n  accent1: '#f4ff81',\n  accent2: '#eeff41',\n  accent3: '#c6ff00',\n  accent4: '#aeea00'\n};\nexport const yellow = {\n  base: '#ffeb3b',\n  lighten5: '#fffde7',\n  lighten4: '#fff9c4',\n  lighten3: '#fff59d',\n  lighten2: '#fff176',\n  lighten1: '#ffee58',\n  darken1: '#fdd835',\n  darken2: '#fbc02d',\n  darken3: '#f9a825',\n  darken4: '#f57f17',\n  accent1: '#ffff8d',\n  accent2: '#ffff00',\n  accent3: '#ffea00',\n  accent4: '#ffd600'\n};\nexport const amber = {\n  base: '#ffc107',\n  lighten5: '#fff8e1',\n  lighten4: '#ffecb3',\n  lighten3: '#ffe082',\n  lighten2: '#ffd54f',\n  lighten1: '#ffca28',\n  darken1: '#ffb300',\n  darken2: '#ffa000',\n  darken3: '#ff8f00',\n  darken4: '#ff6f00',\n  accent1: '#ffe57f',\n  accent2: '#ffd740',\n  accent3: '#ffc400',\n  accent4: '#ffab00'\n};\nexport const orange = {\n  base: '#ff9800',\n  lighten5: '#fff3e0',\n  lighten4: '#ffe0b2',\n  lighten3: '#ffcc80',\n  lighten2: '#ffb74d',\n  lighten1: '#ffa726',\n  darken1: '#fb8c00',\n  darken2: '#f57c00',\n  darken3: '#ef6c00',\n  darken4: '#e65100',\n  accent1: '#ffd180',\n  accent2: '#ffab40',\n  accent3: '#ff9100',\n  accent4: '#ff6d00'\n};\nexport const deepOrange = {\n  base: '#ff5722',\n  lighten5: '#fbe9e7',\n  lighten4: '#ffccbc',\n  lighten3: '#ffab91',\n  lighten2: '#ff8a65',\n  lighten1: '#ff7043',\n  darken1: '#f4511e',\n  darken2: '#e64a19',\n  darken3: '#d84315',\n  darken4: '#bf360c',\n  accent1: '#ff9e80',\n  accent2: '#ff6e40',\n  accent3: '#ff3d00',\n  accent4: '#dd2c00'\n};\nexport const brown = {\n  base: '#795548',\n  lighten5: '#efebe9',\n  lighten4: '#d7ccc8',\n  lighten3: '#bcaaa4',\n  lighten2: '#a1887f',\n  lighten1: '#8d6e63',\n  darken1: '#6d4c41',\n  darken2: '#5d4037',\n  darken3: '#4e342e',\n  darken4: '#3e2723'\n};\nexport const blueGrey = {\n  base: '#607d8b',\n  lighten5: '#eceff1',\n  lighten4: '#cfd8dc',\n  lighten3: '#b0bec5',\n  lighten2: '#90a4ae',\n  lighten1: '#78909c',\n  darken1: '#546e7a',\n  darken2: '#455a64',\n  darken3: '#37474f',\n  darken4: '#263238'\n};\nexport const grey = {\n  base: '#9e9e9e',\n  lighten5: '#fafafa',\n  lighten4: '#f5f5f5',\n  lighten3: '#eeeeee',\n  lighten2: '#e0e0e0',\n  lighten1: '#bdbdbd',\n  darken1: '#757575',\n  darken2: '#616161',\n  darken3: '#424242',\n  darken4: '#212121'\n};\nexport const shades = {\n  black: '#000000',\n  white: '#ffffff',\n  transparent: '#ffffff00'\n};\nexport default {\n  red,\n  pink,\n  purple,\n  deepPurple,\n  indigo,\n  blue,\n  lightBlue,\n  cyan,\n  teal,\n  green,\n  lightGreen,\n  lime,\n  yellow,\n  amber,\n  orange,\n  deepOrange,\n  brown,\n  blueGrey,\n  grey,\n  shades\n};\n//# sourceMappingURL=colors.js.map","/*!\n  * shared v10.0.7\n  * (c) 2025 kazuya kawaguchi\n  * Released under the MIT License.\n  */\n/**\n * Original Utilities\n * written by kazuya kawaguchi\n */\nconst inBrowser = typeof window !== 'undefined';\nlet mark;\nlet measure;\nif ((process.env.NODE_ENV !== 'production')) {\n    const perf = inBrowser && window.performance;\n    if (perf &&\n        perf.mark &&\n        perf.measure &&\n        perf.clearMarks &&\n        // @ts-ignore browser compat\n        perf.clearMeasures) {\n        mark = (tag) => {\n            perf.mark(tag);\n        };\n        measure = (name, startTag, endTag) => {\n            perf.measure(name, startTag, endTag);\n            perf.clearMarks(startTag);\n            perf.clearMarks(endTag);\n        };\n    }\n}\nconst RE_ARGS = /\\{([0-9a-zA-Z]+)\\}/g;\n/* eslint-disable */\nfunction format(message, ...args) {\n    if (args.length === 1 && isObject(args[0])) {\n        args = args[0];\n    }\n    if (!args || !args.hasOwnProperty) {\n        args = {};\n    }\n    return message.replace(RE_ARGS, (match, identifier) => {\n        return args.hasOwnProperty(identifier) ? args[identifier] : '';\n    });\n}\nconst makeSymbol = (name, shareable = false) => !shareable ? Symbol(name) : Symbol.for(name);\nconst generateFormatCacheKey = (locale, key, source) => friendlyJSONstringify({ l: locale, k: key, s: source });\nconst friendlyJSONstringify = (json) => JSON.stringify(json)\n    .replace(/\\u2028/g, '\\\\u2028')\n    .replace(/\\u2029/g, '\\\\u2029')\n    .replace(/\\u0027/g, '\\\\u0027');\nconst isNumber = (val) => typeof val === 'number' && isFinite(val);\nconst isDate = (val) => toTypeString(val) === '[object Date]';\nconst isRegExp = (val) => toTypeString(val) === '[object RegExp]';\nconst isEmptyObject = (val) => isPlainObject(val) && Object.keys(val).length === 0;\nconst assign = Object.assign;\nconst _create = Object.create;\nconst create = (obj = null) => _create(obj);\nlet _globalThis;\nconst getGlobalThis = () => {\n    // prettier-ignore\n    return (_globalThis ||\n        (_globalThis =\n            typeof globalThis !== 'undefined'\n                ? globalThis\n                : typeof self !== 'undefined'\n                    ? self\n                    : typeof window !== 'undefined'\n                        ? window\n                        : typeof global !== 'undefined'\n                            ? global\n                            : create()));\n};\nfunction escapeHtml(rawText) {\n    return rawText\n        .replace(/</g, '&lt;')\n        .replace(/>/g, '&gt;')\n        .replace(/\"/g, '&quot;')\n        .replace(/'/g, '&apos;');\n}\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nfunction hasOwn(obj, key) {\n    return hasOwnProperty.call(obj, key);\n}\n/* eslint-enable */\n/**\n * Useful Utilities By Evan you\n * Modified by kazuya kawaguchi\n * MIT License\n * https://github.com/vuejs/vue-next/blob/master/packages/shared/src/index.ts\n * https://github.com/vuejs/vue-next/blob/master/packages/shared/src/codeframe.ts\n */\nconst isArray = Array.isArray;\nconst isFunction = (val) => typeof val === 'function';\nconst isString = (val) => typeof val === 'string';\nconst isBoolean = (val) => typeof val === 'boolean';\nconst isSymbol = (val) => typeof val === 'symbol';\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isObject = (val) => val !== null && typeof val === 'object';\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isPromise = (val) => {\n    return isObject(val) && isFunction(val.then) && isFunction(val.catch);\n};\nconst objectToString = Object.prototype.toString;\nconst toTypeString = (value) => objectToString.call(value);\nconst isPlainObject = (val) => toTypeString(val) === '[object Object]';\n// for converting list and named values to displayed strings.\nconst toDisplayString = (val) => {\n    return val == null\n        ? ''\n        : isArray(val) || (isPlainObject(val) && val.toString === objectToString)\n            ? JSON.stringify(val, null, 2)\n            : String(val);\n};\nfunction join(items, separator = '') {\n    return items.reduce((str, item, index) => (index === 0 ? str + item : str + separator + item), '');\n}\nconst RANGE = 2;\nfunction generateCodeFrame(source, start = 0, end = source.length) {\n    const lines = source.split(/\\r?\\n/);\n    let count = 0;\n    const res = [];\n    for (let i = 0; i < lines.length; i++) {\n        count += lines[i].length + 1;\n        if (count >= start) {\n            for (let j = i - RANGE; j <= i + RANGE || end > count; j++) {\n                if (j < 0 || j >= lines.length)\n                    continue;\n                const line = j + 1;\n                res.push(`${line}${' '.repeat(3 - String(line).length)}|  ${lines[j]}`);\n                const lineLength = lines[j].length;\n                if (j === i) {\n                    // push underline\n                    const pad = start - (count - lineLength) + 1;\n                    const length = Math.max(1, end > count ? lineLength - pad : end - start);\n                    res.push(`   |  ` + ' '.repeat(pad) + '^'.repeat(length));\n                }\n                else if (j > i) {\n                    if (end > count) {\n                        const length = Math.max(Math.min(end - count, lineLength), 1);\n                        res.push(`   |  ` + '^'.repeat(length));\n                    }\n                    count += lineLength + 1;\n                }\n            }\n            break;\n        }\n    }\n    return res.join('\\n');\n}\n\nfunction warn(msg, err) {\n    if (typeof console !== 'undefined') {\n        console.warn(`[intlify] ` + msg);\n        /* istanbul ignore if */\n        if (err) {\n            console.warn(err.stack);\n        }\n    }\n}\nconst hasWarned = {};\nfunction warnOnce(msg) {\n    if (!hasWarned[msg]) {\n        hasWarned[msg] = true;\n        warn(msg);\n    }\n}\n\n/**\n * Event emitter, forked from the below:\n * - original repository url: https://github.com/developit/mitt\n * - code url: https://github.com/developit/mitt/blob/master/src/index.ts\n * - author: Jason Miller (https://github.com/developit)\n * - license: MIT\n */\n/**\n * Create a event emitter\n *\n * @returns An event emitter\n */\nfunction createEmitter() {\n    const events = new Map();\n    const emitter = {\n        events,\n        on(event, handler) {\n            const handlers = events.get(event);\n            const added = handlers && handlers.push(handler);\n            if (!added) {\n                events.set(event, [handler]);\n            }\n        },\n        off(event, handler) {\n            const handlers = events.get(event);\n            if (handlers) {\n                handlers.splice(handlers.indexOf(handler) >>> 0, 1);\n            }\n        },\n        emit(event, payload) {\n            (events.get(event) || [])\n                .slice()\n                .map(handler => handler(payload));\n            (events.get('*') || [])\n                .slice()\n                .map(handler => handler(event, payload));\n        }\n    };\n    return emitter;\n}\n\nconst isNotObjectOrIsArray = (val) => !isObject(val) || isArray(val);\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction deepCopy(src, des) {\n    // src and des should both be objects, and none of them can be a array\n    if (isNotObjectOrIsArray(src) || isNotObjectOrIsArray(des)) {\n        throw new Error('Invalid value');\n    }\n    const stack = [{ src, des }];\n    while (stack.length) {\n        const { src, des } = stack.pop();\n        // using `Object.keys` which skips prototype properties\n        Object.keys(src).forEach(key => {\n            if (key === '__proto__') {\n                return;\n            }\n            // if src[key] is an object/array, set des[key]\n            // to empty object/array to prevent setting by reference\n            if (isObject(src[key]) && !isObject(des[key])) {\n                des[key] = Array.isArray(src[key]) ? [] : create();\n            }\n            if (isNotObjectOrIsArray(des[key]) || isNotObjectOrIsArray(src[key])) {\n                // replace with src[key] when:\n                // src[key] or des[key] is not an object, or\n                // src[key] or des[key] is an array\n                des[key] = src[key];\n            }\n            else {\n                // src[key] and des[key] are both objects, merge them\n                stack.push({ src: src[key], des: des[key] });\n            }\n        });\n    }\n}\n\nexport { assign, create, createEmitter, deepCopy, escapeHtml, format, friendlyJSONstringify, generateCodeFrame, generateFormatCacheKey, getGlobalThis, hasOwn, inBrowser, isArray, isBoolean, isDate, isEmptyObject, isFunction, isNumber, isObject, isPlainObject, isPromise, isRegExp, isString, isSymbol, join, makeSymbol, mark, measure, objectToString, toDisplayString, toTypeString, warn, warnOnce };\n","/*!\n  * message-compiler v10.0.7\n  * (c) 2025 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { format, assign, join, isString } from '@intlify/shared';\n\nconst LOCATION_STUB = {\n    start: { line: 1, column: 1, offset: 0 },\n    end: { line: 1, column: 1, offset: 0 }\n};\nfunction createPosition(line, column, offset) {\n    return { line, column, offset };\n}\nfunction createLocation(start, end, source) {\n    const loc = { start, end };\n    if (source != null) {\n        loc.source = source;\n    }\n    return loc;\n}\n\nconst CompileErrorCodes = {\n    // tokenizer error codes\n    EXPECTED_TOKEN: 1,\n    INVALID_TOKEN_IN_PLACEHOLDER: 2,\n    UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER: 3,\n    UNKNOWN_ESCAPE_SEQUENCE: 4,\n    INVALID_UNICODE_ESCAPE_SEQUENCE: 5,\n    UNBALANCED_CLOSING_BRACE: 6,\n    UNTERMINATED_CLOSING_BRACE: 7,\n    EMPTY_PLACEHOLDER: 8,\n    NOT_ALLOW_NEST_PLACEHOLDER: 9,\n    INVALID_LINKED_FORMAT: 10,\n    // parser error codes\n    MUST_HAVE_MESSAGES_IN_PLURAL: 11,\n    UNEXPECTED_EMPTY_LINKED_MODIFIER: 12,\n    UNEXPECTED_EMPTY_LINKED_KEY: 13,\n    UNEXPECTED_LEXICAL_ANALYSIS: 14,\n    // generator error codes\n    UNHANDLED_CODEGEN_NODE_TYPE: 15,\n    // minifier error codes\n    UNHANDLED_MINIFIER_NODE_TYPE: 16\n};\n// Special value for higher-order compilers to pick up the last code\n// to avoid collision of error codes.\n// This should always be kept as the last item.\nconst COMPILE_ERROR_CODES_EXTEND_POINT = 17;\n/** @internal */\nconst errorMessages = {\n    // tokenizer error messages\n    [CompileErrorCodes.EXPECTED_TOKEN]: `Expected token: '{0}'`,\n    [CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER]: `Invalid token in placeholder: '{0}'`,\n    [CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]: `Unterminated single quote in placeholder`,\n    [CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE]: `Unknown escape sequence: \\\\{0}`,\n    [CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE]: `Invalid unicode escape sequence: {0}`,\n    [CompileErrorCodes.UNBALANCED_CLOSING_BRACE]: `Unbalanced closing brace`,\n    [CompileErrorCodes.UNTERMINATED_CLOSING_BRACE]: `Unterminated closing brace`,\n    [CompileErrorCodes.EMPTY_PLACEHOLDER]: `Empty placeholder`,\n    [CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER]: `Not allowed nest placeholder`,\n    [CompileErrorCodes.INVALID_LINKED_FORMAT]: `Invalid linked format`,\n    // parser error messages\n    [CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL]: `Plural must have messages`,\n    [CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER]: `Unexpected empty linked modifier`,\n    [CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY]: `Unexpected empty linked key`,\n    [CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS]: `Unexpected lexical analysis in token: '{0}'`,\n    // generator error messages\n    [CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE]: `unhandled codegen node type: '{0}'`,\n    // minimizer error messages\n    [CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE]: `unhandled mimifier node type: '{0}'`\n};\nfunction createCompileError(code, loc, options = {}) {\n    const { domain, messages, args } = options;\n    const msg = (process.env.NODE_ENV !== 'production')\n        ? format((messages || errorMessages)[code] || '', ...(args || []))\n        : code;\n    const error = new SyntaxError(String(msg));\n    error.code = code;\n    if (loc) {\n        error.location = loc;\n    }\n    error.domain = domain;\n    return error;\n}\n/** @internal */\nfunction defaultOnError(error) {\n    throw error;\n}\n\n// eslint-disable-next-line no-useless-escape\nconst RE_HTML_TAG = /<\\/?[\\w\\s=\"/.':;#-\\/]+>/;\nconst detectHtmlTag = (source) => RE_HTML_TAG.test(source);\n\nconst CHAR_SP = ' ';\nconst CHAR_CR = '\\r';\nconst CHAR_LF = '\\n';\nconst CHAR_LS = String.fromCharCode(0x2028);\nconst CHAR_PS = String.fromCharCode(0x2029);\nfunction createScanner(str) {\n    const _buf = str;\n    let _index = 0;\n    let _line = 1;\n    let _column = 1;\n    let _peekOffset = 0;\n    const isCRLF = (index) => _buf[index] === CHAR_CR && _buf[index + 1] === CHAR_LF;\n    const isLF = (index) => _buf[index] === CHAR_LF;\n    const isPS = (index) => _buf[index] === CHAR_PS;\n    const isLS = (index) => _buf[index] === CHAR_LS;\n    const isLineEnd = (index) => isCRLF(index) || isLF(index) || isPS(index) || isLS(index);\n    const index = () => _index;\n    const line = () => _line;\n    const column = () => _column;\n    const peekOffset = () => _peekOffset;\n    const charAt = (offset) => isCRLF(offset) || isPS(offset) || isLS(offset) ? CHAR_LF : _buf[offset];\n    const currentChar = () => charAt(_index);\n    const currentPeek = () => charAt(_index + _peekOffset);\n    function next() {\n        _peekOffset = 0;\n        if (isLineEnd(_index)) {\n            _line++;\n            _column = 0;\n        }\n        if (isCRLF(_index)) {\n            _index++;\n        }\n        _index++;\n        _column++;\n        return _buf[_index];\n    }\n    function peek() {\n        if (isCRLF(_index + _peekOffset)) {\n            _peekOffset++;\n        }\n        _peekOffset++;\n        return _buf[_index + _peekOffset];\n    }\n    function reset() {\n        _index = 0;\n        _line = 1;\n        _column = 1;\n        _peekOffset = 0;\n    }\n    function resetPeek(offset = 0) {\n        _peekOffset = offset;\n    }\n    function skipToPeek() {\n        const target = _index + _peekOffset;\n        while (target !== _index) {\n            next();\n        }\n        _peekOffset = 0;\n    }\n    return {\n        index,\n        line,\n        column,\n        peekOffset,\n        charAt,\n        currentChar,\n        currentPeek,\n        next,\n        peek,\n        reset,\n        resetPeek,\n        skipToPeek\n    };\n}\n\nconst EOF = undefined;\nconst DOT = '.';\nconst LITERAL_DELIMITER = \"'\";\nconst ERROR_DOMAIN$3 = 'tokenizer';\nfunction createTokenizer(source, options = {}) {\n    const location = options.location !== false;\n    const _scnr = createScanner(source);\n    const currentOffset = () => _scnr.index();\n    const currentPosition = () => createPosition(_scnr.line(), _scnr.column(), _scnr.index());\n    const _initLoc = currentPosition();\n    const _initOffset = currentOffset();\n    const _context = {\n        currentType: 13 /* TokenTypes.EOF */,\n        offset: _initOffset,\n        startLoc: _initLoc,\n        endLoc: _initLoc,\n        lastType: 13 /* TokenTypes.EOF */,\n        lastOffset: _initOffset,\n        lastStartLoc: _initLoc,\n        lastEndLoc: _initLoc,\n        braceNest: 0,\n        inLinked: false,\n        text: ''\n    };\n    const context = () => _context;\n    const { onError } = options;\n    function emitError(code, pos, offset, ...args) {\n        const ctx = context();\n        pos.column += offset;\n        pos.offset += offset;\n        if (onError) {\n            const loc = location ? createLocation(ctx.startLoc, pos) : null;\n            const err = createCompileError(code, loc, {\n                domain: ERROR_DOMAIN$3,\n                args\n            });\n            onError(err);\n        }\n    }\n    function getToken(context, type, value) {\n        context.endLoc = currentPosition();\n        context.currentType = type;\n        const token = { type };\n        if (location) {\n            token.loc = createLocation(context.startLoc, context.endLoc);\n        }\n        if (value != null) {\n            token.value = value;\n        }\n        return token;\n    }\n    const getEndToken = (context) => getToken(context, 13 /* TokenTypes.EOF */);\n    function eat(scnr, ch) {\n        if (scnr.currentChar() === ch) {\n            scnr.next();\n            return ch;\n        }\n        else {\n            emitError(CompileErrorCodes.EXPECTED_TOKEN, currentPosition(), 0, ch);\n            return '';\n        }\n    }\n    function peekSpaces(scnr) {\n        let buf = '';\n        while (scnr.currentPeek() === CHAR_SP || scnr.currentPeek() === CHAR_LF) {\n            buf += scnr.currentPeek();\n            scnr.peek();\n        }\n        return buf;\n    }\n    function skipSpaces(scnr) {\n        const buf = peekSpaces(scnr);\n        scnr.skipToPeek();\n        return buf;\n    }\n    function isIdentifierStart(ch) {\n        if (ch === EOF) {\n            return false;\n        }\n        const cc = ch.charCodeAt(0);\n        return ((cc >= 97 && cc <= 122) || // a-z\n            (cc >= 65 && cc <= 90) || // A-Z\n            cc === 95 // _\n        );\n    }\n    function isNumberStart(ch) {\n        if (ch === EOF) {\n            return false;\n        }\n        const cc = ch.charCodeAt(0);\n        return cc >= 48 && cc <= 57; // 0-9\n    }\n    function isNamedIdentifierStart(scnr, context) {\n        const { currentType } = context;\n        if (currentType !== 2 /* TokenTypes.BraceLeft */) {\n            return false;\n        }\n        peekSpaces(scnr);\n        const ret = isIdentifierStart(scnr.currentPeek());\n        scnr.resetPeek();\n        return ret;\n    }\n    function isListIdentifierStart(scnr, context) {\n        const { currentType } = context;\n        if (currentType !== 2 /* TokenTypes.BraceLeft */) {\n            return false;\n        }\n        peekSpaces(scnr);\n        const ch = scnr.currentPeek() === '-' ? scnr.peek() : scnr.currentPeek();\n        const ret = isNumberStart(ch);\n        scnr.resetPeek();\n        return ret;\n    }\n    function isLiteralStart(scnr, context) {\n        const { currentType } = context;\n        if (currentType !== 2 /* TokenTypes.BraceLeft */) {\n            return false;\n        }\n        peekSpaces(scnr);\n        const ret = scnr.currentPeek() === LITERAL_DELIMITER;\n        scnr.resetPeek();\n        return ret;\n    }\n    function isLinkedDotStart(scnr, context) {\n        const { currentType } = context;\n        if (currentType !== 7 /* TokenTypes.LinkedAlias */) {\n            return false;\n        }\n        peekSpaces(scnr);\n        const ret = scnr.currentPeek() === \".\" /* TokenChars.LinkedDot */;\n        scnr.resetPeek();\n        return ret;\n    }\n    function isLinkedModifierStart(scnr, context) {\n        const { currentType } = context;\n        if (currentType !== 8 /* TokenTypes.LinkedDot */) {\n            return false;\n        }\n        peekSpaces(scnr);\n        const ret = isIdentifierStart(scnr.currentPeek());\n        scnr.resetPeek();\n        return ret;\n    }\n    function isLinkedDelimiterStart(scnr, context) {\n        const { currentType } = context;\n        if (!(currentType === 7 /* TokenTypes.LinkedAlias */ ||\n            currentType === 11 /* TokenTypes.LinkedModifier */)) {\n            return false;\n        }\n        peekSpaces(scnr);\n        const ret = scnr.currentPeek() === \":\" /* TokenChars.LinkedDelimiter */;\n        scnr.resetPeek();\n        return ret;\n    }\n    function isLinkedReferStart(scnr, context) {\n        const { currentType } = context;\n        if (currentType !== 9 /* TokenTypes.LinkedDelimiter */) {\n            return false;\n        }\n        const fn = () => {\n            const ch = scnr.currentPeek();\n            if (ch === \"{\" /* TokenChars.BraceLeft */) {\n                return isIdentifierStart(scnr.peek());\n            }\n            else if (ch === \"@\" /* TokenChars.LinkedAlias */ ||\n                ch === \"|\" /* TokenChars.Pipe */ ||\n                ch === \":\" /* TokenChars.LinkedDelimiter */ ||\n                ch === \".\" /* TokenChars.LinkedDot */ ||\n                ch === CHAR_SP ||\n                !ch) {\n                return false;\n            }\n            else if (ch === CHAR_LF) {\n                scnr.peek();\n                return fn();\n            }\n            else {\n                // other characters\n                return isTextStart(scnr, false);\n            }\n        };\n        const ret = fn();\n        scnr.resetPeek();\n        return ret;\n    }\n    function isPluralStart(scnr) {\n        peekSpaces(scnr);\n        const ret = scnr.currentPeek() === \"|\" /* TokenChars.Pipe */;\n        scnr.resetPeek();\n        return ret;\n    }\n    function isTextStart(scnr, reset = true) {\n        const fn = (hasSpace = false, prev = '') => {\n            const ch = scnr.currentPeek();\n            if (ch === \"{\" /* TokenChars.BraceLeft */) {\n                return hasSpace;\n            }\n            else if (ch === \"@\" /* TokenChars.LinkedAlias */ || !ch) {\n                return hasSpace;\n            }\n            else if (ch === \"|\" /* TokenChars.Pipe */) {\n                return !(prev === CHAR_SP || prev === CHAR_LF);\n            }\n            else if (ch === CHAR_SP) {\n                scnr.peek();\n                return fn(true, CHAR_SP);\n            }\n            else if (ch === CHAR_LF) {\n                scnr.peek();\n                return fn(true, CHAR_LF);\n            }\n            else {\n                return true;\n            }\n        };\n        const ret = fn();\n        reset && scnr.resetPeek();\n        return ret;\n    }\n    function takeChar(scnr, fn) {\n        const ch = scnr.currentChar();\n        if (ch === EOF) {\n            return EOF;\n        }\n        if (fn(ch)) {\n            scnr.next();\n            return ch;\n        }\n        return null;\n    }\n    function isIdentifier(ch) {\n        const cc = ch.charCodeAt(0);\n        return ((cc >= 97 && cc <= 122) || // a-z\n            (cc >= 65 && cc <= 90) || // A-Z\n            (cc >= 48 && cc <= 57) || // 0-9\n            cc === 95 || // _\n            cc === 36 // $\n        );\n    }\n    function takeIdentifierChar(scnr) {\n        return takeChar(scnr, isIdentifier);\n    }\n    function isNamedIdentifier(ch) {\n        const cc = ch.charCodeAt(0);\n        return ((cc >= 97 && cc <= 122) || // a-z\n            (cc >= 65 && cc <= 90) || // A-Z\n            (cc >= 48 && cc <= 57) || // 0-9\n            cc === 95 || // _\n            cc === 36 || // $\n            cc === 45 // -\n        );\n    }\n    function takeNamedIdentifierChar(scnr) {\n        return takeChar(scnr, isNamedIdentifier);\n    }\n    function isDigit(ch) {\n        const cc = ch.charCodeAt(0);\n        return cc >= 48 && cc <= 57; // 0-9\n    }\n    function takeDigit(scnr) {\n        return takeChar(scnr, isDigit);\n    }\n    function isHexDigit(ch) {\n        const cc = ch.charCodeAt(0);\n        return ((cc >= 48 && cc <= 57) || // 0-9\n            (cc >= 65 && cc <= 70) || // A-F\n            (cc >= 97 && cc <= 102)); // a-f\n    }\n    function takeHexDigit(scnr) {\n        return takeChar(scnr, isHexDigit);\n    }\n    function getDigits(scnr) {\n        let ch = '';\n        let num = '';\n        while ((ch = takeDigit(scnr))) {\n            num += ch;\n        }\n        return num;\n    }\n    function readText(scnr) {\n        let buf = '';\n        while (true) {\n            const ch = scnr.currentChar();\n            if (ch === \"{\" /* TokenChars.BraceLeft */ ||\n                ch === \"}\" /* TokenChars.BraceRight */ ||\n                ch === \"@\" /* TokenChars.LinkedAlias */ ||\n                ch === \"|\" /* TokenChars.Pipe */ ||\n                !ch) {\n                break;\n            }\n            else if (ch === CHAR_SP || ch === CHAR_LF) {\n                if (isTextStart(scnr)) {\n                    buf += ch;\n                    scnr.next();\n                }\n                else if (isPluralStart(scnr)) {\n                    break;\n                }\n                else {\n                    buf += ch;\n                    scnr.next();\n                }\n            }\n            else {\n                buf += ch;\n                scnr.next();\n            }\n        }\n        return buf;\n    }\n    function readNamedIdentifier(scnr) {\n        skipSpaces(scnr);\n        let ch = '';\n        let name = '';\n        while ((ch = takeNamedIdentifierChar(scnr))) {\n            name += ch;\n        }\n        if (scnr.currentChar() === EOF) {\n            emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\n        }\n        return name;\n    }\n    function readListIdentifier(scnr) {\n        skipSpaces(scnr);\n        let value = '';\n        if (scnr.currentChar() === '-') {\n            scnr.next();\n            value += `-${getDigits(scnr)}`;\n        }\n        else {\n            value += getDigits(scnr);\n        }\n        if (scnr.currentChar() === EOF) {\n            emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\n        }\n        return value;\n    }\n    function isLiteral(ch) {\n        return ch !== LITERAL_DELIMITER && ch !== CHAR_LF;\n    }\n    function readLiteral(scnr) {\n        skipSpaces(scnr);\n        // eslint-disable-next-line no-useless-escape\n        eat(scnr, `\\'`);\n        let ch = '';\n        let literal = '';\n        while ((ch = takeChar(scnr, isLiteral))) {\n            if (ch === '\\\\') {\n                literal += readEscapeSequence(scnr);\n            }\n            else {\n                literal += ch;\n            }\n        }\n        const current = scnr.currentChar();\n        if (current === CHAR_LF || current === EOF) {\n            emitError(CompileErrorCodes.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER, currentPosition(), 0);\n            // TODO: Is it correct really?\n            if (current === CHAR_LF) {\n                scnr.next();\n                // eslint-disable-next-line no-useless-escape\n                eat(scnr, `\\'`);\n            }\n            return literal;\n        }\n        // eslint-disable-next-line no-useless-escape\n        eat(scnr, `\\'`);\n        return literal;\n    }\n    function readEscapeSequence(scnr) {\n        const ch = scnr.currentChar();\n        switch (ch) {\n            case '\\\\':\n            case `\\'`: // eslint-disable-line no-useless-escape\n                scnr.next();\n                return `\\\\${ch}`;\n            case 'u':\n                return readUnicodeEscapeSequence(scnr, ch, 4);\n            case 'U':\n                return readUnicodeEscapeSequence(scnr, ch, 6);\n            default:\n                emitError(CompileErrorCodes.UNKNOWN_ESCAPE_SEQUENCE, currentPosition(), 0, ch);\n                return '';\n        }\n    }\n    function readUnicodeEscapeSequence(scnr, unicode, digits) {\n        eat(scnr, unicode);\n        let sequence = '';\n        for (let i = 0; i < digits; i++) {\n            const ch = takeHexDigit(scnr);\n            if (!ch) {\n                emitError(CompileErrorCodes.INVALID_UNICODE_ESCAPE_SEQUENCE, currentPosition(), 0, `\\\\${unicode}${sequence}${scnr.currentChar()}`);\n                break;\n            }\n            sequence += ch;\n        }\n        return `\\\\${unicode}${sequence}`;\n    }\n    function isInvalidIdentifier(ch) {\n        return (ch !== \"{\" /* TokenChars.BraceLeft */ &&\n            ch !== \"}\" /* TokenChars.BraceRight */ &&\n            ch !== CHAR_SP &&\n            ch !== CHAR_LF);\n    }\n    function readInvalidIdentifier(scnr) {\n        skipSpaces(scnr);\n        let ch = '';\n        let identifiers = '';\n        while ((ch = takeChar(scnr, isInvalidIdentifier))) {\n            identifiers += ch;\n        }\n        return identifiers;\n    }\n    function readLinkedModifier(scnr) {\n        let ch = '';\n        let name = '';\n        while ((ch = takeIdentifierChar(scnr))) {\n            name += ch;\n        }\n        return name;\n    }\n    function readLinkedRefer(scnr) {\n        const fn = (buf) => {\n            const ch = scnr.currentChar();\n            if (ch === \"{\" /* TokenChars.BraceLeft */ ||\n                ch === \"@\" /* TokenChars.LinkedAlias */ ||\n                ch === \"|\" /* TokenChars.Pipe */ ||\n                ch === \"(\" /* TokenChars.ParenLeft */ ||\n                ch === \")\" /* TokenChars.ParenRight */ ||\n                !ch) {\n                return buf;\n            }\n            else if (ch === CHAR_SP) {\n                return buf;\n            }\n            else if (ch === CHAR_LF || ch === DOT) {\n                buf += ch;\n                scnr.next();\n                return fn(buf);\n            }\n            else {\n                buf += ch;\n                scnr.next();\n                return fn(buf);\n            }\n        };\n        return fn('');\n    }\n    function readPlural(scnr) {\n        skipSpaces(scnr);\n        const plural = eat(scnr, \"|\" /* TokenChars.Pipe */);\n        skipSpaces(scnr);\n        return plural;\n    }\n    // TODO: We need refactoring of token parsing ...\n    function readTokenInPlaceholder(scnr, context) {\n        let token = null;\n        const ch = scnr.currentChar();\n        switch (ch) {\n            case \"{\" /* TokenChars.BraceLeft */:\n                if (context.braceNest >= 1) {\n                    emitError(CompileErrorCodes.NOT_ALLOW_NEST_PLACEHOLDER, currentPosition(), 0);\n                }\n                scnr.next();\n                token = getToken(context, 2 /* TokenTypes.BraceLeft */, \"{\" /* TokenChars.BraceLeft */);\n                skipSpaces(scnr);\n                context.braceNest++;\n                return token;\n            case \"}\" /* TokenChars.BraceRight */:\n                if (context.braceNest > 0 &&\n                    context.currentType === 2 /* TokenTypes.BraceLeft */) {\n                    emitError(CompileErrorCodes.EMPTY_PLACEHOLDER, currentPosition(), 0);\n                }\n                scnr.next();\n                token = getToken(context, 3 /* TokenTypes.BraceRight */, \"}\" /* TokenChars.BraceRight */);\n                context.braceNest--;\n                context.braceNest > 0 && skipSpaces(scnr);\n                if (context.inLinked && context.braceNest === 0) {\n                    context.inLinked = false;\n                }\n                return token;\n            case \"@\" /* TokenChars.LinkedAlias */:\n                if (context.braceNest > 0) {\n                    emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\n                }\n                token = readTokenInLinked(scnr, context) || getEndToken(context);\n                context.braceNest = 0;\n                return token;\n            default: {\n                let validNamedIdentifier = true;\n                let validListIdentifier = true;\n                let validLiteral = true;\n                if (isPluralStart(scnr)) {\n                    if (context.braceNest > 0) {\n                        emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\n                    }\n                    token = getToken(context, 1 /* TokenTypes.Pipe */, readPlural(scnr));\n                    // reset\n                    context.braceNest = 0;\n                    context.inLinked = false;\n                    return token;\n                }\n                if (context.braceNest > 0 &&\n                    (context.currentType === 4 /* TokenTypes.Named */ ||\n                        context.currentType === 5 /* TokenTypes.List */ ||\n                        context.currentType === 6 /* TokenTypes.Literal */)) {\n                    emitError(CompileErrorCodes.UNTERMINATED_CLOSING_BRACE, currentPosition(), 0);\n                    context.braceNest = 0;\n                    return readToken(scnr, context);\n                }\n                if ((validNamedIdentifier = isNamedIdentifierStart(scnr, context))) {\n                    token = getToken(context, 4 /* TokenTypes.Named */, readNamedIdentifier(scnr));\n                    skipSpaces(scnr);\n                    return token;\n                }\n                if ((validListIdentifier = isListIdentifierStart(scnr, context))) {\n                    token = getToken(context, 5 /* TokenTypes.List */, readListIdentifier(scnr));\n                    skipSpaces(scnr);\n                    return token;\n                }\n                if ((validLiteral = isLiteralStart(scnr, context))) {\n                    token = getToken(context, 6 /* TokenTypes.Literal */, readLiteral(scnr));\n                    skipSpaces(scnr);\n                    return token;\n                }\n                if (!validNamedIdentifier && !validListIdentifier && !validLiteral) {\n                    // TODO: we should be re-designed invalid cases, when we will extend message syntax near the future ...\n                    token = getToken(context, 12 /* TokenTypes.InvalidPlace */, readInvalidIdentifier(scnr));\n                    emitError(CompileErrorCodes.INVALID_TOKEN_IN_PLACEHOLDER, currentPosition(), 0, token.value);\n                    skipSpaces(scnr);\n                    return token;\n                }\n                break;\n            }\n        }\n        return token;\n    }\n    // TODO: We need refactoring of token parsing ...\n    function readTokenInLinked(scnr, context) {\n        const { currentType } = context;\n        let token = null;\n        const ch = scnr.currentChar();\n        if ((currentType === 7 /* TokenTypes.LinkedAlias */ ||\n            currentType === 8 /* TokenTypes.LinkedDot */ ||\n            currentType === 11 /* TokenTypes.LinkedModifier */ ||\n            currentType === 9 /* TokenTypes.LinkedDelimiter */) &&\n            (ch === CHAR_LF || ch === CHAR_SP)) {\n            emitError(CompileErrorCodes.INVALID_LINKED_FORMAT, currentPosition(), 0);\n        }\n        switch (ch) {\n            case \"@\" /* TokenChars.LinkedAlias */:\n                scnr.next();\n                token = getToken(context, 7 /* TokenTypes.LinkedAlias */, \"@\" /* TokenChars.LinkedAlias */);\n                context.inLinked = true;\n                return token;\n            case \".\" /* TokenChars.LinkedDot */:\n                skipSpaces(scnr);\n                scnr.next();\n                return getToken(context, 8 /* TokenTypes.LinkedDot */, \".\" /* TokenChars.LinkedDot */);\n            case \":\" /* TokenChars.LinkedDelimiter */:\n                skipSpaces(scnr);\n                scnr.next();\n                return getToken(context, 9 /* TokenTypes.LinkedDelimiter */, \":\" /* TokenChars.LinkedDelimiter */);\n            default:\n                if (isPluralStart(scnr)) {\n                    token = getToken(context, 1 /* TokenTypes.Pipe */, readPlural(scnr));\n                    // reset\n                    context.braceNest = 0;\n                    context.inLinked = false;\n                    return token;\n                }\n                if (isLinkedDotStart(scnr, context) ||\n                    isLinkedDelimiterStart(scnr, context)) {\n                    skipSpaces(scnr);\n                    return readTokenInLinked(scnr, context);\n                }\n                if (isLinkedModifierStart(scnr, context)) {\n                    skipSpaces(scnr);\n                    return getToken(context, 11 /* TokenTypes.LinkedModifier */, readLinkedModifier(scnr));\n                }\n                if (isLinkedReferStart(scnr, context)) {\n                    skipSpaces(scnr);\n                    if (ch === \"{\" /* TokenChars.BraceLeft */) {\n                        // scan the placeholder\n                        return readTokenInPlaceholder(scnr, context) || token;\n                    }\n                    else {\n                        return getToken(context, 10 /* TokenTypes.LinkedKey */, readLinkedRefer(scnr));\n                    }\n                }\n                if (currentType === 7 /* TokenTypes.LinkedAlias */) {\n                    emitError(CompileErrorCodes.INVALID_LINKED_FORMAT, currentPosition(), 0);\n                }\n                context.braceNest = 0;\n                context.inLinked = false;\n                return readToken(scnr, context);\n        }\n    }\n    // TODO: We need refactoring of token parsing ...\n    function readToken(scnr, context) {\n        let token = { type: 13 /* TokenTypes.EOF */ };\n        if (context.braceNest > 0) {\n            return readTokenInPlaceholder(scnr, context) || getEndToken(context);\n        }\n        if (context.inLinked) {\n            return readTokenInLinked(scnr, context) || getEndToken(context);\n        }\n        const ch = scnr.currentChar();\n        switch (ch) {\n            case \"{\" /* TokenChars.BraceLeft */:\n                return readTokenInPlaceholder(scnr, context) || getEndToken(context);\n            case \"}\" /* TokenChars.BraceRight */:\n                emitError(CompileErrorCodes.UNBALANCED_CLOSING_BRACE, currentPosition(), 0);\n                scnr.next();\n                return getToken(context, 3 /* TokenTypes.BraceRight */, \"}\" /* TokenChars.BraceRight */);\n            case \"@\" /* TokenChars.LinkedAlias */:\n                return readTokenInLinked(scnr, context) || getEndToken(context);\n            default: {\n                if (isPluralStart(scnr)) {\n                    token = getToken(context, 1 /* TokenTypes.Pipe */, readPlural(scnr));\n                    // reset\n                    context.braceNest = 0;\n                    context.inLinked = false;\n                    return token;\n                }\n                if (isTextStart(scnr)) {\n                    return getToken(context, 0 /* TokenTypes.Text */, readText(scnr));\n                }\n                break;\n            }\n        }\n        return token;\n    }\n    function nextToken() {\n        const { currentType, offset, startLoc, endLoc } = _context;\n        _context.lastType = currentType;\n        _context.lastOffset = offset;\n        _context.lastStartLoc = startLoc;\n        _context.lastEndLoc = endLoc;\n        _context.offset = currentOffset();\n        _context.startLoc = currentPosition();\n        if (_scnr.currentChar() === EOF) {\n            return getToken(_context, 13 /* TokenTypes.EOF */);\n        }\n        return readToken(_scnr, _context);\n    }\n    return {\n        nextToken,\n        currentOffset,\n        currentPosition,\n        context\n    };\n}\n\nconst ERROR_DOMAIN$2 = 'parser';\n// Backslash backslash, backslash quote, uHHHH, UHHHHHH.\nconst KNOWN_ESCAPES = /(?:\\\\\\\\|\\\\'|\\\\u([0-9a-fA-F]{4})|\\\\U([0-9a-fA-F]{6}))/g;\nfunction fromEscapeSequence(match, codePoint4, codePoint6) {\n    switch (match) {\n        case `\\\\\\\\`:\n            return `\\\\`;\n        // eslint-disable-next-line no-useless-escape\n        case `\\\\\\'`:\n            // eslint-disable-next-line no-useless-escape\n            return `\\'`;\n        default: {\n            const codePoint = parseInt(codePoint4 || codePoint6, 16);\n            if (codePoint <= 0xd7ff || codePoint >= 0xe000) {\n                return String.fromCodePoint(codePoint);\n            }\n            // invalid ...\n            // Replace them with U+FFFD REPLACEMENT CHARACTER.\n            return '';\n        }\n    }\n}\nfunction createParser(options = {}) {\n    const location = options.location !== false;\n    const { onError } = options;\n    function emitError(tokenzer, code, start, offset, ...args) {\n        const end = tokenzer.currentPosition();\n        end.offset += offset;\n        end.column += offset;\n        if (onError) {\n            const loc = location ? createLocation(start, end) : null;\n            const err = createCompileError(code, loc, {\n                domain: ERROR_DOMAIN$2,\n                args\n            });\n            onError(err);\n        }\n    }\n    function startNode(type, offset, loc) {\n        const node = { type };\n        if (location) {\n            node.start = offset;\n            node.end = offset;\n            node.loc = { start: loc, end: loc };\n        }\n        return node;\n    }\n    function endNode(node, offset, pos, type) {\n        if (location) {\n            node.end = offset;\n            if (node.loc) {\n                node.loc.end = pos;\n            }\n        }\n    }\n    function parseText(tokenizer, value) {\n        const context = tokenizer.context();\n        const node = startNode(3 /* NodeTypes.Text */, context.offset, context.startLoc);\n        node.value = value;\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    function parseList(tokenizer, index) {\n        const context = tokenizer.context();\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get brace left loc\n        const node = startNode(5 /* NodeTypes.List */, offset, loc);\n        node.index = parseInt(index, 10);\n        tokenizer.nextToken(); // skip brach right\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    function parseNamed(tokenizer, key) {\n        const context = tokenizer.context();\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get brace left loc\n        const node = startNode(4 /* NodeTypes.Named */, offset, loc);\n        node.key = key;\n        tokenizer.nextToken(); // skip brach right\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    function parseLiteral(tokenizer, value) {\n        const context = tokenizer.context();\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get brace left loc\n        const node = startNode(9 /* NodeTypes.Literal */, offset, loc);\n        node.value = value.replace(KNOWN_ESCAPES, fromEscapeSequence);\n        tokenizer.nextToken(); // skip brach right\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    function parseLinkedModifier(tokenizer) {\n        const token = tokenizer.nextToken();\n        const context = tokenizer.context();\n        const { lastOffset: offset, lastStartLoc: loc } = context; // get linked dot loc\n        const node = startNode(8 /* NodeTypes.LinkedModifier */, offset, loc);\n        if (token.type !== 11 /* TokenTypes.LinkedModifier */) {\n            // empty modifier\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_MODIFIER, context.lastStartLoc, 0);\n            node.value = '';\n            endNode(node, offset, loc);\n            return {\n                nextConsumeToken: token,\n                node\n            };\n        }\n        // check token\n        if (token.value == null) {\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n        }\n        node.value = token.value || '';\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return {\n            node\n        };\n    }\n    function parseLinkedKey(tokenizer, value) {\n        const context = tokenizer.context();\n        const node = startNode(7 /* NodeTypes.LinkedKey */, context.offset, context.startLoc);\n        node.value = value;\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    function parseLinked(tokenizer) {\n        const context = tokenizer.context();\n        const linkedNode = startNode(6 /* NodeTypes.Linked */, context.offset, context.startLoc);\n        let token = tokenizer.nextToken();\n        if (token.type === 8 /* TokenTypes.LinkedDot */) {\n            const parsed = parseLinkedModifier(tokenizer);\n            linkedNode.modifier = parsed.node;\n            token = parsed.nextConsumeToken || tokenizer.nextToken();\n        }\n        // asset check token\n        if (token.type !== 9 /* TokenTypes.LinkedDelimiter */) {\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n        }\n        token = tokenizer.nextToken();\n        // skip brace left\n        if (token.type === 2 /* TokenTypes.BraceLeft */) {\n            token = tokenizer.nextToken();\n        }\n        switch (token.type) {\n            case 10 /* TokenTypes.LinkedKey */:\n                if (token.value == null) {\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                }\n                linkedNode.key = parseLinkedKey(tokenizer, token.value || '');\n                break;\n            case 4 /* TokenTypes.Named */:\n                if (token.value == null) {\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                }\n                linkedNode.key = parseNamed(tokenizer, token.value || '');\n                break;\n            case 5 /* TokenTypes.List */:\n                if (token.value == null) {\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                }\n                linkedNode.key = parseList(tokenizer, token.value || '');\n                break;\n            case 6 /* TokenTypes.Literal */:\n                if (token.value == null) {\n                    emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                }\n                linkedNode.key = parseLiteral(tokenizer, token.value || '');\n                break;\n            default: {\n                // empty key\n                emitError(tokenizer, CompileErrorCodes.UNEXPECTED_EMPTY_LINKED_KEY, context.lastStartLoc, 0);\n                const nextContext = tokenizer.context();\n                const emptyLinkedKeyNode = startNode(7 /* NodeTypes.LinkedKey */, nextContext.offset, nextContext.startLoc);\n                emptyLinkedKeyNode.value = '';\n                endNode(emptyLinkedKeyNode, nextContext.offset, nextContext.startLoc);\n                linkedNode.key = emptyLinkedKeyNode;\n                endNode(linkedNode, nextContext.offset, nextContext.startLoc);\n                return {\n                    nextConsumeToken: token,\n                    node: linkedNode\n                };\n            }\n        }\n        endNode(linkedNode, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return {\n            node: linkedNode\n        };\n    }\n    function parseMessage(tokenizer) {\n        const context = tokenizer.context();\n        const startOffset = context.currentType === 1 /* TokenTypes.Pipe */\n            ? tokenizer.currentOffset()\n            : context.offset;\n        const startLoc = context.currentType === 1 /* TokenTypes.Pipe */\n            ? context.endLoc\n            : context.startLoc;\n        const node = startNode(2 /* NodeTypes.Message */, startOffset, startLoc);\n        node.items = [];\n        let nextToken = null;\n        do {\n            const token = nextToken || tokenizer.nextToken();\n            nextToken = null;\n            switch (token.type) {\n                case 0 /* TokenTypes.Text */:\n                    if (token.value == null) {\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                    }\n                    node.items.push(parseText(tokenizer, token.value || ''));\n                    break;\n                case 5 /* TokenTypes.List */:\n                    if (token.value == null) {\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                    }\n                    node.items.push(parseList(tokenizer, token.value || ''));\n                    break;\n                case 4 /* TokenTypes.Named */:\n                    if (token.value == null) {\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                    }\n                    node.items.push(parseNamed(tokenizer, token.value || ''));\n                    break;\n                case 6 /* TokenTypes.Literal */:\n                    if (token.value == null) {\n                        emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, getTokenCaption(token));\n                    }\n                    node.items.push(parseLiteral(tokenizer, token.value || ''));\n                    break;\n                case 7 /* TokenTypes.LinkedAlias */: {\n                    const parsed = parseLinked(tokenizer);\n                    node.items.push(parsed.node);\n                    nextToken = parsed.nextConsumeToken || null;\n                    break;\n                }\n            }\n        } while (context.currentType !== 13 /* TokenTypes.EOF */ &&\n            context.currentType !== 1 /* TokenTypes.Pipe */);\n        // adjust message node loc\n        const endOffset = context.currentType === 1 /* TokenTypes.Pipe */\n            ? context.lastOffset\n            : tokenizer.currentOffset();\n        const endLoc = context.currentType === 1 /* TokenTypes.Pipe */\n            ? context.lastEndLoc\n            : tokenizer.currentPosition();\n        endNode(node, endOffset, endLoc);\n        return node;\n    }\n    function parsePlural(tokenizer, offset, loc, msgNode) {\n        const context = tokenizer.context();\n        let hasEmptyMessage = msgNode.items.length === 0;\n        const node = startNode(1 /* NodeTypes.Plural */, offset, loc);\n        node.cases = [];\n        node.cases.push(msgNode);\n        do {\n            const msg = parseMessage(tokenizer);\n            if (!hasEmptyMessage) {\n                hasEmptyMessage = msg.items.length === 0;\n            }\n            node.cases.push(msg);\n        } while (context.currentType !== 13 /* TokenTypes.EOF */);\n        if (hasEmptyMessage) {\n            emitError(tokenizer, CompileErrorCodes.MUST_HAVE_MESSAGES_IN_PLURAL, loc, 0);\n        }\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    function parseResource(tokenizer) {\n        const context = tokenizer.context();\n        const { offset, startLoc } = context;\n        const msgNode = parseMessage(tokenizer);\n        if (context.currentType === 13 /* TokenTypes.EOF */) {\n            return msgNode;\n        }\n        else {\n            return parsePlural(tokenizer, offset, startLoc, msgNode);\n        }\n    }\n    function parse(source) {\n        const tokenizer = createTokenizer(source, assign({}, options));\n        const context = tokenizer.context();\n        const node = startNode(0 /* NodeTypes.Resource */, context.offset, context.startLoc);\n        if (location && node.loc) {\n            node.loc.source = source;\n        }\n        node.body = parseResource(tokenizer);\n        if (options.onCacheKey) {\n            node.cacheKey = options.onCacheKey(source);\n        }\n        // assert whether achieved to EOF\n        if (context.currentType !== 13 /* TokenTypes.EOF */) {\n            emitError(tokenizer, CompileErrorCodes.UNEXPECTED_LEXICAL_ANALYSIS, context.lastStartLoc, 0, source[context.offset] || '');\n        }\n        endNode(node, tokenizer.currentOffset(), tokenizer.currentPosition());\n        return node;\n    }\n    return { parse };\n}\nfunction getTokenCaption(token) {\n    if (token.type === 13 /* TokenTypes.EOF */) {\n        return 'EOF';\n    }\n    const name = (token.value || '').replace(/\\r?\\n/gu, '\\\\n');\n    return name.length > 10 ? name.slice(0, 9) + '' : name;\n}\n\nfunction createTransformer(ast, options = {} // eslint-disable-line\n) {\n    const _context = {\n        ast,\n        helpers: new Set()\n    };\n    const context = () => _context;\n    const helper = (name) => {\n        _context.helpers.add(name);\n        return name;\n    };\n    return { context, helper };\n}\nfunction traverseNodes(nodes, transformer) {\n    for (let i = 0; i < nodes.length; i++) {\n        traverseNode(nodes[i], transformer);\n    }\n}\nfunction traverseNode(node, transformer) {\n    // TODO: if we need pre-hook of transform, should be implemented to here\n    switch (node.type) {\n        case 1 /* NodeTypes.Plural */:\n            traverseNodes(node.cases, transformer);\n            transformer.helper(\"plural\" /* HelperNameMap.PLURAL */);\n            break;\n        case 2 /* NodeTypes.Message */:\n            traverseNodes(node.items, transformer);\n            break;\n        case 6 /* NodeTypes.Linked */: {\n            const linked = node;\n            traverseNode(linked.key, transformer);\n            transformer.helper(\"linked\" /* HelperNameMap.LINKED */);\n            transformer.helper(\"type\" /* HelperNameMap.TYPE */);\n            break;\n        }\n        case 5 /* NodeTypes.List */:\n            transformer.helper(\"interpolate\" /* HelperNameMap.INTERPOLATE */);\n            transformer.helper(\"list\" /* HelperNameMap.LIST */);\n            break;\n        case 4 /* NodeTypes.Named */:\n            transformer.helper(\"interpolate\" /* HelperNameMap.INTERPOLATE */);\n            transformer.helper(\"named\" /* HelperNameMap.NAMED */);\n            break;\n    }\n    // TODO: if we need post-hook of transform, should be implemented to here\n}\n// transform AST\nfunction transform(ast, options = {} // eslint-disable-line\n) {\n    const transformer = createTransformer(ast);\n    transformer.helper(\"normalize\" /* HelperNameMap.NORMALIZE */);\n    // traverse\n    ast.body && traverseNode(ast.body, transformer);\n    // set meta information\n    const context = transformer.context();\n    ast.helpers = Array.from(context.helpers);\n}\n\nfunction optimize(ast) {\n    const body = ast.body;\n    if (body.type === 2 /* NodeTypes.Message */) {\n        optimizeMessageNode(body);\n    }\n    else {\n        body.cases.forEach(c => optimizeMessageNode(c));\n    }\n    return ast;\n}\nfunction optimizeMessageNode(message) {\n    if (message.items.length === 1) {\n        const item = message.items[0];\n        if (item.type === 3 /* NodeTypes.Text */ || item.type === 9 /* NodeTypes.Literal */) {\n            message.static = item.value;\n            delete item.value; // optimization for size\n        }\n    }\n    else {\n        const values = [];\n        for (let i = 0; i < message.items.length; i++) {\n            const item = message.items[i];\n            if (!(item.type === 3 /* NodeTypes.Text */ || item.type === 9 /* NodeTypes.Literal */)) {\n                break;\n            }\n            if (item.value == null) {\n                break;\n            }\n            values.push(item.value);\n        }\n        if (values.length === message.items.length) {\n            message.static = join(values);\n            for (let i = 0; i < message.items.length; i++) {\n                const item = message.items[i];\n                if (item.type === 3 /* NodeTypes.Text */ || item.type === 9 /* NodeTypes.Literal */) {\n                    delete item.value; // optimization for size\n                }\n            }\n        }\n    }\n}\n\nconst ERROR_DOMAIN$1 = 'minifier';\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction minify(node) {\n    node.t = node.type;\n    switch (node.type) {\n        case 0 /* NodeTypes.Resource */: {\n            const resource = node;\n            minify(resource.body);\n            resource.b = resource.body;\n            delete resource.body;\n            break;\n        }\n        case 1 /* NodeTypes.Plural */: {\n            const plural = node;\n            const cases = plural.cases;\n            for (let i = 0; i < cases.length; i++) {\n                minify(cases[i]);\n            }\n            plural.c = cases;\n            delete plural.cases;\n            break;\n        }\n        case 2 /* NodeTypes.Message */: {\n            const message = node;\n            const items = message.items;\n            for (let i = 0; i < items.length; i++) {\n                minify(items[i]);\n            }\n            message.i = items;\n            delete message.items;\n            if (message.static) {\n                message.s = message.static;\n                delete message.static;\n            }\n            break;\n        }\n        case 3 /* NodeTypes.Text */:\n        case 9 /* NodeTypes.Literal */:\n        case 8 /* NodeTypes.LinkedModifier */:\n        case 7 /* NodeTypes.LinkedKey */: {\n            const valueNode = node;\n            if (valueNode.value) {\n                valueNode.v = valueNode.value;\n                delete valueNode.value;\n            }\n            break;\n        }\n        case 6 /* NodeTypes.Linked */: {\n            const linked = node;\n            minify(linked.key);\n            linked.k = linked.key;\n            delete linked.key;\n            if (linked.modifier) {\n                minify(linked.modifier);\n                linked.m = linked.modifier;\n                delete linked.modifier;\n            }\n            break;\n        }\n        case 5 /* NodeTypes.List */: {\n            const list = node;\n            list.i = list.index;\n            delete list.index;\n            break;\n        }\n        case 4 /* NodeTypes.Named */: {\n            const named = node;\n            named.k = named.key;\n            delete named.key;\n            break;\n        }\n        default:\n            if ((process.env.NODE_ENV !== 'production')) {\n                throw createCompileError(CompileErrorCodes.UNHANDLED_MINIFIER_NODE_TYPE, null, {\n                    domain: ERROR_DOMAIN$1,\n                    args: [node.type]\n                });\n            }\n    }\n    delete node.type;\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n// eslint-disable-next-line @typescript-eslint/triple-slash-reference\n/// <reference types=\"source-map-js\" />\nconst ERROR_DOMAIN = 'parser';\nfunction createCodeGenerator(ast, options) {\n    const { sourceMap, filename, breakLineCode, needIndent: _needIndent } = options;\n    const location = options.location !== false;\n    const _context = {\n        filename,\n        code: '',\n        column: 1,\n        line: 1,\n        offset: 0,\n        map: undefined,\n        breakLineCode,\n        needIndent: _needIndent,\n        indentLevel: 0\n    };\n    if (location && ast.loc) {\n        _context.source = ast.loc.source;\n    }\n    const context = () => _context;\n    function push(code, node) {\n        _context.code += code;\n    }\n    function _newline(n, withBreakLine = true) {\n        const _breakLineCode = withBreakLine ? breakLineCode : '';\n        push(_needIndent ? _breakLineCode + `  `.repeat(n) : _breakLineCode);\n    }\n    function indent(withNewLine = true) {\n        const level = ++_context.indentLevel;\n        withNewLine && _newline(level);\n    }\n    function deindent(withNewLine = true) {\n        const level = --_context.indentLevel;\n        withNewLine && _newline(level);\n    }\n    function newline() {\n        _newline(_context.indentLevel);\n    }\n    const helper = (key) => `_${key}`;\n    const needIndent = () => _context.needIndent;\n    return {\n        context,\n        push,\n        indent,\n        deindent,\n        newline,\n        helper,\n        needIndent\n    };\n}\nfunction generateLinkedNode(generator, node) {\n    const { helper } = generator;\n    generator.push(`${helper(\"linked\" /* HelperNameMap.LINKED */)}(`);\n    generateNode(generator, node.key);\n    if (node.modifier) {\n        generator.push(`, `);\n        generateNode(generator, node.modifier);\n        generator.push(`, _type`);\n    }\n    else {\n        generator.push(`, undefined, _type`);\n    }\n    generator.push(`)`);\n}\nfunction generateMessageNode(generator, node) {\n    const { helper, needIndent } = generator;\n    generator.push(`${helper(\"normalize\" /* HelperNameMap.NORMALIZE */)}([`);\n    generator.indent(needIndent());\n    const length = node.items.length;\n    for (let i = 0; i < length; i++) {\n        generateNode(generator, node.items[i]);\n        if (i === length - 1) {\n            break;\n        }\n        generator.push(', ');\n    }\n    generator.deindent(needIndent());\n    generator.push('])');\n}\nfunction generatePluralNode(generator, node) {\n    const { helper, needIndent } = generator;\n    if (node.cases.length > 1) {\n        generator.push(`${helper(\"plural\" /* HelperNameMap.PLURAL */)}([`);\n        generator.indent(needIndent());\n        const length = node.cases.length;\n        for (let i = 0; i < length; i++) {\n            generateNode(generator, node.cases[i]);\n            if (i === length - 1) {\n                break;\n            }\n            generator.push(', ');\n        }\n        generator.deindent(needIndent());\n        generator.push(`])`);\n    }\n}\nfunction generateResource(generator, node) {\n    if (node.body) {\n        generateNode(generator, node.body);\n    }\n    else {\n        generator.push('null');\n    }\n}\nfunction generateNode(generator, node) {\n    const { helper } = generator;\n    switch (node.type) {\n        case 0 /* NodeTypes.Resource */:\n            generateResource(generator, node);\n            break;\n        case 1 /* NodeTypes.Plural */:\n            generatePluralNode(generator, node);\n            break;\n        case 2 /* NodeTypes.Message */:\n            generateMessageNode(generator, node);\n            break;\n        case 6 /* NodeTypes.Linked */:\n            generateLinkedNode(generator, node);\n            break;\n        case 8 /* NodeTypes.LinkedModifier */:\n            generator.push(JSON.stringify(node.value), node);\n            break;\n        case 7 /* NodeTypes.LinkedKey */:\n            generator.push(JSON.stringify(node.value), node);\n            break;\n        case 5 /* NodeTypes.List */:\n            generator.push(`${helper(\"interpolate\" /* HelperNameMap.INTERPOLATE */)}(${helper(\"list\" /* HelperNameMap.LIST */)}(${node.index}))`, node);\n            break;\n        case 4 /* NodeTypes.Named */:\n            generator.push(`${helper(\"interpolate\" /* HelperNameMap.INTERPOLATE */)}(${helper(\"named\" /* HelperNameMap.NAMED */)}(${JSON.stringify(node.key)}))`, node);\n            break;\n        case 9 /* NodeTypes.Literal */:\n            generator.push(JSON.stringify(node.value), node);\n            break;\n        case 3 /* NodeTypes.Text */:\n            generator.push(JSON.stringify(node.value), node);\n            break;\n        default:\n            if ((process.env.NODE_ENV !== 'production')) {\n                throw createCompileError(CompileErrorCodes.UNHANDLED_CODEGEN_NODE_TYPE, null, {\n                    domain: ERROR_DOMAIN,\n                    args: [node.type]\n                });\n            }\n    }\n}\n// generate code from AST\nconst generate = (ast, options = {}) => {\n    const mode = isString(options.mode) ? options.mode : 'normal';\n    const filename = isString(options.filename)\n        ? options.filename\n        : 'message.intl';\n    const sourceMap = !!options.sourceMap;\n    // prettier-ignore\n    const breakLineCode = options.breakLineCode != null\n        ? options.breakLineCode\n        : mode === 'arrow'\n            ? ';'\n            : '\\n';\n    const needIndent = options.needIndent ? options.needIndent : mode !== 'arrow';\n    const helpers = ast.helpers || [];\n    const generator = createCodeGenerator(ast, {\n        mode,\n        filename,\n        sourceMap,\n        breakLineCode,\n        needIndent\n    });\n    generator.push(mode === 'normal' ? `function __msg__ (ctx) {` : `(ctx) => {`);\n    generator.indent(needIndent);\n    if (helpers.length > 0) {\n        generator.push(`const { ${join(helpers.map(s => `${s}: _${s}`), ', ')} } = ctx`);\n        generator.newline();\n    }\n    generator.push(`return `);\n    generateNode(generator, ast);\n    generator.deindent(needIndent);\n    generator.push(`}`);\n    delete ast.helpers;\n    const { code, map } = generator.context();\n    return {\n        ast,\n        code,\n        map: map ? map.toJSON() : undefined // eslint-disable-line @typescript-eslint/no-explicit-any\n    };\n};\n\nfunction baseCompile(source, options = {}) {\n    const assignedOptions = assign({}, options);\n    const jit = !!assignedOptions.jit;\n    const enalbeMinify = !!assignedOptions.minify;\n    const enambeOptimize = assignedOptions.optimize == null ? true : assignedOptions.optimize;\n    // parse source codes\n    const parser = createParser(assignedOptions);\n    const ast = parser.parse(source);\n    if (!jit) {\n        // transform ASTs\n        transform(ast, assignedOptions);\n        // generate javascript codes\n        return generate(ast, assignedOptions);\n    }\n    else {\n        // optimize ASTs\n        enambeOptimize && optimize(ast);\n        // minimize ASTs\n        enalbeMinify && minify(ast);\n        // In JIT mode, no ast transform, no code generation.\n        return { ast, code: '' };\n    }\n}\n\nexport { COMPILE_ERROR_CODES_EXTEND_POINT, CompileErrorCodes, ERROR_DOMAIN$2 as ERROR_DOMAIN, LOCATION_STUB, baseCompile, createCompileError, createLocation, createParser, createPosition, defaultOnError, detectHtmlTag, errorMessages };\n","/*!\n  * core-base v10.0.7\n  * (c) 2025 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { getGlobalThis, isObject, hasOwn, isNumber, create, isString, isBoolean, warn, format as format$1, isFunction, isPromise, isArray, isPlainObject, assign, isRegExp, warnOnce, isEmptyObject, isDate, join, toDisplayString, escapeHtml, inBrowser, mark, measure, generateCodeFrame, generateFormatCacheKey } from '@intlify/shared';\nimport { detectHtmlTag, defaultOnError, baseCompile as baseCompile$1, COMPILE_ERROR_CODES_EXTEND_POINT, createCompileError } from '@intlify/message-compiler';\nexport { CompileErrorCodes, createCompileError } from '@intlify/message-compiler';\n\n/**\n * This is only called in esm-bundler builds.\n * istanbul-ignore-next\n */\nfunction initFeatureFlags() {\n    if (typeof __INTLIFY_PROD_DEVTOOLS__ !== 'boolean') {\n        getGlobalThis().__INTLIFY_PROD_DEVTOOLS__ = false;\n    }\n    if (typeof __INTLIFY_DROP_MESSAGE_COMPILER__ !== 'boolean') {\n        getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__ = false;\n    }\n}\n\nfunction isMessageAST(val) {\n    return (isObject(val) &&\n        resolveType(val) === 0 &&\n        (hasOwn(val, 'b') || hasOwn(val, 'body')));\n}\nconst PROPS_BODY = ['b', 'body'];\nfunction resolveBody(node) {\n    return resolveProps(node, PROPS_BODY);\n}\nconst PROPS_CASES = ['c', 'cases'];\nfunction resolveCases(node) {\n    return resolveProps(node, PROPS_CASES, []);\n}\nconst PROPS_STATIC = ['s', 'static'];\nfunction resolveStatic(node) {\n    return resolveProps(node, PROPS_STATIC);\n}\nconst PROPS_ITEMS = ['i', 'items'];\nfunction resolveItems(node) {\n    return resolveProps(node, PROPS_ITEMS, []);\n}\nconst PROPS_TYPE = ['t', 'type'];\nfunction resolveType(node) {\n    return resolveProps(node, PROPS_TYPE);\n}\nconst PROPS_VALUE = ['v', 'value'];\nfunction resolveValue$1(node, type) {\n    const resolved = resolveProps(node, PROPS_VALUE);\n    if (resolved != null) {\n        return resolved;\n    }\n    else {\n        throw createUnhandleNodeError(type);\n    }\n}\nconst PROPS_MODIFIER = ['m', 'modifier'];\nfunction resolveLinkedModifier(node) {\n    return resolveProps(node, PROPS_MODIFIER);\n}\nconst PROPS_KEY = ['k', 'key'];\nfunction resolveLinkedKey(node) {\n    const resolved = resolveProps(node, PROPS_KEY);\n    if (resolved) {\n        return resolved;\n    }\n    else {\n        throw createUnhandleNodeError(6 /* NodeTypes.Linked */);\n    }\n}\nfunction resolveProps(node, props, defaultValue) {\n    for (let i = 0; i < props.length; i++) {\n        const prop = props[i];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (hasOwn(node, prop) && node[prop] != null) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return node[prop];\n        }\n    }\n    return defaultValue;\n}\nconst AST_NODE_PROPS_KEYS = [\n    ...PROPS_BODY,\n    ...PROPS_CASES,\n    ...PROPS_STATIC,\n    ...PROPS_ITEMS,\n    ...PROPS_KEY,\n    ...PROPS_MODIFIER,\n    ...PROPS_VALUE,\n    ...PROPS_TYPE\n];\nfunction createUnhandleNodeError(type) {\n    return new Error(`unhandled node type: ${type}`);\n}\n\nfunction format(ast) {\n    const msg = (ctx) => formatParts(ctx, ast);\n    return msg;\n}\nfunction formatParts(ctx, ast) {\n    const body = resolveBody(ast);\n    if (body == null) {\n        throw createUnhandleNodeError(0 /* NodeTypes.Resource */);\n    }\n    const type = resolveType(body);\n    if (type === 1 /* NodeTypes.Plural */) {\n        const plural = body;\n        const cases = resolveCases(plural);\n        return ctx.plural(cases.reduce((messages, c) => [\n            ...messages,\n            formatMessageParts(ctx, c)\n        ], []));\n    }\n    else {\n        return formatMessageParts(ctx, body);\n    }\n}\nfunction formatMessageParts(ctx, node) {\n    const static_ = resolveStatic(node);\n    if (static_ != null) {\n        return ctx.type === 'text'\n            ? static_\n            : ctx.normalize([static_]);\n    }\n    else {\n        const messages = resolveItems(node).reduce((acm, c) => [...acm, formatMessagePart(ctx, c)], []);\n        return ctx.normalize(messages);\n    }\n}\nfunction formatMessagePart(ctx, node) {\n    const type = resolveType(node);\n    switch (type) {\n        case 3 /* NodeTypes.Text */: {\n            return resolveValue$1(node, type);\n        }\n        case 9 /* NodeTypes.Literal */: {\n            return resolveValue$1(node, type);\n        }\n        case 4 /* NodeTypes.Named */: {\n            const named = node;\n            if (hasOwn(named, 'k') && named.k) {\n                return ctx.interpolate(ctx.named(named.k));\n            }\n            if (hasOwn(named, 'key') && named.key) {\n                return ctx.interpolate(ctx.named(named.key));\n            }\n            throw createUnhandleNodeError(type);\n        }\n        case 5 /* NodeTypes.List */: {\n            const list = node;\n            if (hasOwn(list, 'i') && isNumber(list.i)) {\n                return ctx.interpolate(ctx.list(list.i));\n            }\n            if (hasOwn(list, 'index') && isNumber(list.index)) {\n                return ctx.interpolate(ctx.list(list.index));\n            }\n            throw createUnhandleNodeError(type);\n        }\n        case 6 /* NodeTypes.Linked */: {\n            const linked = node;\n            const modifier = resolveLinkedModifier(linked);\n            const key = resolveLinkedKey(linked);\n            return ctx.linked(formatMessagePart(ctx, key), modifier ? formatMessagePart(ctx, modifier) : undefined, ctx.type);\n        }\n        case 7 /* NodeTypes.LinkedKey */: {\n            return resolveValue$1(node, type);\n        }\n        case 8 /* NodeTypes.LinkedModifier */: {\n            return resolveValue$1(node, type);\n        }\n        default:\n            throw new Error(`unhandled node on format message part: ${type}`);\n    }\n}\n\nconst WARN_MESSAGE = `Detected HTML in '{source}' message. Recommend not using HTML messages to avoid XSS.`;\nfunction checkHtmlMessage(source, warnHtmlMessage) {\n    if (warnHtmlMessage && detectHtmlTag(source)) {\n        warn(format$1(WARN_MESSAGE, { source }));\n    }\n}\nconst defaultOnCacheKey = (message) => message;\nlet compileCache = create();\nfunction clearCompileCache() {\n    compileCache = create();\n}\nfunction baseCompile(message, options = {}) {\n    // error detecting on compile\n    let detectError = false;\n    const onError = options.onError || defaultOnError;\n    options.onError = (err) => {\n        detectError = true;\n        onError(err);\n    };\n    // compile with mesasge-compiler\n    return { ...baseCompile$1(message, options), detectError };\n}\n/* #__NO_SIDE_EFFECTS__ */\nfunction compile(message, context) {\n    if ((!__INTLIFY_DROP_MESSAGE_COMPILER__) &&\n        isString(message)) {\n        // check HTML message\n        const warnHtmlMessage = isBoolean(context.warnHtmlMessage)\n            ? context.warnHtmlMessage\n            : true;\n        (process.env.NODE_ENV !== 'production') && checkHtmlMessage(message, warnHtmlMessage);\n        // check caches\n        const onCacheKey = context.onCacheKey || defaultOnCacheKey;\n        const cacheKey = onCacheKey(message);\n        const cached = compileCache[cacheKey];\n        if (cached) {\n            return cached;\n        }\n        // compile with JIT mode\n        const { ast, detectError } = baseCompile(message, {\n            ...context,\n            location: (process.env.NODE_ENV !== 'production'),\n            jit: true\n        });\n        // compose message function from AST\n        const msg = format(ast);\n        // if occurred compile error, don't cache\n        return !detectError\n            ? (compileCache[cacheKey] = msg)\n            : msg;\n    }\n    else {\n        if ((process.env.NODE_ENV !== 'production') && !isMessageAST(message)) {\n            warn(`the message that is resolve with key '${context.key}' is not supported for jit compilation`);\n            return (() => message);\n        }\n        // AST case (passed from bundler)\n        const cacheKey = message.cacheKey;\n        if (cacheKey) {\n            const cached = compileCache[cacheKey];\n            if (cached) {\n                return cached;\n            }\n            // compose message function from message (AST)\n            return (compileCache[cacheKey] =\n                format(message));\n        }\n        else {\n            return format(message);\n        }\n    }\n}\n\nlet devtools = null;\nfunction setDevToolsHook(hook) {\n    devtools = hook;\n}\nfunction getDevToolsHook() {\n    return devtools;\n}\nfunction initI18nDevTools(i18n, version, meta) {\n    // TODO: queue if devtools is undefined\n    devtools &&\n        devtools.emit('i18n:init', {\n            timestamp: Date.now(),\n            i18n,\n            version,\n            meta\n        });\n}\nconst translateDevTools = \n/* #__PURE__*/ createDevToolsHook('function:translate');\nfunction createDevToolsHook(hook) {\n    return (payloads) => devtools && devtools.emit(hook, payloads);\n}\n\nconst CoreErrorCodes = {\n    INVALID_ARGUMENT: COMPILE_ERROR_CODES_EXTEND_POINT, // 17\n    INVALID_DATE_ARGUMENT: 18,\n    INVALID_ISO_DATE_ARGUMENT: 19,\n    NOT_SUPPORT_NON_STRING_MESSAGE: 20,\n    NOT_SUPPORT_LOCALE_PROMISE_VALUE: 21,\n    NOT_SUPPORT_LOCALE_ASYNC_FUNCTION: 22,\n    NOT_SUPPORT_LOCALE_TYPE: 23\n};\nconst CORE_ERROR_CODES_EXTEND_POINT = 24;\nfunction createCoreError(code) {\n    return createCompileError(code, null, (process.env.NODE_ENV !== 'production') ? { messages: errorMessages } : undefined);\n}\n/** @internal */\nconst errorMessages = {\n    [CoreErrorCodes.INVALID_ARGUMENT]: 'Invalid arguments',\n    [CoreErrorCodes.INVALID_DATE_ARGUMENT]: 'The date provided is an invalid Date object.' +\n        'Make sure your Date represents a valid date.',\n    [CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT]: 'The argument provided is not a valid ISO date string',\n    [CoreErrorCodes.NOT_SUPPORT_NON_STRING_MESSAGE]: 'Not support non-string message',\n    [CoreErrorCodes.NOT_SUPPORT_LOCALE_PROMISE_VALUE]: 'cannot support promise value',\n    [CoreErrorCodes.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION]: 'cannot support async function',\n    [CoreErrorCodes.NOT_SUPPORT_LOCALE_TYPE]: 'cannot support locale type'\n};\n\n/** @internal */\nfunction getLocale(context, options) {\n    return options.locale != null\n        ? resolveLocale(options.locale)\n        : resolveLocale(context.locale);\n}\nlet _resolveLocale;\n/** @internal */\nfunction resolveLocale(locale) {\n    if (isString(locale)) {\n        return locale;\n    }\n    else {\n        if (isFunction(locale)) {\n            if (locale.resolvedOnce && _resolveLocale != null) {\n                return _resolveLocale;\n            }\n            else if (locale.constructor.name === 'Function') {\n                const resolve = locale();\n                if (isPromise(resolve)) {\n                    throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_PROMISE_VALUE);\n                }\n                return (_resolveLocale = resolve);\n            }\n            else {\n                throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION);\n            }\n        }\n        else {\n            throw createCoreError(CoreErrorCodes.NOT_SUPPORT_LOCALE_TYPE);\n        }\n    }\n}\n/**\n * Fallback with simple implemenation\n *\n * @remarks\n * A fallback locale function implemented with a simple fallback algorithm.\n *\n * Basically, it returns the value as specified in the `fallbackLocale` props, and is processed with the fallback inside intlify.\n *\n * @param ctx - A {@link CoreContext | context}\n * @param fallback - A {@link FallbackLocale | fallback locale}\n * @param start - A starting {@link Locale | locale}\n *\n * @returns Fallback locales\n *\n * @VueI18nGeneral\n */\nfunction fallbackWithSimple(ctx, fallback, start) {\n    // prettier-ignore\n    return [...new Set([\n            start,\n            ...(isArray(fallback)\n                ? fallback\n                : isObject(fallback)\n                    ? Object.keys(fallback)\n                    : isString(fallback)\n                        ? [fallback]\n                        : [start])\n        ])];\n}\n/**\n * Fallback with locale chain\n *\n * @remarks\n * A fallback locale function implemented with a fallback chain algorithm. It's used in VueI18n as default.\n *\n * @param ctx - A {@link CoreContext | context}\n * @param fallback - A {@link FallbackLocale | fallback locale}\n * @param start - A starting {@link Locale | locale}\n *\n * @returns Fallback locales\n *\n * @VueI18nSee [Fallbacking](../guide/essentials/fallback)\n *\n * @VueI18nGeneral\n */\nfunction fallbackWithLocaleChain(ctx, fallback, start) {\n    const startLocale = isString(start) ? start : DEFAULT_LOCALE;\n    const context = ctx;\n    if (!context.__localeChainCache) {\n        context.__localeChainCache = new Map();\n    }\n    let chain = context.__localeChainCache.get(startLocale);\n    if (!chain) {\n        chain = [];\n        // first block defined by start\n        let block = [start];\n        // while any intervening block found\n        while (isArray(block)) {\n            block = appendBlockToChain(chain, block, fallback);\n        }\n        // prettier-ignore\n        // last block defined by default\n        const defaults = isArray(fallback) || !isPlainObject(fallback)\n            ? fallback\n            : fallback['default']\n                ? fallback['default']\n                : null;\n        // convert defaults to array\n        block = isString(defaults) ? [defaults] : defaults;\n        if (isArray(block)) {\n            appendBlockToChain(chain, block, false);\n        }\n        context.__localeChainCache.set(startLocale, chain);\n    }\n    return chain;\n}\nfunction appendBlockToChain(chain, block, blocks) {\n    let follow = true;\n    for (let i = 0; i < block.length && isBoolean(follow); i++) {\n        const locale = block[i];\n        if (isString(locale)) {\n            follow = appendLocaleToChain(chain, block[i], blocks);\n        }\n    }\n    return follow;\n}\nfunction appendLocaleToChain(chain, locale, blocks) {\n    let follow;\n    const tokens = locale.split('-');\n    do {\n        const target = tokens.join('-');\n        follow = appendItemToChain(chain, target, blocks);\n        tokens.splice(-1, 1);\n    } while (tokens.length && follow === true);\n    return follow;\n}\nfunction appendItemToChain(chain, target, blocks) {\n    let follow = false;\n    if (!chain.includes(target)) {\n        follow = true;\n        if (target) {\n            follow = target[target.length - 1] !== '!';\n            const locale = target.replace(/!/g, '');\n            chain.push(locale);\n            if ((isArray(blocks) || isPlainObject(blocks)) &&\n                blocks[locale] // eslint-disable-line @typescript-eslint/no-explicit-any\n            ) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                follow = blocks[locale];\n            }\n        }\n    }\n    return follow;\n}\n\nconst pathStateMachine = [];\npathStateMachine[0 /* States.BEFORE_PATH */] = {\n    [\"w\" /* PathCharTypes.WORKSPACE */]: [0 /* States.BEFORE_PATH */],\n    [\"i\" /* PathCharTypes.IDENT */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */],\n    [\"[\" /* PathCharTypes.LEFT_BRACKET */]: [4 /* States.IN_SUB_PATH */],\n    [\"o\" /* PathCharTypes.END_OF_FAIL */]: [7 /* States.AFTER_PATH */]\n};\npathStateMachine[1 /* States.IN_PATH */] = {\n    [\"w\" /* PathCharTypes.WORKSPACE */]: [1 /* States.IN_PATH */],\n    [\".\" /* PathCharTypes.DOT */]: [2 /* States.BEFORE_IDENT */],\n    [\"[\" /* PathCharTypes.LEFT_BRACKET */]: [4 /* States.IN_SUB_PATH */],\n    [\"o\" /* PathCharTypes.END_OF_FAIL */]: [7 /* States.AFTER_PATH */]\n};\npathStateMachine[2 /* States.BEFORE_IDENT */] = {\n    [\"w\" /* PathCharTypes.WORKSPACE */]: [2 /* States.BEFORE_IDENT */],\n    [\"i\" /* PathCharTypes.IDENT */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */],\n    [\"0\" /* PathCharTypes.ZERO */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */]\n};\npathStateMachine[3 /* States.IN_IDENT */] = {\n    [\"i\" /* PathCharTypes.IDENT */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */],\n    [\"0\" /* PathCharTypes.ZERO */]: [3 /* States.IN_IDENT */, 0 /* Actions.APPEND */],\n    [\"w\" /* PathCharTypes.WORKSPACE */]: [1 /* States.IN_PATH */, 1 /* Actions.PUSH */],\n    [\".\" /* PathCharTypes.DOT */]: [2 /* States.BEFORE_IDENT */, 1 /* Actions.PUSH */],\n    [\"[\" /* PathCharTypes.LEFT_BRACKET */]: [4 /* States.IN_SUB_PATH */, 1 /* Actions.PUSH */],\n    [\"o\" /* PathCharTypes.END_OF_FAIL */]: [7 /* States.AFTER_PATH */, 1 /* Actions.PUSH */]\n};\npathStateMachine[4 /* States.IN_SUB_PATH */] = {\n    [\"'\" /* PathCharTypes.SINGLE_QUOTE */]: [5 /* States.IN_SINGLE_QUOTE */, 0 /* Actions.APPEND */],\n    [\"\\\"\" /* PathCharTypes.DOUBLE_QUOTE */]: [6 /* States.IN_DOUBLE_QUOTE */, 0 /* Actions.APPEND */],\n    [\"[\" /* PathCharTypes.LEFT_BRACKET */]: [\n        4 /* States.IN_SUB_PATH */,\n        2 /* Actions.INC_SUB_PATH_DEPTH */\n    ],\n    [\"]\" /* PathCharTypes.RIGHT_BRACKET */]: [1 /* States.IN_PATH */, 3 /* Actions.PUSH_SUB_PATH */],\n    [\"o\" /* PathCharTypes.END_OF_FAIL */]: 8 /* States.ERROR */,\n    [\"l\" /* PathCharTypes.ELSE */]: [4 /* States.IN_SUB_PATH */, 0 /* Actions.APPEND */]\n};\npathStateMachine[5 /* States.IN_SINGLE_QUOTE */] = {\n    [\"'\" /* PathCharTypes.SINGLE_QUOTE */]: [4 /* States.IN_SUB_PATH */, 0 /* Actions.APPEND */],\n    [\"o\" /* PathCharTypes.END_OF_FAIL */]: 8 /* States.ERROR */,\n    [\"l\" /* PathCharTypes.ELSE */]: [5 /* States.IN_SINGLE_QUOTE */, 0 /* Actions.APPEND */]\n};\npathStateMachine[6 /* States.IN_DOUBLE_QUOTE */] = {\n    [\"\\\"\" /* PathCharTypes.DOUBLE_QUOTE */]: [4 /* States.IN_SUB_PATH */, 0 /* Actions.APPEND */],\n    [\"o\" /* PathCharTypes.END_OF_FAIL */]: 8 /* States.ERROR */,\n    [\"l\" /* PathCharTypes.ELSE */]: [6 /* States.IN_DOUBLE_QUOTE */, 0 /* Actions.APPEND */]\n};\n/**\n * Check if an expression is a literal value.\n */\nconst literalValueRE = /^\\s?(?:true|false|-?[\\d.]+|'[^']*'|\"[^\"]*\")\\s?$/;\nfunction isLiteral(exp) {\n    return literalValueRE.test(exp);\n}\n/**\n * Strip quotes from a string\n */\nfunction stripQuotes(str) {\n    const a = str.charCodeAt(0);\n    const b = str.charCodeAt(str.length - 1);\n    return a === b && (a === 0x22 || a === 0x27) ? str.slice(1, -1) : str;\n}\n/**\n * Determine the type of a character in a keypath.\n */\nfunction getPathCharType(ch) {\n    if (ch === undefined || ch === null) {\n        return \"o\" /* PathCharTypes.END_OF_FAIL */;\n    }\n    const code = ch.charCodeAt(0);\n    switch (code) {\n        case 0x5b: // [\n        case 0x5d: // ]\n        case 0x2e: // .\n        case 0x22: // \"\n        case 0x27: // '\n            return ch;\n        case 0x5f: // _\n        case 0x24: // $\n        case 0x2d: // -\n            return \"i\" /* PathCharTypes.IDENT */;\n        case 0x09: // Tab (HT)\n        case 0x0a: // Newline (LF)\n        case 0x0d: // Return (CR)\n        case 0xa0: // No-break space (NBSP)\n        case 0xfeff: // Byte Order Mark (BOM)\n        case 0x2028: // Line Separator (LS)\n        case 0x2029: // Paragraph Separator (PS)\n            return \"w\" /* PathCharTypes.WORKSPACE */;\n    }\n    return \"i\" /* PathCharTypes.IDENT */;\n}\n/**\n * Format a subPath, return its plain form if it is\n * a literal string or number. Otherwise prepend the\n * dynamic indicator (*).\n */\nfunction formatSubPath(path) {\n    const trimmed = path.trim();\n    // invalid leading 0\n    if (path.charAt(0) === '0' && isNaN(parseInt(path))) {\n        return false;\n    }\n    return isLiteral(trimmed)\n        ? stripQuotes(trimmed)\n        : \"*\" /* PathCharTypes.ASTARISK */ + trimmed;\n}\n/**\n * Parse a string path into an array of segments\n */\nfunction parse(path) {\n    const keys = [];\n    let index = -1;\n    let mode = 0 /* States.BEFORE_PATH */;\n    let subPathDepth = 0;\n    let c;\n    let key; // eslint-disable-line\n    let newChar;\n    let type;\n    let transition;\n    let action;\n    let typeMap;\n    const actions = [];\n    actions[0 /* Actions.APPEND */] = () => {\n        if (key === undefined) {\n            key = newChar;\n        }\n        else {\n            key += newChar;\n        }\n    };\n    actions[1 /* Actions.PUSH */] = () => {\n        if (key !== undefined) {\n            keys.push(key);\n            key = undefined;\n        }\n    };\n    actions[2 /* Actions.INC_SUB_PATH_DEPTH */] = () => {\n        actions[0 /* Actions.APPEND */]();\n        subPathDepth++;\n    };\n    actions[3 /* Actions.PUSH_SUB_PATH */] = () => {\n        if (subPathDepth > 0) {\n            subPathDepth--;\n            mode = 4 /* States.IN_SUB_PATH */;\n            actions[0 /* Actions.APPEND */]();\n        }\n        else {\n            subPathDepth = 0;\n            if (key === undefined) {\n                return false;\n            }\n            key = formatSubPath(key);\n            if (key === false) {\n                return false;\n            }\n            else {\n                actions[1 /* Actions.PUSH */]();\n            }\n        }\n    };\n    function maybeUnescapeQuote() {\n        const nextChar = path[index + 1];\n        if ((mode === 5 /* States.IN_SINGLE_QUOTE */ &&\n            nextChar === \"'\" /* PathCharTypes.SINGLE_QUOTE */) ||\n            (mode === 6 /* States.IN_DOUBLE_QUOTE */ &&\n                nextChar === \"\\\"\" /* PathCharTypes.DOUBLE_QUOTE */)) {\n            index++;\n            newChar = '\\\\' + nextChar;\n            actions[0 /* Actions.APPEND */]();\n            return true;\n        }\n    }\n    while (mode !== null) {\n        index++;\n        c = path[index];\n        if (c === '\\\\' && maybeUnescapeQuote()) {\n            continue;\n        }\n        type = getPathCharType(c);\n        typeMap = pathStateMachine[mode];\n        transition = typeMap[type] || typeMap[\"l\" /* PathCharTypes.ELSE */] || 8 /* States.ERROR */;\n        // check parse error\n        if (transition === 8 /* States.ERROR */) {\n            return;\n        }\n        mode = transition[0];\n        if (transition[1] !== undefined) {\n            action = actions[transition[1]];\n            if (action) {\n                newChar = c;\n                if (action() === false) {\n                    return;\n                }\n            }\n        }\n        // check parse finish\n        if (mode === 7 /* States.AFTER_PATH */) {\n            return keys;\n        }\n    }\n}\n// path token cache\nconst cache = new Map();\n/**\n * key-value message resolver\n *\n * @remarks\n * Resolves messages with the key-value structure. Note that messages with a hierarchical structure such as objects cannot be resolved\n *\n * @param obj - A target object to be resolved with path\n * @param path - A {@link Path | path} to resolve the value of message\n *\n * @returns A resolved {@link PathValue | path value}\n *\n * @VueI18nGeneral\n */\nfunction resolveWithKeyValue(obj, path) {\n    return isObject(obj) ? obj[path] : null;\n}\n/**\n * message resolver\n *\n * @remarks\n * Resolves messages. messages with a hierarchical structure such as objects can be resolved. This resolver is used in VueI18n as default.\n *\n * @param obj - A target object to be resolved with path\n * @param path - A {@link Path | path} to resolve the value of message\n *\n * @returns A resolved {@link PathValue | path value}\n *\n * @VueI18nGeneral\n */\nfunction resolveValue(obj, path) {\n    // check object\n    if (!isObject(obj)) {\n        return null;\n    }\n    // parse path\n    let hit = cache.get(path);\n    if (!hit) {\n        hit = parse(path);\n        if (hit) {\n            cache.set(path, hit);\n        }\n    }\n    // check hit\n    if (!hit) {\n        return null;\n    }\n    // resolve path value\n    const len = hit.length;\n    let last = obj;\n    let i = 0;\n    while (i < len) {\n        const key = hit[i];\n        /**\n         * NOTE:\n         * if `key` is intlify message format AST node key and `last` is intlify message format AST, skip it.\n         * because the AST node is not a key-value structure.\n         */\n        if (AST_NODE_PROPS_KEYS.includes(key) && isMessageAST(last)) {\n            return null;\n        }\n        const val = last[key];\n        if (val === undefined) {\n            return null;\n        }\n        if (isFunction(last)) {\n            return null;\n        }\n        last = val;\n        i++;\n    }\n    return last;\n}\n\nconst CoreWarnCodes = {\n    NOT_FOUND_KEY: 1,\n    FALLBACK_TO_TRANSLATE: 2,\n    CANNOT_FORMAT_NUMBER: 3,\n    FALLBACK_TO_NUMBER_FORMAT: 4,\n    CANNOT_FORMAT_DATE: 5,\n    FALLBACK_TO_DATE_FORMAT: 6,\n    EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER: 7\n};\nconst CORE_WARN_CODES_EXTEND_POINT = 8;\n/** @internal */\nconst warnMessages = {\n    [CoreWarnCodes.NOT_FOUND_KEY]: `Not found '{key}' key in '{locale}' locale messages.`,\n    [CoreWarnCodes.FALLBACK_TO_TRANSLATE]: `Fall back to translate '{key}' key with '{target}' locale.`,\n    [CoreWarnCodes.CANNOT_FORMAT_NUMBER]: `Cannot format a number value due to not supported Intl.NumberFormat.`,\n    [CoreWarnCodes.FALLBACK_TO_NUMBER_FORMAT]: `Fall back to number format '{key}' key with '{target}' locale.`,\n    [CoreWarnCodes.CANNOT_FORMAT_DATE]: `Cannot format a date value due to not supported Intl.DateTimeFormat.`,\n    [CoreWarnCodes.FALLBACK_TO_DATE_FORMAT]: `Fall back to datetime format '{key}' key with '{target}' locale.`,\n    [CoreWarnCodes.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER]: `This project is using Custom Message Compiler, which is an experimental feature. It may receive breaking changes or be removed in the future.`\n};\nfunction getWarnMessage(code, ...args) {\n    return format$1(warnMessages[code], ...args);\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Intlify core-base version\n * @internal\n */\nconst VERSION = '10.0.7';\nconst NOT_REOSLVED = -1;\nconst DEFAULT_LOCALE = 'en-US';\nconst MISSING_RESOLVE_VALUE = '';\nconst capitalize = (str) => `${str.charAt(0).toLocaleUpperCase()}${str.substr(1)}`;\nfunction getDefaultLinkedModifiers() {\n    return {\n        upper: (val, type) => {\n            // prettier-ignore\n            return type === 'text' && isString(val)\n                ? val.toUpperCase()\n                : type === 'vnode' && isObject(val) && '__v_isVNode' in val\n                    ? val.children.toUpperCase()\n                    : val;\n        },\n        lower: (val, type) => {\n            // prettier-ignore\n            return type === 'text' && isString(val)\n                ? val.toLowerCase()\n                : type === 'vnode' && isObject(val) && '__v_isVNode' in val\n                    ? val.children.toLowerCase()\n                    : val;\n        },\n        capitalize: (val, type) => {\n            // prettier-ignore\n            return (type === 'text' && isString(val)\n                ? capitalize(val)\n                : type === 'vnode' && isObject(val) && '__v_isVNode' in val\n                    ? capitalize(val.children)\n                    : val);\n        }\n    };\n}\nlet _compiler;\nfunction registerMessageCompiler(compiler) {\n    _compiler = compiler;\n}\nlet _resolver;\n/**\n * Register the message resolver\n *\n * @param resolver - A {@link MessageResolver} function\n *\n * @VueI18nGeneral\n */\nfunction registerMessageResolver(resolver) {\n    _resolver = resolver;\n}\nlet _fallbacker;\n/**\n * Register the locale fallbacker\n *\n * @param fallbacker - A {@link LocaleFallbacker} function\n *\n * @VueI18nGeneral\n */\nfunction registerLocaleFallbacker(fallbacker) {\n    _fallbacker = fallbacker;\n}\n// Additional Meta for Intlify DevTools\nlet _additionalMeta = null;\n/* #__NO_SIDE_EFFECTS__ */\nconst setAdditionalMeta = (meta) => {\n    _additionalMeta = meta;\n};\n/* #__NO_SIDE_EFFECTS__ */\nconst getAdditionalMeta = () => _additionalMeta;\nlet _fallbackContext = null;\nconst setFallbackContext = (context) => {\n    _fallbackContext = context;\n};\nconst getFallbackContext = () => _fallbackContext;\n// ID for CoreContext\nlet _cid = 0;\nfunction createCoreContext(options = {}) {\n    // setup options\n    const onWarn = isFunction(options.onWarn) ? options.onWarn : warn;\n    const version = isString(options.version) ? options.version : VERSION;\n    const locale = isString(options.locale) || isFunction(options.locale)\n        ? options.locale\n        : DEFAULT_LOCALE;\n    const _locale = isFunction(locale) ? DEFAULT_LOCALE : locale;\n    const fallbackLocale = isArray(options.fallbackLocale) ||\n        isPlainObject(options.fallbackLocale) ||\n        isString(options.fallbackLocale) ||\n        options.fallbackLocale === false\n        ? options.fallbackLocale\n        : _locale;\n    const messages = isPlainObject(options.messages)\n        ? options.messages\n        : createResources(_locale);\n    const datetimeFormats = isPlainObject(options.datetimeFormats)\n            ? options.datetimeFormats\n            : createResources(_locale)\n        ;\n    const numberFormats = isPlainObject(options.numberFormats)\n            ? options.numberFormats\n            : createResources(_locale)\n        ;\n    const modifiers = assign(create(), options.modifiers, getDefaultLinkedModifiers());\n    const pluralRules = options.pluralRules || create();\n    const missing = isFunction(options.missing) ? options.missing : null;\n    const missingWarn = isBoolean(options.missingWarn) || isRegExp(options.missingWarn)\n        ? options.missingWarn\n        : true;\n    const fallbackWarn = isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn)\n        ? options.fallbackWarn\n        : true;\n    const fallbackFormat = !!options.fallbackFormat;\n    const unresolving = !!options.unresolving;\n    const postTranslation = isFunction(options.postTranslation)\n        ? options.postTranslation\n        : null;\n    const processor = isPlainObject(options.processor) ? options.processor : null;\n    const warnHtmlMessage = isBoolean(options.warnHtmlMessage)\n        ? options.warnHtmlMessage\n        : true;\n    const escapeParameter = !!options.escapeParameter;\n    const messageCompiler = isFunction(options.messageCompiler)\n        ? options.messageCompiler\n        : _compiler;\n    if ((process.env.NODE_ENV !== 'production') &&\n        !false &&\n        !false &&\n        isFunction(options.messageCompiler)) {\n        warnOnce(getWarnMessage(CoreWarnCodes.EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER));\n    }\n    const messageResolver = isFunction(options.messageResolver)\n        ? options.messageResolver\n        : _resolver || resolveWithKeyValue;\n    const localeFallbacker = isFunction(options.localeFallbacker)\n        ? options.localeFallbacker\n        : _fallbacker || fallbackWithSimple;\n    const fallbackContext = isObject(options.fallbackContext)\n        ? options.fallbackContext\n        : undefined;\n    // setup internal options\n    const internalOptions = options;\n    const __datetimeFormatters = isObject(internalOptions.__datetimeFormatters)\n            ? internalOptions.__datetimeFormatters\n            : new Map()\n        ;\n    const __numberFormatters = isObject(internalOptions.__numberFormatters)\n            ? internalOptions.__numberFormatters\n            : new Map()\n        ;\n    const __meta = isObject(internalOptions.__meta) ? internalOptions.__meta : {};\n    _cid++;\n    const context = {\n        version,\n        cid: _cid,\n        locale,\n        fallbackLocale,\n        messages,\n        modifiers,\n        pluralRules,\n        missing,\n        missingWarn,\n        fallbackWarn,\n        fallbackFormat,\n        unresolving,\n        postTranslation,\n        processor,\n        warnHtmlMessage,\n        escapeParameter,\n        messageCompiler,\n        messageResolver,\n        localeFallbacker,\n        fallbackContext,\n        onWarn,\n        __meta\n    };\n    {\n        context.datetimeFormats = datetimeFormats;\n        context.numberFormats = numberFormats;\n        context.__datetimeFormatters = __datetimeFormatters;\n        context.__numberFormatters = __numberFormatters;\n    }\n    // for vue-devtools timeline event\n    if ((process.env.NODE_ENV !== 'production')) {\n        context.__v_emitter =\n            internalOptions.__v_emitter != null\n                ? internalOptions.__v_emitter\n                : undefined;\n    }\n    // NOTE: experimental !!\n    if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\n        initI18nDevTools(context, version, __meta);\n    }\n    return context;\n}\nconst createResources = (locale) => ({ [locale]: create() });\n/** @internal */\nfunction isTranslateFallbackWarn(fallback, key) {\n    return fallback instanceof RegExp ? fallback.test(key) : fallback;\n}\n/** @internal */\nfunction isTranslateMissingWarn(missing, key) {\n    return missing instanceof RegExp ? missing.test(key) : missing;\n}\n/** @internal */\nfunction handleMissing(context, key, locale, missingWarn, type) {\n    const { missing, onWarn } = context;\n    // for vue-devtools timeline event\n    if ((process.env.NODE_ENV !== 'production')) {\n        const emitter = context.__v_emitter;\n        if (emitter) {\n            emitter.emit('missing', {\n                locale,\n                key,\n                type,\n                groupId: `${type}:${key}`\n            });\n        }\n    }\n    if (missing !== null) {\n        const ret = missing(context, locale, key, type);\n        return isString(ret) ? ret : key;\n    }\n    else {\n        if ((process.env.NODE_ENV !== 'production') && isTranslateMissingWarn(missingWarn, key)) {\n            onWarn(getWarnMessage(CoreWarnCodes.NOT_FOUND_KEY, { key, locale }));\n        }\n        return key;\n    }\n}\n/** @internal */\nfunction updateFallbackLocale(ctx, locale, fallback) {\n    const context = ctx;\n    context.__localeChainCache = new Map();\n    ctx.localeFallbacker(ctx, fallback, locale);\n}\n/** @internal */\nfunction isAlmostSameLocale(locale, compareLocale) {\n    if (locale === compareLocale)\n        return false;\n    return locale.split('-')[0] === compareLocale.split('-')[0];\n}\n/** @internal */\nfunction isImplicitFallback(targetLocale, locales) {\n    const index = locales.indexOf(targetLocale);\n    if (index === -1) {\n        return false;\n    }\n    for (let i = index + 1; i < locales.length; i++) {\n        if (isAlmostSameLocale(targetLocale, locales[i])) {\n            return true;\n        }\n    }\n    return false;\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst intlDefined = typeof Intl !== 'undefined';\nconst Availabilities = {\n    dateTimeFormat: intlDefined && typeof Intl.DateTimeFormat !== 'undefined',\n    numberFormat: intlDefined && typeof Intl.NumberFormat !== 'undefined'\n};\n\n// implementation of `datetime` function\nfunction datetime(context, ...args) {\n    const { datetimeFormats, unresolving, fallbackLocale, onWarn, localeFallbacker } = context;\n    const { __datetimeFormatters } = context;\n    if ((process.env.NODE_ENV !== 'production') && !Availabilities.dateTimeFormat) {\n        onWarn(getWarnMessage(CoreWarnCodes.CANNOT_FORMAT_DATE));\n        return MISSING_RESOLVE_VALUE;\n    }\n    const [key, value, options, overrides] = parseDateTimeArgs(...args);\n    const missingWarn = isBoolean(options.missingWarn)\n        ? options.missingWarn\n        : context.missingWarn;\n    const fallbackWarn = isBoolean(options.fallbackWarn)\n        ? options.fallbackWarn\n        : context.fallbackWarn;\n    const part = !!options.part;\n    const locale = getLocale(context, options);\n    const locales = localeFallbacker(context, // eslint-disable-line @typescript-eslint/no-explicit-any\n    fallbackLocale, locale);\n    if (!isString(key) || key === '') {\n        return new Intl.DateTimeFormat(locale, overrides).format(value);\n    }\n    // resolve format\n    let datetimeFormat = {};\n    let targetLocale;\n    let format = null;\n    let from = locale;\n    let to = null;\n    const type = 'datetime format';\n    for (let i = 0; i < locales.length; i++) {\n        targetLocale = to = locales[i];\n        if ((process.env.NODE_ENV !== 'production') &&\n            locale !== targetLocale &&\n            isTranslateFallbackWarn(fallbackWarn, key)) {\n            onWarn(getWarnMessage(CoreWarnCodes.FALLBACK_TO_DATE_FORMAT, {\n                key,\n                target: targetLocale\n            }));\n        }\n        // for vue-devtools timeline event\n        if ((process.env.NODE_ENV !== 'production') && locale !== targetLocale) {\n            const emitter = context.__v_emitter;\n            if (emitter) {\n                emitter.emit('fallback', {\n                    type,\n                    key,\n                    from,\n                    to,\n                    groupId: `${type}:${key}`\n                });\n            }\n        }\n        datetimeFormat =\n            datetimeFormats[targetLocale] || {};\n        format = datetimeFormat[key];\n        if (isPlainObject(format))\n            break;\n        handleMissing(context, key, targetLocale, missingWarn, type); // eslint-disable-line @typescript-eslint/no-explicit-any\n        from = to;\n    }\n    // checking format and target locale\n    if (!isPlainObject(format) || !isString(targetLocale)) {\n        return unresolving ? NOT_REOSLVED : key;\n    }\n    let id = `${targetLocale}__${key}`;\n    if (!isEmptyObject(overrides)) {\n        id = `${id}__${JSON.stringify(overrides)}`;\n    }\n    let formatter = __datetimeFormatters.get(id);\n    if (!formatter) {\n        formatter = new Intl.DateTimeFormat(targetLocale, assign({}, format, overrides));\n        __datetimeFormatters.set(id, formatter);\n    }\n    return !part ? formatter.format(value) : formatter.formatToParts(value);\n}\n/** @internal */\nconst DATETIME_FORMAT_OPTIONS_KEYS = [\n    'localeMatcher',\n    'weekday',\n    'era',\n    'year',\n    'month',\n    'day',\n    'hour',\n    'minute',\n    'second',\n    'timeZoneName',\n    'formatMatcher',\n    'hour12',\n    'timeZone',\n    'dateStyle',\n    'timeStyle',\n    'calendar',\n    'dayPeriod',\n    'numberingSystem',\n    'hourCycle',\n    'fractionalSecondDigits'\n];\n/** @internal */\nfunction parseDateTimeArgs(...args) {\n    const [arg1, arg2, arg3, arg4] = args;\n    const options = create();\n    let overrides = create();\n    let value;\n    if (isString(arg1)) {\n        // Only allow ISO strings - other date formats are often supported,\n        // but may cause different results in different browsers.\n        const matches = arg1.match(/(\\d{4}-\\d{2}-\\d{2})(T|\\s)?(.*)/);\n        if (!matches) {\n            throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);\n        }\n        // Some browsers can not parse the iso datetime separated by space,\n        // this is a compromise solution by replace the 'T'/' ' with 'T'\n        const dateTime = matches[3]\n            ? matches[3].trim().startsWith('T')\n                ? `${matches[1].trim()}${matches[3].trim()}`\n                : `${matches[1].trim()}T${matches[3].trim()}`\n            : matches[1].trim();\n        value = new Date(dateTime);\n        try {\n            // This will fail if the date is not valid\n            value.toISOString();\n        }\n        catch {\n            throw createCoreError(CoreErrorCodes.INVALID_ISO_DATE_ARGUMENT);\n        }\n    }\n    else if (isDate(arg1)) {\n        if (isNaN(arg1.getTime())) {\n            throw createCoreError(CoreErrorCodes.INVALID_DATE_ARGUMENT);\n        }\n        value = arg1;\n    }\n    else if (isNumber(arg1)) {\n        value = arg1;\n    }\n    else {\n        throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);\n    }\n    if (isString(arg2)) {\n        options.key = arg2;\n    }\n    else if (isPlainObject(arg2)) {\n        Object.keys(arg2).forEach(key => {\n            if (DATETIME_FORMAT_OPTIONS_KEYS.includes(key)) {\n                overrides[key] = arg2[key];\n            }\n            else {\n                options[key] = arg2[key];\n            }\n        });\n    }\n    if (isString(arg3)) {\n        options.locale = arg3;\n    }\n    else if (isPlainObject(arg3)) {\n        overrides = arg3;\n    }\n    if (isPlainObject(arg4)) {\n        overrides = arg4;\n    }\n    return [options.key || '', value, options, overrides];\n}\n/** @internal */\nfunction clearDateTimeFormat(ctx, locale, format) {\n    const context = ctx;\n    for (const key in format) {\n        const id = `${locale}__${key}`;\n        if (!context.__datetimeFormatters.has(id)) {\n            continue;\n        }\n        context.__datetimeFormatters.delete(id);\n    }\n}\n\n// implementation of `number` function\nfunction number(context, ...args) {\n    const { numberFormats, unresolving, fallbackLocale, onWarn, localeFallbacker } = context;\n    const { __numberFormatters } = context;\n    if ((process.env.NODE_ENV !== 'production') && !Availabilities.numberFormat) {\n        onWarn(getWarnMessage(CoreWarnCodes.CANNOT_FORMAT_NUMBER));\n        return MISSING_RESOLVE_VALUE;\n    }\n    const [key, value, options, overrides] = parseNumberArgs(...args);\n    const missingWarn = isBoolean(options.missingWarn)\n        ? options.missingWarn\n        : context.missingWarn;\n    const fallbackWarn = isBoolean(options.fallbackWarn)\n        ? options.fallbackWarn\n        : context.fallbackWarn;\n    const part = !!options.part;\n    const locale = getLocale(context, options);\n    const locales = localeFallbacker(context, // eslint-disable-line @typescript-eslint/no-explicit-any\n    fallbackLocale, locale);\n    if (!isString(key) || key === '') {\n        return new Intl.NumberFormat(locale, overrides).format(value);\n    }\n    // resolve format\n    let numberFormat = {};\n    let targetLocale;\n    let format = null;\n    let from = locale;\n    let to = null;\n    const type = 'number format';\n    for (let i = 0; i < locales.length; i++) {\n        targetLocale = to = locales[i];\n        if ((process.env.NODE_ENV !== 'production') &&\n            locale !== targetLocale &&\n            isTranslateFallbackWarn(fallbackWarn, key)) {\n            onWarn(getWarnMessage(CoreWarnCodes.FALLBACK_TO_NUMBER_FORMAT, {\n                key,\n                target: targetLocale\n            }));\n        }\n        // for vue-devtools timeline event\n        if ((process.env.NODE_ENV !== 'production') && locale !== targetLocale) {\n            const emitter = context.__v_emitter;\n            if (emitter) {\n                emitter.emit('fallback', {\n                    type,\n                    key,\n                    from,\n                    to,\n                    groupId: `${type}:${key}`\n                });\n            }\n        }\n        numberFormat =\n            numberFormats[targetLocale] || {};\n        format = numberFormat[key];\n        if (isPlainObject(format))\n            break;\n        handleMissing(context, key, targetLocale, missingWarn, type); // eslint-disable-line @typescript-eslint/no-explicit-any\n        from = to;\n    }\n    // checking format and target locale\n    if (!isPlainObject(format) || !isString(targetLocale)) {\n        return unresolving ? NOT_REOSLVED : key;\n    }\n    let id = `${targetLocale}__${key}`;\n    if (!isEmptyObject(overrides)) {\n        id = `${id}__${JSON.stringify(overrides)}`;\n    }\n    let formatter = __numberFormatters.get(id);\n    if (!formatter) {\n        formatter = new Intl.NumberFormat(targetLocale, assign({}, format, overrides));\n        __numberFormatters.set(id, formatter);\n    }\n    return !part ? formatter.format(value) : formatter.formatToParts(value);\n}\n/** @internal */\nconst NUMBER_FORMAT_OPTIONS_KEYS = [\n    'localeMatcher',\n    'style',\n    'currency',\n    'currencyDisplay',\n    'currencySign',\n    'useGrouping',\n    'minimumIntegerDigits',\n    'minimumFractionDigits',\n    'maximumFractionDigits',\n    'minimumSignificantDigits',\n    'maximumSignificantDigits',\n    'compactDisplay',\n    'notation',\n    'signDisplay',\n    'unit',\n    'unitDisplay',\n    'roundingMode',\n    'roundingPriority',\n    'roundingIncrement',\n    'trailingZeroDisplay'\n];\n/** @internal */\nfunction parseNumberArgs(...args) {\n    const [arg1, arg2, arg3, arg4] = args;\n    const options = create();\n    let overrides = create();\n    if (!isNumber(arg1)) {\n        throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);\n    }\n    const value = arg1;\n    if (isString(arg2)) {\n        options.key = arg2;\n    }\n    else if (isPlainObject(arg2)) {\n        Object.keys(arg2).forEach(key => {\n            if (NUMBER_FORMAT_OPTIONS_KEYS.includes(key)) {\n                overrides[key] = arg2[key];\n            }\n            else {\n                options[key] = arg2[key];\n            }\n        });\n    }\n    if (isString(arg3)) {\n        options.locale = arg3;\n    }\n    else if (isPlainObject(arg3)) {\n        overrides = arg3;\n    }\n    if (isPlainObject(arg4)) {\n        overrides = arg4;\n    }\n    return [options.key || '', value, options, overrides];\n}\n/** @internal */\nfunction clearNumberFormat(ctx, locale, format) {\n    const context = ctx;\n    for (const key in format) {\n        const id = `${locale}__${key}`;\n        if (!context.__numberFormatters.has(id)) {\n            continue;\n        }\n        context.__numberFormatters.delete(id);\n    }\n}\n\nconst DEFAULT_MODIFIER = (str) => str;\nconst DEFAULT_MESSAGE = (ctx) => ''; // eslint-disable-line\nconst DEFAULT_MESSAGE_DATA_TYPE = 'text';\nconst DEFAULT_NORMALIZE = (values) => values.length === 0 ? '' : join(values);\nconst DEFAULT_INTERPOLATE = toDisplayString;\nfunction pluralDefault(choice, choicesLength) {\n    choice = Math.abs(choice);\n    if (choicesLength === 2) {\n        // prettier-ignore\n        return choice\n            ? choice > 1\n                ? 1\n                : 0\n            : 1;\n    }\n    return choice ? Math.min(choice, 2) : 0;\n}\nfunction getPluralIndex(options) {\n    // prettier-ignore\n    const index = isNumber(options.pluralIndex)\n        ? options.pluralIndex\n        : -1;\n    // prettier-ignore\n    return options.named && (isNumber(options.named.count) || isNumber(options.named.n))\n        ? isNumber(options.named.count)\n            ? options.named.count\n            : isNumber(options.named.n)\n                ? options.named.n\n                : index\n        : index;\n}\nfunction normalizeNamed(pluralIndex, props) {\n    if (!props.count) {\n        props.count = pluralIndex;\n    }\n    if (!props.n) {\n        props.n = pluralIndex;\n    }\n}\nfunction createMessageContext(options = {}) {\n    const locale = options.locale;\n    const pluralIndex = getPluralIndex(options);\n    const pluralRule = isObject(options.pluralRules) &&\n        isString(locale) &&\n        isFunction(options.pluralRules[locale])\n        ? options.pluralRules[locale]\n        : pluralDefault;\n    const orgPluralRule = isObject(options.pluralRules) &&\n        isString(locale) &&\n        isFunction(options.pluralRules[locale])\n        ? pluralDefault\n        : undefined;\n    const plural = (messages) => {\n        return messages[pluralRule(pluralIndex, messages.length, orgPluralRule)];\n    };\n    const _list = options.list || [];\n    const list = (index) => _list[index];\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const _named = options.named || create();\n    isNumber(options.pluralIndex) && normalizeNamed(pluralIndex, _named);\n    const named = (key) => _named[key];\n    function message(key, useLinked) {\n        // prettier-ignore\n        const msg = isFunction(options.messages)\n            ? options.messages(key, !!useLinked)\n            : isObject(options.messages)\n                ? options.messages[key]\n                : false;\n        return !msg\n            ? options.parent\n                ? options.parent.message(key) // resolve from parent messages\n                : DEFAULT_MESSAGE\n            : msg;\n    }\n    const _modifier = (name) => options.modifiers\n        ? options.modifiers[name]\n        : DEFAULT_MODIFIER;\n    const normalize = isPlainObject(options.processor) && isFunction(options.processor.normalize)\n        ? options.processor.normalize\n        : DEFAULT_NORMALIZE;\n    const interpolate = isPlainObject(options.processor) &&\n        isFunction(options.processor.interpolate)\n        ? options.processor.interpolate\n        : DEFAULT_INTERPOLATE;\n    const type = isPlainObject(options.processor) && isString(options.processor.type)\n        ? options.processor.type\n        : DEFAULT_MESSAGE_DATA_TYPE;\n    const linked = (key, ...args) => {\n        const [arg1, arg2] = args;\n        let type = 'text';\n        let modifier = '';\n        if (args.length === 1) {\n            if (isObject(arg1)) {\n                modifier = arg1.modifier || modifier;\n                type = arg1.type || type;\n            }\n            else if (isString(arg1)) {\n                modifier = arg1 || modifier;\n            }\n        }\n        else if (args.length === 2) {\n            if (isString(arg1)) {\n                modifier = arg1 || modifier;\n            }\n            if (isString(arg2)) {\n                type = arg2 || type;\n            }\n        }\n        const ret = message(key, true)(ctx);\n        const msg = \n        // The message in vnode resolved with linked are returned as an array by processor.nomalize\n        type === 'vnode' && isArray(ret) && modifier\n            ? ret[0]\n            : ret;\n        return modifier ? _modifier(modifier)(msg, type) : msg;\n    };\n    const ctx = {\n        [\"list\" /* HelperNameMap.LIST */]: list,\n        [\"named\" /* HelperNameMap.NAMED */]: named,\n        [\"plural\" /* HelperNameMap.PLURAL */]: plural,\n        [\"linked\" /* HelperNameMap.LINKED */]: linked,\n        [\"message\" /* HelperNameMap.MESSAGE */]: message,\n        [\"type\" /* HelperNameMap.TYPE */]: type,\n        [\"interpolate\" /* HelperNameMap.INTERPOLATE */]: interpolate,\n        [\"normalize\" /* HelperNameMap.NORMALIZE */]: normalize,\n        [\"values\" /* HelperNameMap.VALUES */]: assign(create(), _list, _named)\n    };\n    return ctx;\n}\n\nconst NOOP_MESSAGE_FUNCTION = () => '';\nconst isMessageFunction = (val) => isFunction(val);\n// implementation of `translate` function\nfunction translate(context, ...args) {\n    const { fallbackFormat, postTranslation, unresolving, messageCompiler, fallbackLocale, messages } = context;\n    const [key, options] = parseTranslateArgs(...args);\n    const missingWarn = isBoolean(options.missingWarn)\n        ? options.missingWarn\n        : context.missingWarn;\n    const fallbackWarn = isBoolean(options.fallbackWarn)\n        ? options.fallbackWarn\n        : context.fallbackWarn;\n    const escapeParameter = isBoolean(options.escapeParameter)\n        ? options.escapeParameter\n        : context.escapeParameter;\n    const resolvedMessage = !!options.resolvedMessage;\n    // prettier-ignore\n    const defaultMsgOrKey = isString(options.default) || isBoolean(options.default) // default by function option\n        ? !isBoolean(options.default)\n            ? options.default\n            : (!messageCompiler ? () => key : key)\n        : fallbackFormat // default by `fallbackFormat` option\n            ? (!messageCompiler ? () => key : key)\n            : null;\n    const enableDefaultMsg = fallbackFormat ||\n        (defaultMsgOrKey != null &&\n            (isString(defaultMsgOrKey) || isFunction(defaultMsgOrKey)));\n    const locale = getLocale(context, options);\n    // escape params\n    escapeParameter && escapeParams(options);\n    // resolve message format\n    // eslint-disable-next-line prefer-const\n    let [formatScope, targetLocale, message] = !resolvedMessage\n        ? resolveMessageFormat(context, key, locale, fallbackLocale, fallbackWarn, missingWarn)\n        : [\n            key,\n            locale,\n            messages[locale] || create()\n        ];\n    // NOTE:\n    //  Fix to work around `ssrTransfrom` bug in Vite.\n    //  https://github.com/vitejs/vite/issues/4306\n    //  To get around this, use temporary variables.\n    //  https://github.com/nuxt/framework/issues/1461#issuecomment-954606243\n    let format = formatScope;\n    // if you use default message, set it as message format!\n    let cacheBaseKey = key;\n    if (!resolvedMessage &&\n        !(isString(format) ||\n            isMessageAST(format) ||\n            isMessageFunction(format))) {\n        if (enableDefaultMsg) {\n            format = defaultMsgOrKey;\n            cacheBaseKey = format;\n        }\n    }\n    // checking message format and target locale\n    if (!resolvedMessage &&\n        (!(isString(format) ||\n            isMessageAST(format) ||\n            isMessageFunction(format)) ||\n            !isString(targetLocale))) {\n        return unresolving ? NOT_REOSLVED : key;\n    }\n    // TODO: refactor\n    if ((process.env.NODE_ENV !== 'production') && isString(format) && context.messageCompiler == null) {\n        warn(`The message format compilation is not supported in this build. ` +\n            `Because message compiler isn't included. ` +\n            `You need to pre-compilation all message format. ` +\n            `So translate function return '${key}'.`);\n        return key;\n    }\n    // setup compile error detecting\n    let occurred = false;\n    const onError = () => {\n        occurred = true;\n    };\n    // compile message format\n    const msg = !isMessageFunction(format)\n        ? compileMessageFormat(context, key, targetLocale, format, cacheBaseKey, onError)\n        : format;\n    // if occurred compile error, return the message format\n    if (occurred) {\n        return format;\n    }\n    // evaluate message with context\n    const ctxOptions = getMessageContextOptions(context, targetLocale, message, options);\n    const msgContext = createMessageContext(ctxOptions);\n    const messaged = evaluateMessage(context, msg, msgContext);\n    // if use post translation option, proceed it with handler\n    const ret = postTranslation\n        ? postTranslation(messaged, key)\n        : messaged;\n    // NOTE: experimental !!\n    if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\n        // prettier-ignore\n        const payloads = {\n            timestamp: Date.now(),\n            key: isString(key)\n                ? key\n                : isMessageFunction(format)\n                    ? format.key\n                    : '',\n            locale: targetLocale || (isMessageFunction(format)\n                ? format.locale\n                : ''),\n            format: isString(format)\n                ? format\n                : isMessageFunction(format)\n                    ? format.source\n                    : '',\n            message: ret\n        };\n        payloads.meta = assign({}, context.__meta, getAdditionalMeta() || {});\n        translateDevTools(payloads);\n    }\n    return ret;\n}\nfunction escapeParams(options) {\n    if (isArray(options.list)) {\n        options.list = options.list.map(item => isString(item) ? escapeHtml(item) : item);\n    }\n    else if (isObject(options.named)) {\n        Object.keys(options.named).forEach(key => {\n            if (isString(options.named[key])) {\n                options.named[key] = escapeHtml(options.named[key]);\n            }\n        });\n    }\n}\nfunction resolveMessageFormat(context, key, locale, fallbackLocale, fallbackWarn, missingWarn) {\n    const { messages, onWarn, messageResolver: resolveValue, localeFallbacker } = context;\n    const locales = localeFallbacker(context, fallbackLocale, locale); // eslint-disable-line @typescript-eslint/no-explicit-any\n    let message = create();\n    let targetLocale;\n    let format = null;\n    let from = locale;\n    let to = null;\n    const type = 'translate';\n    for (let i = 0; i < locales.length; i++) {\n        targetLocale = to = locales[i];\n        if ((process.env.NODE_ENV !== 'production') &&\n            locale !== targetLocale &&\n            !isAlmostSameLocale(locale, targetLocale) &&\n            isTranslateFallbackWarn(fallbackWarn, key)) {\n            onWarn(getWarnMessage(CoreWarnCodes.FALLBACK_TO_TRANSLATE, {\n                key,\n                target: targetLocale\n            }));\n        }\n        // for vue-devtools timeline event\n        if ((process.env.NODE_ENV !== 'production') && locale !== targetLocale) {\n            const emitter = context.__v_emitter;\n            if (emitter) {\n                emitter.emit('fallback', {\n                    type,\n                    key,\n                    from,\n                    to,\n                    groupId: `${type}:${key}`\n                });\n            }\n        }\n        message =\n            messages[targetLocale] || create();\n        // for vue-devtools timeline event\n        let start = null;\n        let startTag;\n        let endTag;\n        if ((process.env.NODE_ENV !== 'production') && inBrowser) {\n            start = window.performance.now();\n            startTag = 'intlify-message-resolve-start';\n            endTag = 'intlify-message-resolve-end';\n            mark && mark(startTag);\n        }\n        if ((format = resolveValue(message, key)) === null) {\n            // if null, resolve with object key path\n            format = message[key]; // eslint-disable-line @typescript-eslint/no-explicit-any\n        }\n        // for vue-devtools timeline event\n        if ((process.env.NODE_ENV !== 'production') && inBrowser) {\n            const end = window.performance.now();\n            const emitter = context.__v_emitter;\n            if (emitter && start && format) {\n                emitter.emit('message-resolve', {\n                    type: 'message-resolve',\n                    key,\n                    message: format,\n                    time: end - start,\n                    groupId: `${type}:${key}`\n                });\n            }\n            if (startTag && endTag && mark && measure) {\n                mark(endTag);\n                measure('intlify message resolve', startTag, endTag);\n            }\n        }\n        if (isString(format) || isMessageAST(format) || isMessageFunction(format)) {\n            break;\n        }\n        if (!isImplicitFallback(targetLocale, locales)) {\n            const missingRet = handleMissing(context, // eslint-disable-line @typescript-eslint/no-explicit-any\n            key, targetLocale, missingWarn, type);\n            if (missingRet !== key) {\n                format = missingRet;\n            }\n        }\n        from = to;\n    }\n    return [format, targetLocale, message];\n}\nfunction compileMessageFormat(context, key, targetLocale, format, cacheBaseKey, onError) {\n    const { messageCompiler, warnHtmlMessage } = context;\n    if (isMessageFunction(format)) {\n        const msg = format;\n        msg.locale = msg.locale || targetLocale;\n        msg.key = msg.key || key;\n        return msg;\n    }\n    if (messageCompiler == null) {\n        const msg = (() => format);\n        msg.locale = targetLocale;\n        msg.key = key;\n        return msg;\n    }\n    // for vue-devtools timeline event\n    let start = null;\n    let startTag;\n    let endTag;\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\n        start = window.performance.now();\n        startTag = 'intlify-message-compilation-start';\n        endTag = 'intlify-message-compilation-end';\n        mark && mark(startTag);\n    }\n    const msg = messageCompiler(format, getCompileContext(context, targetLocale, cacheBaseKey, format, warnHtmlMessage, onError));\n    // for vue-devtools timeline event\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\n        const end = window.performance.now();\n        const emitter = context.__v_emitter;\n        if (emitter && start) {\n            emitter.emit('message-compilation', {\n                type: 'message-compilation',\n                message: format,\n                time: end - start,\n                groupId: `${'translate'}:${key}`\n            });\n        }\n        if (startTag && endTag && mark && measure) {\n            mark(endTag);\n            measure('intlify message compilation', startTag, endTag);\n        }\n    }\n    msg.locale = targetLocale;\n    msg.key = key;\n    msg.source = format;\n    return msg;\n}\nfunction evaluateMessage(context, msg, msgCtx) {\n    // for vue-devtools timeline event\n    let start = null;\n    let startTag;\n    let endTag;\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\n        start = window.performance.now();\n        startTag = 'intlify-message-evaluation-start';\n        endTag = 'intlify-message-evaluation-end';\n        mark && mark(startTag);\n    }\n    const messaged = msg(msgCtx);\n    // for vue-devtools timeline event\n    if ((process.env.NODE_ENV !== 'production') && inBrowser) {\n        const end = window.performance.now();\n        const emitter = context.__v_emitter;\n        if (emitter && start) {\n            emitter.emit('message-evaluation', {\n                type: 'message-evaluation',\n                value: messaged,\n                time: end - start,\n                groupId: `${'translate'}:${msg.key}`\n            });\n        }\n        if (startTag && endTag && mark && measure) {\n            mark(endTag);\n            measure('intlify message evaluation', startTag, endTag);\n        }\n    }\n    return messaged;\n}\n/** @internal */\nfunction parseTranslateArgs(...args) {\n    const [arg1, arg2, arg3] = args;\n    const options = create();\n    if (!isString(arg1) &&\n        !isNumber(arg1) &&\n        !isMessageFunction(arg1) &&\n        !isMessageAST(arg1)) {\n        throw createCoreError(CoreErrorCodes.INVALID_ARGUMENT);\n    }\n    // prettier-ignore\n    const key = isNumber(arg1)\n        ? String(arg1)\n        : isMessageFunction(arg1)\n            ? arg1\n            : arg1;\n    if (isNumber(arg2)) {\n        options.plural = arg2;\n    }\n    else if (isString(arg2)) {\n        options.default = arg2;\n    }\n    else if (isPlainObject(arg2) && !isEmptyObject(arg2)) {\n        options.named = arg2;\n    }\n    else if (isArray(arg2)) {\n        options.list = arg2;\n    }\n    if (isNumber(arg3)) {\n        options.plural = arg3;\n    }\n    else if (isString(arg3)) {\n        options.default = arg3;\n    }\n    else if (isPlainObject(arg3)) {\n        assign(options, arg3);\n    }\n    return [key, options];\n}\nfunction getCompileContext(context, locale, key, source, warnHtmlMessage, onError) {\n    return {\n        locale,\n        key,\n        warnHtmlMessage,\n        onError: (err) => {\n            onError && onError(err);\n            if ((process.env.NODE_ENV !== 'production')) {\n                const _source = getSourceForCodeFrame(source);\n                const message = `Message compilation error: ${err.message}`;\n                const codeFrame = err.location &&\n                    _source &&\n                    generateCodeFrame(_source, err.location.start.offset, err.location.end.offset);\n                const emitter = context.__v_emitter;\n                if (emitter && _source) {\n                    emitter.emit('compile-error', {\n                        message: _source,\n                        error: err.message,\n                        start: err.location && err.location.start.offset,\n                        end: err.location && err.location.end.offset,\n                        groupId: `${'translate'}:${key}`\n                    });\n                }\n                console.error(codeFrame ? `${message}\\n${codeFrame}` : message);\n            }\n            else {\n                throw err;\n            }\n        },\n        onCacheKey: (source) => generateFormatCacheKey(locale, key, source)\n    };\n}\nfunction getSourceForCodeFrame(source) {\n    if (isString(source)) {\n        return source;\n    }\n    else {\n        if (source.loc && source.loc.source) {\n            return source.loc.source;\n        }\n    }\n}\nfunction getMessageContextOptions(context, locale, message, options) {\n    const { modifiers, pluralRules, messageResolver: resolveValue, fallbackLocale, fallbackWarn, missingWarn, fallbackContext } = context;\n    const resolveMessage = (key, useLinked) => {\n        let val = resolveValue(message, key);\n        // fallback\n        if (val == null && (fallbackContext || useLinked)) {\n            const [, , message] = resolveMessageFormat(fallbackContext || context, // NOTE: if has fallbackContext, fallback to root, else if use linked, fallback to local context\n            key, locale, fallbackLocale, fallbackWarn, missingWarn);\n            val = resolveValue(message, key);\n        }\n        if (isString(val) || isMessageAST(val)) {\n            let occurred = false;\n            const onError = () => {\n                occurred = true;\n            };\n            const msg = compileMessageFormat(context, key, locale, val, key, onError);\n            return !occurred\n                ? msg\n                : NOOP_MESSAGE_FUNCTION;\n        }\n        else if (isMessageFunction(val)) {\n            return val;\n        }\n        else {\n            // TODO: should be implemented warning message\n            return NOOP_MESSAGE_FUNCTION;\n        }\n    };\n    const ctxOptions = {\n        locale,\n        modifiers,\n        pluralRules,\n        messages: resolveMessage\n    };\n    if (context.processor) {\n        ctxOptions.processor = context.processor;\n    }\n    if (options.list) {\n        ctxOptions.list = options.list;\n    }\n    if (options.named) {\n        ctxOptions.named = options.named;\n    }\n    if (isNumber(options.plural)) {\n        ctxOptions.pluralIndex = options.plural;\n    }\n    return ctxOptions;\n}\n\n{\n    initFeatureFlags();\n}\n\nexport { AST_NODE_PROPS_KEYS, CORE_ERROR_CODES_EXTEND_POINT, CORE_WARN_CODES_EXTEND_POINT, CoreErrorCodes, CoreWarnCodes, DATETIME_FORMAT_OPTIONS_KEYS, DEFAULT_LOCALE, DEFAULT_MESSAGE_DATA_TYPE, MISSING_RESOLVE_VALUE, NOT_REOSLVED, NUMBER_FORMAT_OPTIONS_KEYS, VERSION, clearCompileCache, clearDateTimeFormat, clearNumberFormat, compile, createCoreContext, createCoreError, createMessageContext, datetime, fallbackWithLocaleChain, fallbackWithSimple, getAdditionalMeta, getDevToolsHook, getFallbackContext, getLocale, getWarnMessage, handleMissing, initI18nDevTools, isAlmostSameLocale, isImplicitFallback, isMessageAST, isMessageFunction, isTranslateFallbackWarn, isTranslateMissingWarn, number, parse, parseDateTimeArgs, parseNumberArgs, parseTranslateArgs, registerLocaleFallbacker, registerMessageCompiler, registerMessageResolver, resolveLocale, resolveValue, resolveWithKeyValue, setAdditionalMeta, setDevToolsHook, setFallbackContext, translate, translateDevTools, updateFallbackLocale };\n","/*!\n  * vue-i18n v10.0.7\n  * (c) 2025 kazuya kawaguchi\n  * Released under the MIT License.\n  */\nimport { getGlobalThis, format, makeSymbol, isObject, create, isPlainObject, isArray, deepCopy, isString, hasOwn, warn, isBoolean, isRegExp, isFunction, inBrowser, assign, isNumber, warnOnce, createEmitter, isEmptyObject } from '@intlify/shared';\nimport { CORE_WARN_CODES_EXTEND_POINT, CORE_ERROR_CODES_EXTEND_POINT, createCompileError, isMessageAST, AST_NODE_PROPS_KEYS, DEFAULT_LOCALE, updateFallbackLocale, setFallbackContext, createCoreContext, clearDateTimeFormat, clearNumberFormat, setAdditionalMeta, getFallbackContext, NOT_REOSLVED, isTranslateFallbackWarn, isTranslateMissingWarn, parseTranslateArgs, translate, MISSING_RESOLVE_VALUE, parseDateTimeArgs, datetime, parseNumberArgs, number, isMessageFunction, fallbackWithLocaleChain, NUMBER_FORMAT_OPTIONS_KEYS, DATETIME_FORMAT_OPTIONS_KEYS, registerMessageCompiler, compile, registerMessageResolver, resolveValue, registerLocaleFallbacker, setDevToolsHook } from '@intlify/core-base';\nimport { createVNode, Text, computed, watch, getCurrentInstance, ref, shallowRef, Fragment, defineComponent, h, effectScope, inject, onMounted, onUnmounted, isRef } from 'vue';\nimport { setupDevtoolsPlugin } from '@vue/devtools-api';\n\n/**\n * Vue I18n Version\n *\n * @remarks\n * Semver format. Same format as the package.json `version` field.\n *\n * @VueI18nGeneral\n */\nconst VERSION = '10.0.7';\n/**\n * This is only called in esm-bundler builds.\n * istanbul-ignore-next\n */\nfunction initFeatureFlags() {\n    if (typeof __VUE_I18N_FULL_INSTALL__ !== 'boolean') {\n        getGlobalThis().__VUE_I18N_FULL_INSTALL__ = true;\n    }\n    if (typeof __VUE_I18N_LEGACY_API__ !== 'boolean') {\n        getGlobalThis().__VUE_I18N_LEGACY_API__ = true;\n    }\n    if (typeof __INTLIFY_DROP_MESSAGE_COMPILER__ !== 'boolean') {\n        getGlobalThis().__INTLIFY_DROP_MESSAGE_COMPILER__ = false;\n    }\n    if (typeof __INTLIFY_PROD_DEVTOOLS__ !== 'boolean') {\n        getGlobalThis().__INTLIFY_PROD_DEVTOOLS__ = false;\n    }\n}\n\nconst I18nWarnCodes = {\n    FALLBACK_TO_ROOT: CORE_WARN_CODES_EXTEND_POINT, // 8\n    NOT_FOUND_PARENT_SCOPE: 9,\n    IGNORE_OBJ_FLATTEN: 10,\n    DEPRECATE_TC: 11\n};\nconst warnMessages = {\n    [I18nWarnCodes.FALLBACK_TO_ROOT]: `Fall back to {type} '{key}' with root locale.`,\n    [I18nWarnCodes.NOT_FOUND_PARENT_SCOPE]: `Not found parent scope. use the global scope.`,\n    [I18nWarnCodes.IGNORE_OBJ_FLATTEN]: `Ignore object flatten: '{key}' key has an string value`,\n    [I18nWarnCodes.DEPRECATE_TC]: `'tc' and '$tc' has been deprecated in v10. Use 't' or '$t' instead. 'tc' and '$tc are going to remove in v11.`\n};\nfunction getWarnMessage(code, ...args) {\n    return format(warnMessages[code], ...args);\n}\n\nconst I18nErrorCodes = {\n    // composer module errors\n    UNEXPECTED_RETURN_TYPE: CORE_ERROR_CODES_EXTEND_POINT, // 24\n    // legacy module errors\n    INVALID_ARGUMENT: 25,\n    // i18n module errors\n    MUST_BE_CALL_SETUP_TOP: 26,\n    NOT_INSTALLED: 27,\n    // directive module errors\n    REQUIRED_VALUE: 28,\n    INVALID_VALUE: 29,\n    // vue-devtools errors\n    CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN: 30,\n    NOT_INSTALLED_WITH_PROVIDE: 31,\n    // unexpected error\n    UNEXPECTED_ERROR: 32,\n    // not compatible legacy vue-i18n constructor\n    NOT_COMPATIBLE_LEGACY_VUE_I18N: 33,\n    // Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly\n    NOT_AVAILABLE_COMPOSITION_IN_LEGACY: 34\n};\nfunction createI18nError(code, ...args) {\n    return createCompileError(code, null, (process.env.NODE_ENV !== 'production') ? { messages: errorMessages, args } : undefined);\n}\nconst errorMessages = {\n    [I18nErrorCodes.UNEXPECTED_RETURN_TYPE]: 'Unexpected return type in composer',\n    [I18nErrorCodes.INVALID_ARGUMENT]: 'Invalid argument',\n    [I18nErrorCodes.MUST_BE_CALL_SETUP_TOP]: 'Must be called at the top of a `setup` function',\n    [I18nErrorCodes.NOT_INSTALLED]: 'Need to install with `app.use` function',\n    [I18nErrorCodes.UNEXPECTED_ERROR]: 'Unexpected error',\n    [I18nErrorCodes.REQUIRED_VALUE]: `Required in value: {0}`,\n    [I18nErrorCodes.INVALID_VALUE]: `Invalid value`,\n    [I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN]: `Cannot setup vue-devtools plugin`,\n    [I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE]: 'Need to install with `provide` function',\n    [I18nErrorCodes.NOT_COMPATIBLE_LEGACY_VUE_I18N]: 'Not compatible legacy VueI18n.',\n    [I18nErrorCodes.NOT_AVAILABLE_COMPOSITION_IN_LEGACY]: 'Not available Compostion API in Legacy API mode. Please make sure that the legacy API mode is working properly'\n};\n\nconst TranslateVNodeSymbol = \n/* #__PURE__*/ makeSymbol('__translateVNode');\nconst DatetimePartsSymbol = /* #__PURE__*/ makeSymbol('__datetimeParts');\nconst NumberPartsSymbol = /* #__PURE__*/ makeSymbol('__numberParts');\nconst EnableEmitter = /* #__PURE__*/ makeSymbol('__enableEmitter');\nconst DisableEmitter = /* #__PURE__*/ makeSymbol('__disableEmitter');\nconst SetPluralRulesSymbol = makeSymbol('__setPluralRules');\nmakeSymbol('__intlifyMeta');\nconst InejctWithOptionSymbol = \n/* #__PURE__*/ makeSymbol('__injectWithOption');\nconst DisposeSymbol = /* #__PURE__*/ makeSymbol('__dispose');\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Transform flat json in obj to normal json in obj\n */\nfunction handleFlatJson(obj) {\n    // check obj\n    if (!isObject(obj)) {\n        return obj;\n    }\n    if (isMessageAST(obj)) {\n        return obj;\n    }\n    for (const key in obj) {\n        // check key\n        if (!hasOwn(obj, key)) {\n            continue;\n        }\n        // handle for normal json\n        if (!key.includes('.')) {\n            // recursive process value if value is also a object\n            if (isObject(obj[key])) {\n                handleFlatJson(obj[key]);\n            }\n        }\n        // handle for flat json, transform to normal json\n        else {\n            // go to the last object\n            const subKeys = key.split('.');\n            const lastIndex = subKeys.length - 1;\n            let currentObj = obj;\n            let hasStringValue = false;\n            for (let i = 0; i < lastIndex; i++) {\n                if (subKeys[i] === '__proto__') {\n                    throw new Error(`unsafe key: ${subKeys[i]}`);\n                }\n                if (!(subKeys[i] in currentObj)) {\n                    currentObj[subKeys[i]] = create();\n                }\n                if (!isObject(currentObj[subKeys[i]])) {\n                    (process.env.NODE_ENV !== 'production') &&\n                        warn(getWarnMessage(I18nWarnCodes.IGNORE_OBJ_FLATTEN, {\n                            key: subKeys[i]\n                        }));\n                    hasStringValue = true;\n                    break;\n                }\n                currentObj = currentObj[subKeys[i]];\n            }\n            // update last object value, delete old property\n            if (!hasStringValue) {\n                if (!isMessageAST(currentObj)) {\n                    currentObj[subKeys[lastIndex]] = obj[key];\n                    delete obj[key];\n                }\n                else {\n                    /**\n                     * NOTE:\n                     * if the last object is a message AST and subKeys[lastIndex] has message AST prop key, ignore to copy and key deletion\n                     */\n                    if (!AST_NODE_PROPS_KEYS.includes(subKeys[lastIndex])) {\n                        delete obj[key];\n                    }\n                }\n            }\n            // recursive process value if value is also a object\n            if (!isMessageAST(currentObj)) {\n                const target = currentObj[subKeys[lastIndex]];\n                if (isObject(target)) {\n                    handleFlatJson(target);\n                }\n            }\n        }\n    }\n    return obj;\n}\nfunction getLocaleMessages(locale, options) {\n    const { messages, __i18n, messageResolver, flatJson } = options;\n    // prettier-ignore\n    const ret = (isPlainObject(messages)\n        ? messages\n        : isArray(__i18n)\n            ? create()\n            : { [locale]: create() });\n    // merge locale messages of i18n custom block\n    if (isArray(__i18n)) {\n        __i18n.forEach(custom => {\n            if ('locale' in custom && 'resource' in custom) {\n                const { locale, resource } = custom;\n                if (locale) {\n                    ret[locale] = ret[locale] || create();\n                    deepCopy(resource, ret[locale]);\n                }\n                else {\n                    deepCopy(resource, ret);\n                }\n            }\n            else {\n                isString(custom) && deepCopy(JSON.parse(custom), ret);\n            }\n        });\n    }\n    // handle messages for flat json\n    if (messageResolver == null && flatJson) {\n        for (const key in ret) {\n            if (hasOwn(ret, key)) {\n                handleFlatJson(ret[key]);\n            }\n        }\n    }\n    return ret;\n}\nfunction getComponentOptions(instance) {\n    return instance.type;\n}\nfunction adjustI18nResources(gl, options, componentOptions) {\n    // prettier-ignore\n    let messages = isObject(options.messages)\n        ? options.messages\n        : create();\n    if ('__i18nGlobal' in componentOptions) {\n        messages = getLocaleMessages(gl.locale.value, {\n            messages,\n            __i18n: componentOptions.__i18nGlobal\n        });\n    }\n    // merge locale messages\n    const locales = Object.keys(messages);\n    if (locales.length) {\n        locales.forEach(locale => {\n            gl.mergeLocaleMessage(locale, messages[locale]);\n        });\n    }\n    {\n        // merge datetime formats\n        if (isObject(options.datetimeFormats)) {\n            const locales = Object.keys(options.datetimeFormats);\n            if (locales.length) {\n                locales.forEach(locale => {\n                    gl.mergeDateTimeFormat(locale, options.datetimeFormats[locale]);\n                });\n            }\n        }\n        // merge number formats\n        if (isObject(options.numberFormats)) {\n            const locales = Object.keys(options.numberFormats);\n            if (locales.length) {\n                locales.forEach(locale => {\n                    gl.mergeNumberFormat(locale, options.numberFormats[locale]);\n                });\n            }\n        }\n    }\n}\nfunction createTextNode(key) {\n    return createVNode(Text, null, key, 0);\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n// extend VNode interface\nconst DEVTOOLS_META = '__INTLIFY_META__';\nconst NOOP_RETURN_ARRAY = () => [];\nconst NOOP_RETURN_FALSE = () => false;\nlet composerID = 0;\nfunction defineCoreMissingHandler(missing) {\n    return ((ctx, locale, key, type) => {\n        return missing(locale, key, getCurrentInstance() || undefined, type);\n    });\n}\n// for Intlify DevTools\n/* #__NO_SIDE_EFFECTS__ */\nconst getMetaInfo = () => {\n    const instance = getCurrentInstance();\n    let meta = null;\n    return instance && (meta = getComponentOptions(instance)[DEVTOOLS_META])\n        ? { [DEVTOOLS_META]: meta }\n        : null;\n};\n/**\n * Create composer interface factory\n *\n * @internal\n */\nfunction createComposer(options = {}) {\n    const { __root, __injectWithOption } = options;\n    const _isGlobal = __root === undefined;\n    const flatJson = options.flatJson;\n    const _ref = inBrowser ? ref : shallowRef;\n    let _inheritLocale = isBoolean(options.inheritLocale)\n        ? options.inheritLocale\n        : true;\n    const _locale = _ref(\n    // prettier-ignore\n    __root && _inheritLocale\n        ? __root.locale.value\n        : isString(options.locale)\n            ? options.locale\n            : DEFAULT_LOCALE);\n    const _fallbackLocale = _ref(\n    // prettier-ignore\n    __root && _inheritLocale\n        ? __root.fallbackLocale.value\n        : isString(options.fallbackLocale) ||\n            isArray(options.fallbackLocale) ||\n            isPlainObject(options.fallbackLocale) ||\n            options.fallbackLocale === false\n            ? options.fallbackLocale\n            : _locale.value);\n    const _messages = _ref(getLocaleMessages(_locale.value, options));\n    // prettier-ignore\n    const _datetimeFormats = _ref(isPlainObject(options.datetimeFormats)\n            ? options.datetimeFormats\n            : { [_locale.value]: {} })\n        ;\n    // prettier-ignore\n    const _numberFormats = _ref(isPlainObject(options.numberFormats)\n            ? options.numberFormats\n            : { [_locale.value]: {} })\n        ;\n    // warning suppress options\n    // prettier-ignore\n    let _missingWarn = __root\n        ? __root.missingWarn\n        : isBoolean(options.missingWarn) || isRegExp(options.missingWarn)\n            ? options.missingWarn\n            : true;\n    // prettier-ignore\n    let _fallbackWarn = __root\n        ? __root.fallbackWarn\n        : isBoolean(options.fallbackWarn) || isRegExp(options.fallbackWarn)\n            ? options.fallbackWarn\n            : true;\n    // prettier-ignore\n    let _fallbackRoot = __root\n        ? __root.fallbackRoot\n        : isBoolean(options.fallbackRoot)\n            ? options.fallbackRoot\n            : true;\n    // configure fall back to root\n    let _fallbackFormat = !!options.fallbackFormat;\n    // runtime missing\n    let _missing = isFunction(options.missing) ? options.missing : null;\n    let _runtimeMissing = isFunction(options.missing)\n        ? defineCoreMissingHandler(options.missing)\n        : null;\n    // postTranslation handler\n    let _postTranslation = isFunction(options.postTranslation)\n        ? options.postTranslation\n        : null;\n    // prettier-ignore\n    let _warnHtmlMessage = __root\n        ? __root.warnHtmlMessage\n        : isBoolean(options.warnHtmlMessage)\n            ? options.warnHtmlMessage\n            : true;\n    let _escapeParameter = !!options.escapeParameter;\n    // custom linked modifiers\n    // prettier-ignore\n    const _modifiers = __root\n        ? __root.modifiers\n        : isPlainObject(options.modifiers)\n            ? options.modifiers\n            : {};\n    // pluralRules\n    let _pluralRules = options.pluralRules || (__root && __root.pluralRules);\n    // runtime context\n    // eslint-disable-next-line prefer-const\n    let _context;\n    const getCoreContext = () => {\n        _isGlobal && setFallbackContext(null);\n        const ctxOptions = {\n            version: VERSION,\n            locale: _locale.value,\n            fallbackLocale: _fallbackLocale.value,\n            messages: _messages.value,\n            modifiers: _modifiers,\n            pluralRules: _pluralRules,\n            missing: _runtimeMissing === null ? undefined : _runtimeMissing,\n            missingWarn: _missingWarn,\n            fallbackWarn: _fallbackWarn,\n            fallbackFormat: _fallbackFormat,\n            unresolving: true,\n            postTranslation: _postTranslation === null ? undefined : _postTranslation,\n            warnHtmlMessage: _warnHtmlMessage,\n            escapeParameter: _escapeParameter,\n            messageResolver: options.messageResolver,\n            messageCompiler: options.messageCompiler,\n            __meta: { framework: 'vue' }\n        };\n        {\n            ctxOptions.datetimeFormats = _datetimeFormats.value;\n            ctxOptions.numberFormats = _numberFormats.value;\n            ctxOptions.__datetimeFormatters = isPlainObject(_context)\n                ? _context.__datetimeFormatters\n                : undefined;\n            ctxOptions.__numberFormatters = isPlainObject(_context)\n                ? _context.__numberFormatters\n                : undefined;\n        }\n        if ((process.env.NODE_ENV !== 'production')) {\n            ctxOptions.__v_emitter = isPlainObject(_context)\n                ? _context.__v_emitter\n                : undefined;\n        }\n        const ctx = createCoreContext(ctxOptions);\n        _isGlobal && setFallbackContext(ctx);\n        return ctx;\n    };\n    _context = getCoreContext();\n    updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n    // track reactivity\n    function trackReactivityValues() {\n        return [\n                _locale.value,\n                _fallbackLocale.value,\n                _messages.value,\n                _datetimeFormats.value,\n                _numberFormats.value\n            ]\n            ;\n    }\n    // locale\n    const locale = computed({\n        get: () => _locale.value,\n        set: val => {\n            _locale.value = val;\n            _context.locale = _locale.value;\n        }\n    });\n    // fallbackLocale\n    const fallbackLocale = computed({\n        get: () => _fallbackLocale.value,\n        set: val => {\n            _fallbackLocale.value = val;\n            _context.fallbackLocale = _fallbackLocale.value;\n            updateFallbackLocale(_context, _locale.value, val);\n        }\n    });\n    // messages\n    const messages = computed(() => _messages.value);\n    // datetimeFormats\n    const datetimeFormats = /* #__PURE__*/ computed(() => _datetimeFormats.value);\n    // numberFormats\n    const numberFormats = /* #__PURE__*/ computed(() => _numberFormats.value);\n    // getPostTranslationHandler\n    function getPostTranslationHandler() {\n        return isFunction(_postTranslation) ? _postTranslation : null;\n    }\n    // setPostTranslationHandler\n    function setPostTranslationHandler(handler) {\n        _postTranslation = handler;\n        _context.postTranslation = handler;\n    }\n    // getMissingHandler\n    function getMissingHandler() {\n        return _missing;\n    }\n    // setMissingHandler\n    function setMissingHandler(handler) {\n        if (handler !== null) {\n            _runtimeMissing = defineCoreMissingHandler(handler);\n        }\n        _missing = handler;\n        _context.missing = _runtimeMissing;\n    }\n    function isResolvedTranslateMessage(type, arg) {\n        return type !== 'translate' || !arg.resolvedMessage;\n    }\n    const wrapWithDeps = (fn, argumentParser, warnType, fallbackSuccess, fallbackFail, successCondition) => {\n        trackReactivityValues(); // track reactive dependency\n        // NOTE: experimental !!\n        let ret;\n        try {\n            if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\n                setAdditionalMeta(getMetaInfo());\n            }\n            if (!_isGlobal) {\n                _context.fallbackContext = __root\n                    ? getFallbackContext()\n                    : undefined;\n            }\n            ret = fn(_context);\n        }\n        finally {\n            if ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\n                setAdditionalMeta(null);\n            }\n            if (!_isGlobal) {\n                _context.fallbackContext = undefined;\n            }\n        }\n        if ((warnType !== 'translate exists' && // for not `te` (e.g `t`)\n            isNumber(ret) &&\n            ret === NOT_REOSLVED) ||\n            (warnType === 'translate exists' && !ret) // for `te`\n        ) {\n            const [key, arg2] = argumentParser();\n            if ((process.env.NODE_ENV !== 'production') &&\n                __root &&\n                isString(key) &&\n                isResolvedTranslateMessage(warnType, arg2)) {\n                if (_fallbackRoot &&\n                    (isTranslateFallbackWarn(_fallbackWarn, key) ||\n                        isTranslateMissingWarn(_missingWarn, key))) {\n                    warn(getWarnMessage(I18nWarnCodes.FALLBACK_TO_ROOT, {\n                        key,\n                        type: warnType\n                    }));\n                }\n                // for vue-devtools timeline event\n                if ((process.env.NODE_ENV !== 'production')) {\n                    const { __v_emitter: emitter } = _context;\n                    if (emitter && _fallbackRoot) {\n                        emitter.emit('fallback', {\n                            type: warnType,\n                            key,\n                            to: 'global',\n                            groupId: `${warnType}:${key}`\n                        });\n                    }\n                }\n            }\n            return __root && _fallbackRoot\n                ? fallbackSuccess(__root)\n                : fallbackFail(key);\n        }\n        else if (successCondition(ret)) {\n            return ret;\n        }\n        else {\n            /* istanbul ignore next */\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_RETURN_TYPE);\n        }\n    };\n    // t\n    function t(...args) {\n        return wrapWithDeps(context => Reflect.apply(translate, null, [context, ...args]), () => parseTranslateArgs(...args), 'translate', root => Reflect.apply(root.t, root, [...args]), key => key, val => isString(val));\n    }\n    // rt\n    function rt(...args) {\n        const [arg1, arg2, arg3] = args;\n        if (arg3 && !isObject(arg3)) {\n            throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\n        }\n        return t(...[arg1, arg2, assign({ resolvedMessage: true }, arg3 || {})]);\n    }\n    // d\n    function d(...args) {\n        return wrapWithDeps(context => Reflect.apply(datetime, null, [context, ...args]), () => parseDateTimeArgs(...args), 'datetime format', root => Reflect.apply(root.d, root, [...args]), () => MISSING_RESOLVE_VALUE, val => isString(val));\n    }\n    // n\n    function n(...args) {\n        return wrapWithDeps(context => Reflect.apply(number, null, [context, ...args]), () => parseNumberArgs(...args), 'number format', root => Reflect.apply(root.n, root, [...args]), () => MISSING_RESOLVE_VALUE, val => isString(val));\n    }\n    // for custom processor\n    function normalize(values) {\n        return values.map(val => isString(val) || isNumber(val) || isBoolean(val)\n            ? createTextNode(String(val))\n            : val);\n    }\n    const interpolate = (val) => val;\n    const processor = {\n        normalize,\n        interpolate,\n        type: 'vnode'\n    };\n    // translateVNode, using for `i18n-t` component\n    function translateVNode(...args) {\n        return wrapWithDeps(context => {\n            let ret;\n            const _context = context;\n            try {\n                _context.processor = processor;\n                ret = Reflect.apply(translate, null, [_context, ...args]);\n            }\n            finally {\n                _context.processor = null;\n            }\n            return ret;\n        }, () => parseTranslateArgs(...args), 'translate', root => root[TranslateVNodeSymbol](...args), key => [createTextNode(key)], val => isArray(val));\n    }\n    // numberParts, using for `i18n-n` component\n    function numberParts(...args) {\n        return wrapWithDeps(context => Reflect.apply(number, null, [context, ...args]), () => parseNumberArgs(...args), 'number format', root => root[NumberPartsSymbol](...args), NOOP_RETURN_ARRAY, val => isString(val) || isArray(val));\n    }\n    // datetimeParts, using for `i18n-d` component\n    function datetimeParts(...args) {\n        return wrapWithDeps(context => Reflect.apply(datetime, null, [context, ...args]), () => parseDateTimeArgs(...args), 'datetime format', root => root[DatetimePartsSymbol](...args), NOOP_RETURN_ARRAY, val => isString(val) || isArray(val));\n    }\n    function setPluralRules(rules) {\n        _pluralRules = rules;\n        _context.pluralRules = _pluralRules;\n    }\n    // te\n    function te(key, locale) {\n        return wrapWithDeps(() => {\n            if (!key) {\n                return false;\n            }\n            const targetLocale = isString(locale) ? locale : _locale.value;\n            const message = getLocaleMessage(targetLocale);\n            const resolved = _context.messageResolver(message, key);\n            return (isMessageAST(resolved) ||\n                isMessageFunction(resolved) ||\n                isString(resolved));\n        }, () => [key], 'translate exists', root => {\n            return Reflect.apply(root.te, root, [key, locale]);\n        }, NOOP_RETURN_FALSE, val => isBoolean(val));\n    }\n    function resolveMessages(key) {\n        let messages = null;\n        const locales = fallbackWithLocaleChain(_context, _fallbackLocale.value, _locale.value);\n        for (let i = 0; i < locales.length; i++) {\n            const targetLocaleMessages = _messages.value[locales[i]] || {};\n            const messageValue = _context.messageResolver(targetLocaleMessages, key);\n            if (messageValue != null) {\n                messages = messageValue;\n                break;\n            }\n        }\n        return messages;\n    }\n    // tm\n    function tm(key) {\n        const messages = resolveMessages(key);\n        // prettier-ignore\n        return messages != null\n            ? messages\n            : __root\n                ? __root.tm(key) || {}\n                : {};\n    }\n    // getLocaleMessage\n    function getLocaleMessage(locale) {\n        return (_messages.value[locale] || {});\n    }\n    // setLocaleMessage\n    function setLocaleMessage(locale, message) {\n        if (flatJson) {\n            const _message = { [locale]: message };\n            for (const key in _message) {\n                if (hasOwn(_message, key)) {\n                    handleFlatJson(_message[key]);\n                }\n            }\n            message = _message[locale];\n        }\n        _messages.value[locale] = message;\n        _context.messages = _messages.value;\n    }\n    // mergeLocaleMessage\n    function mergeLocaleMessage(locale, message) {\n        _messages.value[locale] = _messages.value[locale] || {};\n        const _message = { [locale]: message };\n        if (flatJson) {\n            for (const key in _message) {\n                if (hasOwn(_message, key)) {\n                    handleFlatJson(_message[key]);\n                }\n            }\n        }\n        message = _message[locale];\n        deepCopy(message, _messages.value[locale]);\n        _context.messages = _messages.value;\n    }\n    // getDateTimeFormat\n    function getDateTimeFormat(locale) {\n        return _datetimeFormats.value[locale] || {};\n    }\n    // setDateTimeFormat\n    function setDateTimeFormat(locale, format) {\n        _datetimeFormats.value[locale] = format;\n        _context.datetimeFormats = _datetimeFormats.value;\n        clearDateTimeFormat(_context, locale, format);\n    }\n    // mergeDateTimeFormat\n    function mergeDateTimeFormat(locale, format) {\n        _datetimeFormats.value[locale] = assign(_datetimeFormats.value[locale] || {}, format);\n        _context.datetimeFormats = _datetimeFormats.value;\n        clearDateTimeFormat(_context, locale, format);\n    }\n    // getNumberFormat\n    function getNumberFormat(locale) {\n        return _numberFormats.value[locale] || {};\n    }\n    // setNumberFormat\n    function setNumberFormat(locale, format) {\n        _numberFormats.value[locale] = format;\n        _context.numberFormats = _numberFormats.value;\n        clearNumberFormat(_context, locale, format);\n    }\n    // mergeNumberFormat\n    function mergeNumberFormat(locale, format) {\n        _numberFormats.value[locale] = assign(_numberFormats.value[locale] || {}, format);\n        _context.numberFormats = _numberFormats.value;\n        clearNumberFormat(_context, locale, format);\n    }\n    // for debug\n    composerID++;\n    // watch root locale & fallbackLocale\n    if (__root && inBrowser) {\n        watch(__root.locale, (val) => {\n            if (_inheritLocale) {\n                _locale.value = val;\n                _context.locale = val;\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n            }\n        });\n        watch(__root.fallbackLocale, (val) => {\n            if (_inheritLocale) {\n                _fallbackLocale.value = val;\n                _context.fallbackLocale = val;\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n            }\n        });\n    }\n    // define basic composition API!\n    const composer = {\n        id: composerID,\n        locale,\n        fallbackLocale,\n        get inheritLocale() {\n            return _inheritLocale;\n        },\n        set inheritLocale(val) {\n            _inheritLocale = val;\n            if (val && __root) {\n                _locale.value = __root.locale.value;\n                _fallbackLocale.value = __root.fallbackLocale.value;\n                updateFallbackLocale(_context, _locale.value, _fallbackLocale.value);\n            }\n        },\n        get availableLocales() {\n            return Object.keys(_messages.value).sort();\n        },\n        messages,\n        get modifiers() {\n            return _modifiers;\n        },\n        get pluralRules() {\n            return _pluralRules || {};\n        },\n        get isGlobal() {\n            return _isGlobal;\n        },\n        get missingWarn() {\n            return _missingWarn;\n        },\n        set missingWarn(val) {\n            _missingWarn = val;\n            _context.missingWarn = _missingWarn;\n        },\n        get fallbackWarn() {\n            return _fallbackWarn;\n        },\n        set fallbackWarn(val) {\n            _fallbackWarn = val;\n            _context.fallbackWarn = _fallbackWarn;\n        },\n        get fallbackRoot() {\n            return _fallbackRoot;\n        },\n        set fallbackRoot(val) {\n            _fallbackRoot = val;\n        },\n        get fallbackFormat() {\n            return _fallbackFormat;\n        },\n        set fallbackFormat(val) {\n            _fallbackFormat = val;\n            _context.fallbackFormat = _fallbackFormat;\n        },\n        get warnHtmlMessage() {\n            return _warnHtmlMessage;\n        },\n        set warnHtmlMessage(val) {\n            _warnHtmlMessage = val;\n            _context.warnHtmlMessage = val;\n        },\n        get escapeParameter() {\n            return _escapeParameter;\n        },\n        set escapeParameter(val) {\n            _escapeParameter = val;\n            _context.escapeParameter = val;\n        },\n        t,\n        getLocaleMessage,\n        setLocaleMessage,\n        mergeLocaleMessage,\n        getPostTranslationHandler,\n        setPostTranslationHandler,\n        getMissingHandler,\n        setMissingHandler,\n        [SetPluralRulesSymbol]: setPluralRules\n    };\n    {\n        composer.datetimeFormats = datetimeFormats;\n        composer.numberFormats = numberFormats;\n        composer.rt = rt;\n        composer.te = te;\n        composer.tm = tm;\n        composer.d = d;\n        composer.n = n;\n        composer.getDateTimeFormat = getDateTimeFormat;\n        composer.setDateTimeFormat = setDateTimeFormat;\n        composer.mergeDateTimeFormat = mergeDateTimeFormat;\n        composer.getNumberFormat = getNumberFormat;\n        composer.setNumberFormat = setNumberFormat;\n        composer.mergeNumberFormat = mergeNumberFormat;\n        composer[InejctWithOptionSymbol] = __injectWithOption;\n        composer[TranslateVNodeSymbol] = translateVNode;\n        composer[DatetimePartsSymbol] = datetimeParts;\n        composer[NumberPartsSymbol] = numberParts;\n    }\n    // for vue-devtools timeline event\n    if ((process.env.NODE_ENV !== 'production')) {\n        composer[EnableEmitter] = (emitter) => {\n            _context.__v_emitter = emitter;\n        };\n        composer[DisableEmitter] = () => {\n            _context.__v_emitter = undefined;\n        };\n    }\n    return composer;\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nconst VUE_I18N_COMPONENT_TYPES = 'vue-i18n: composer properties';\nconst VueDevToolsLabels = {\n    'vue-devtools-plugin-vue-i18n': 'Vue I18n DevTools',\n    'vue-i18n-resource-inspector': 'Vue I18n DevTools',\n    'vue-i18n-timeline': 'Vue I18n'\n};\nconst VueDevToolsPlaceholders = {\n    'vue-i18n-resource-inspector': 'Search for scopes ...'\n};\nconst VueDevToolsTimelineColors = {\n    'vue-i18n-timeline': 0xffcd19\n};\nlet devtoolsApi;\nasync function enableDevTools(app, i18n) {\n    return new Promise((resolve, reject) => {\n        try {\n            setupDevtoolsPlugin({\n                id: 'vue-devtools-plugin-vue-i18n',\n                label: VueDevToolsLabels['vue-devtools-plugin-vue-i18n'],\n                packageName: 'vue-i18n',\n                homepage: 'https://vue-i18n.intlify.dev',\n                logo: 'https://vue-i18n.intlify.dev/vue-i18n-devtools-logo.png',\n                componentStateTypes: [VUE_I18N_COMPONENT_TYPES],\n                app: app // eslint-disable-line @typescript-eslint/no-explicit-any\n            }, api => {\n                devtoolsApi = api;\n                api.on.visitComponentTree(({ componentInstance, treeNode }) => {\n                    updateComponentTreeTags(componentInstance, treeNode, i18n);\n                });\n                api.on.inspectComponent(({ componentInstance, instanceData }) => {\n                    if (componentInstance.vnode.el &&\n                        componentInstance.vnode.el.__VUE_I18N__ &&\n                        instanceData) {\n                        if (i18n.mode === 'legacy') {\n                            // ignore global scope on legacy mode\n                            if (componentInstance.vnode.el.__VUE_I18N__ !==\n                                i18n.global.__composer) {\n                                inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);\n                            }\n                        }\n                        else {\n                            inspectComposer(instanceData, componentInstance.vnode.el.__VUE_I18N__);\n                        }\n                    }\n                });\n                api.addInspector({\n                    id: 'vue-i18n-resource-inspector',\n                    label: VueDevToolsLabels['vue-i18n-resource-inspector'],\n                    icon: 'language',\n                    treeFilterPlaceholder: VueDevToolsPlaceholders['vue-i18n-resource-inspector']\n                });\n                api.on.getInspectorTree(payload => {\n                    if (payload.app === app &&\n                        payload.inspectorId === 'vue-i18n-resource-inspector') {\n                        registerScope(payload, i18n);\n                    }\n                });\n                const roots = new Map();\n                api.on.getInspectorState(async (payload) => {\n                    if (payload.app === app &&\n                        payload.inspectorId === 'vue-i18n-resource-inspector') {\n                        api.unhighlightElement();\n                        inspectScope(payload, i18n);\n                        if (payload.nodeId === 'global') {\n                            if (!roots.has(payload.app)) {\n                                const [root] = await api.getComponentInstances(payload.app);\n                                roots.set(payload.app, root);\n                            }\n                            api.highlightElement(roots.get(payload.app));\n                        }\n                        else {\n                            const instance = getComponentInstance(payload.nodeId, i18n);\n                            instance && api.highlightElement(instance);\n                        }\n                    }\n                });\n                api.on.editInspectorState(payload => {\n                    if (payload.app === app &&\n                        payload.inspectorId === 'vue-i18n-resource-inspector') {\n                        editScope(payload, i18n);\n                    }\n                });\n                api.addTimelineLayer({\n                    id: 'vue-i18n-timeline',\n                    label: VueDevToolsLabels['vue-i18n-timeline'],\n                    color: VueDevToolsTimelineColors['vue-i18n-timeline']\n                });\n                resolve(true);\n            });\n        }\n        catch (e) {\n            console.error(e);\n            // eslint-disable-next-line @typescript-eslint/prefer-promise-reject-errors\n            reject(false);\n        }\n    });\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getI18nScopeLable(instance) {\n    return (instance.type.name ||\n        instance.type.displayName ||\n        instance.type.__file ||\n        'Anonymous');\n}\nfunction updateComponentTreeTags(instance, // eslint-disable-line @typescript-eslint/no-explicit-any\ntreeNode, i18n) {\n    // prettier-ignore\n    const global = i18n.mode === 'composition'\n        ? i18n.global\n        : i18n.global.__composer;\n    if (instance && instance.vnode.el && instance.vnode.el.__VUE_I18N__) {\n        // add custom tags local scope only\n        if (instance.vnode.el.__VUE_I18N__ !== global) {\n            const tag = {\n                label: `i18n (${getI18nScopeLable(instance)} Scope)`,\n                textColor: 0x000000,\n                backgroundColor: 0xffcd19\n            };\n            treeNode.tags.push(tag);\n        }\n    }\n}\nfunction inspectComposer(instanceData, composer) {\n    const type = VUE_I18N_COMPONENT_TYPES;\n    instanceData.state.push({\n        type,\n        key: 'locale',\n        editable: true,\n        value: composer.locale.value\n    });\n    instanceData.state.push({\n        type,\n        key: 'availableLocales',\n        editable: false,\n        value: composer.availableLocales\n    });\n    instanceData.state.push({\n        type,\n        key: 'fallbackLocale',\n        editable: true,\n        value: composer.fallbackLocale.value\n    });\n    instanceData.state.push({\n        type,\n        key: 'inheritLocale',\n        editable: true,\n        value: composer.inheritLocale\n    });\n    instanceData.state.push({\n        type,\n        key: 'messages',\n        editable: false,\n        value: getLocaleMessageValue(composer.messages.value)\n    });\n    {\n        instanceData.state.push({\n            type,\n            key: 'datetimeFormats',\n            editable: false,\n            value: composer.datetimeFormats.value\n        });\n        instanceData.state.push({\n            type,\n            key: 'numberFormats',\n            editable: false,\n            value: composer.numberFormats.value\n        });\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getLocaleMessageValue(messages) {\n    const value = {};\n    Object.keys(messages).forEach((key) => {\n        const v = messages[key];\n        if (isFunction(v) && 'source' in v) {\n            value[key] = getMessageFunctionDetails(v);\n        }\n        else if (isMessageAST(v) && v.loc && v.loc.source) {\n            value[key] = v.loc.source;\n        }\n        else if (isObject(v)) {\n            value[key] = getLocaleMessageValue(v);\n        }\n        else {\n            value[key] = v;\n        }\n    });\n    return value;\n}\nconst ESC = {\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    '&': '&amp;'\n};\nfunction escape(s) {\n    return s.replace(/[<>\"&]/g, escapeChar);\n}\nfunction escapeChar(a) {\n    return ESC[a] || a;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getMessageFunctionDetails(func) {\n    const argString = func.source ? `(\"${escape(func.source)}\")` : `(?)`;\n    return {\n        _custom: {\n            type: 'function',\n            display: `<span></span> ${argString}`\n        }\n    };\n}\nfunction registerScope(payload, i18n) {\n    payload.rootNodes.push({\n        id: 'global',\n        label: 'Global Scope'\n    });\n    // prettier-ignore\n    const global = i18n.mode === 'composition'\n        ? i18n.global\n        : i18n.global.__composer;\n    for (const [keyInstance, instance] of i18n.__instances) {\n        // prettier-ignore\n        const composer = i18n.mode === 'composition'\n            ? instance\n            : instance.__composer;\n        if (global === composer) {\n            continue;\n        }\n        payload.rootNodes.push({\n            id: composer.id.toString(),\n            label: `${getI18nScopeLable(keyInstance)} Scope`\n        });\n    }\n}\nfunction getComponentInstance(nodeId, i18n) {\n    let instance = null;\n    if (nodeId !== 'global') {\n        for (const [component, composer] of i18n.__instances.entries()) {\n            if (composer.id.toString() === nodeId) {\n                instance = component;\n                break;\n            }\n        }\n    }\n    return instance;\n}\nfunction getComposer$2(nodeId, i18n) {\n    if (nodeId === 'global') {\n        return i18n.mode === 'composition'\n            ? i18n.global\n            : i18n.global.__composer;\n    }\n    else {\n        const instance = Array.from(i18n.__instances.values()).find(item => item.id.toString() === nodeId);\n        if (instance) {\n            return i18n.mode === 'composition'\n                ? instance\n                : instance.__composer;\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction inspectScope(payload, i18n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    const composer = getComposer$2(payload.nodeId, i18n);\n    if (composer) {\n        // TODO:\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        payload.state = makeScopeInspectState(composer);\n    }\n    return null;\n}\nfunction makeScopeInspectState(composer) {\n    const state = {};\n    const localeType = 'Locale related info';\n    const localeStates = [\n        {\n            type: localeType,\n            key: 'locale',\n            editable: true,\n            value: composer.locale.value\n        },\n        {\n            type: localeType,\n            key: 'fallbackLocale',\n            editable: true,\n            value: composer.fallbackLocale.value\n        },\n        {\n            type: localeType,\n            key: 'availableLocales',\n            editable: false,\n            value: composer.availableLocales\n        },\n        {\n            type: localeType,\n            key: 'inheritLocale',\n            editable: true,\n            value: composer.inheritLocale\n        }\n    ];\n    state[localeType] = localeStates;\n    const localeMessagesType = 'Locale messages info';\n    const localeMessagesStates = [\n        {\n            type: localeMessagesType,\n            key: 'messages',\n            editable: false,\n            value: getLocaleMessageValue(composer.messages.value)\n        }\n    ];\n    state[localeMessagesType] = localeMessagesStates;\n    {\n        const datetimeFormatsType = 'Datetime formats info';\n        const datetimeFormatsStates = [\n            {\n                type: datetimeFormatsType,\n                key: 'datetimeFormats',\n                editable: false,\n                value: composer.datetimeFormats.value\n            }\n        ];\n        state[datetimeFormatsType] = datetimeFormatsStates;\n        const numberFormatsType = 'Datetime formats info';\n        const numberFormatsStates = [\n            {\n                type: numberFormatsType,\n                key: 'numberFormats',\n                editable: false,\n                value: composer.numberFormats.value\n            }\n        ];\n        state[numberFormatsType] = numberFormatsStates;\n    }\n    return state;\n}\nfunction addTimelineEvent(event, payload) {\n    if (devtoolsApi) {\n        let groupId;\n        if (payload && 'groupId' in payload) {\n            groupId = payload.groupId;\n            delete payload.groupId;\n        }\n        devtoolsApi.addTimelineEvent({\n            layerId: 'vue-i18n-timeline',\n            event: {\n                title: event,\n                groupId,\n                time: Date.now(),\n                meta: {},\n                data: payload || {},\n                logType: event === 'compile-error'\n                    ? 'error'\n                    : event === 'fallback' || event === 'missing'\n                        ? 'warning'\n                        : 'default'\n            }\n        });\n    }\n}\nfunction editScope(payload, i18n) {\n    const composer = getComposer$2(payload.nodeId, i18n);\n    if (composer) {\n        const [field] = payload.path;\n        if (field === 'locale' && isString(payload.state.value)) {\n            composer.locale.value = payload.state.value;\n        }\n        else if (field === 'fallbackLocale' &&\n            (isString(payload.state.value) ||\n                isArray(payload.state.value) ||\n                isObject(payload.state.value))) {\n            composer.fallbackLocale.value = payload.state.value;\n        }\n        else if (field === 'inheritLocale' && isBoolean(payload.state.value)) {\n            composer.inheritLocale = payload.state.value;\n        }\n    }\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\n/**\n * Convert to I18n Composer Options from VueI18n Options\n *\n * @internal\n */\nfunction convertComposerOptions(options) {\n    const locale = isString(options.locale) ? options.locale : DEFAULT_LOCALE;\n    const fallbackLocale = isString(options.fallbackLocale) ||\n        isArray(options.fallbackLocale) ||\n        isPlainObject(options.fallbackLocale) ||\n        options.fallbackLocale === false\n        ? options.fallbackLocale\n        : locale;\n    const missing = isFunction(options.missing) ? options.missing : undefined;\n    const missingWarn = isBoolean(options.silentTranslationWarn) ||\n        isRegExp(options.silentTranslationWarn)\n        ? !options.silentTranslationWarn\n        : true;\n    const fallbackWarn = isBoolean(options.silentFallbackWarn) ||\n        isRegExp(options.silentFallbackWarn)\n        ? !options.silentFallbackWarn\n        : true;\n    const fallbackRoot = isBoolean(options.fallbackRoot)\n        ? options.fallbackRoot\n        : true;\n    const fallbackFormat = !!options.formatFallbackMessages;\n    const modifiers = isPlainObject(options.modifiers) ? options.modifiers : {};\n    const pluralizationRules = options.pluralizationRules;\n    const postTranslation = isFunction(options.postTranslation)\n        ? options.postTranslation\n        : undefined;\n    const warnHtmlMessage = isString(options.warnHtmlInMessage)\n        ? options.warnHtmlInMessage !== 'off'\n        : true;\n    const escapeParameter = !!options.escapeParameterHtml;\n    const inheritLocale = isBoolean(options.sync) ? options.sync : true;\n    let messages = options.messages;\n    if (isPlainObject(options.sharedMessages)) {\n        const sharedMessages = options.sharedMessages;\n        const locales = Object.keys(sharedMessages);\n        messages = locales.reduce((messages, locale) => {\n            const message = messages[locale] || (messages[locale] = {});\n            assign(message, sharedMessages[locale]);\n            return messages;\n        }, (messages || {}));\n    }\n    const { __i18n, __root, __injectWithOption } = options;\n    const datetimeFormats = options.datetimeFormats;\n    const numberFormats = options.numberFormats;\n    const flatJson = options.flatJson;\n    return {\n        locale,\n        fallbackLocale,\n        messages,\n        flatJson,\n        datetimeFormats,\n        numberFormats,\n        missing,\n        missingWarn,\n        fallbackWarn,\n        fallbackRoot,\n        fallbackFormat,\n        modifiers,\n        pluralRules: pluralizationRules,\n        postTranslation,\n        warnHtmlMessage,\n        escapeParameter,\n        messageResolver: options.messageResolver,\n        inheritLocale,\n        __i18n,\n        __root,\n        __injectWithOption\n    };\n}\n/**\n * create VueI18n interface factory\n *\n * @internal\n */\nfunction createVueI18n(options = {}) {\n    const composer = createComposer(convertComposerOptions(options));\n    const { __extender } = options;\n    // defines VueI18n\n    const vueI18n = {\n        // id\n        id: composer.id,\n        // locale\n        get locale() {\n            return composer.locale.value;\n        },\n        set locale(val) {\n            composer.locale.value = val;\n        },\n        // fallbackLocale\n        get fallbackLocale() {\n            return composer.fallbackLocale.value;\n        },\n        set fallbackLocale(val) {\n            composer.fallbackLocale.value = val;\n        },\n        // messages\n        get messages() {\n            return composer.messages.value;\n        },\n        // datetimeFormats\n        get datetimeFormats() {\n            return composer.datetimeFormats.value;\n        },\n        // numberFormats\n        get numberFormats() {\n            return composer.numberFormats.value;\n        },\n        // availableLocales\n        get availableLocales() {\n            return composer.availableLocales;\n        },\n        // missing\n        get missing() {\n            return composer.getMissingHandler();\n        },\n        set missing(handler) {\n            composer.setMissingHandler(handler);\n        },\n        // silentTranslationWarn\n        get silentTranslationWarn() {\n            return isBoolean(composer.missingWarn)\n                ? !composer.missingWarn\n                : composer.missingWarn;\n        },\n        set silentTranslationWarn(val) {\n            composer.missingWarn = isBoolean(val) ? !val : val;\n        },\n        // silentFallbackWarn\n        get silentFallbackWarn() {\n            return isBoolean(composer.fallbackWarn)\n                ? !composer.fallbackWarn\n                : composer.fallbackWarn;\n        },\n        set silentFallbackWarn(val) {\n            composer.fallbackWarn = isBoolean(val) ? !val : val;\n        },\n        // modifiers\n        get modifiers() {\n            return composer.modifiers;\n        },\n        // formatFallbackMessages\n        get formatFallbackMessages() {\n            return composer.fallbackFormat;\n        },\n        set formatFallbackMessages(val) {\n            composer.fallbackFormat = val;\n        },\n        // postTranslation\n        get postTranslation() {\n            return composer.getPostTranslationHandler();\n        },\n        set postTranslation(handler) {\n            composer.setPostTranslationHandler(handler);\n        },\n        // sync\n        get sync() {\n            return composer.inheritLocale;\n        },\n        set sync(val) {\n            composer.inheritLocale = val;\n        },\n        // warnInHtmlMessage\n        get warnHtmlInMessage() {\n            return composer.warnHtmlMessage ? 'warn' : 'off';\n        },\n        set warnHtmlInMessage(val) {\n            composer.warnHtmlMessage = val !== 'off';\n        },\n        // escapeParameterHtml\n        get escapeParameterHtml() {\n            return composer.escapeParameter;\n        },\n        set escapeParameterHtml(val) {\n            composer.escapeParameter = val;\n        },\n        // pluralizationRules\n        get pluralizationRules() {\n            return composer.pluralRules || {};\n        },\n        // for internal\n        __composer: composer,\n        // t\n        t(...args) {\n            return Reflect.apply(composer.t, composer, [...args]);\n        },\n        // rt\n        rt(...args) {\n            return Reflect.apply(composer.rt, composer, [...args]);\n        },\n        // tc\n        tc(...args) {\n            const [arg1, arg2, arg3] = args;\n            const options = { plural: 1 };\n            let list = null;\n            let named = null;\n            if ((process.env.NODE_ENV !== 'production')) {\n                warnOnce(getWarnMessage(I18nWarnCodes.DEPRECATE_TC));\n            }\n            if (!isString(arg1)) {\n                throw createI18nError(I18nErrorCodes.INVALID_ARGUMENT);\n            }\n            const key = arg1;\n            if (isString(arg2)) {\n                options.locale = arg2;\n            }\n            else if (isNumber(arg2)) {\n                options.plural = arg2;\n            }\n            else if (isArray(arg2)) {\n                list = arg2;\n            }\n            else if (isPlainObject(arg2)) {\n                named = arg2;\n            }\n            if (isString(arg3)) {\n                options.locale = arg3;\n            }\n            else if (isArray(arg3)) {\n                list = arg3;\n            }\n            else if (isPlainObject(arg3)) {\n                named = arg3;\n            }\n            // return composer.t(key, (list || named || {}) as any, options)\n            return Reflect.apply(composer.t, composer, [\n                key,\n                (list || named || {}),\n                options\n            ]);\n        },\n        // te\n        te(key, locale) {\n            return composer.te(key, locale);\n        },\n        // tm\n        tm(key) {\n            return composer.tm(key);\n        },\n        // getLocaleMessage\n        getLocaleMessage(locale) {\n            return composer.getLocaleMessage(locale);\n        },\n        // setLocaleMessage\n        setLocaleMessage(locale, message) {\n            composer.setLocaleMessage(locale, message);\n        },\n        // mergeLocaleMessage\n        mergeLocaleMessage(locale, message) {\n            composer.mergeLocaleMessage(locale, message);\n        },\n        // d\n        d(...args) {\n            return Reflect.apply(composer.d, composer, [...args]);\n        },\n        // getDateTimeFormat\n        getDateTimeFormat(locale) {\n            return composer.getDateTimeFormat(locale);\n        },\n        // setDateTimeFormat\n        setDateTimeFormat(locale, format) {\n            composer.setDateTimeFormat(locale, format);\n        },\n        // mergeDateTimeFormat\n        mergeDateTimeFormat(locale, format) {\n            composer.mergeDateTimeFormat(locale, format);\n        },\n        // n\n        n(...args) {\n            return Reflect.apply(composer.n, composer, [...args]);\n        },\n        // getNumberFormat\n        getNumberFormat(locale) {\n            return composer.getNumberFormat(locale);\n        },\n        // setNumberFormat\n        setNumberFormat(locale, format) {\n            composer.setNumberFormat(locale, format);\n        },\n        // mergeNumberFormat\n        mergeNumberFormat(locale, format) {\n            composer.mergeNumberFormat(locale, format);\n        }\n    };\n    vueI18n.__extender = __extender;\n    // for vue-devtools timeline event\n    if ((process.env.NODE_ENV !== 'production')) {\n        vueI18n.__enableEmitter = (emitter) => {\n            const __composer = composer;\n            __composer[EnableEmitter] && __composer[EnableEmitter](emitter);\n        };\n        vueI18n.__disableEmitter = () => {\n            const __composer = composer;\n            __composer[DisableEmitter] && __composer[DisableEmitter]();\n        };\n    }\n    return vueI18n;\n}\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\n/**\n * Supports compatibility for legacy vue-i18n APIs\n * This mixin is used when we use vue-i18n@v9.x or later\n */\nfunction defineMixin(vuei18n, composer, i18n) {\n    return {\n        beforeCreate() {\n            const instance = getCurrentInstance();\n            /* istanbul ignore if */\n            if (!instance) {\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n            }\n            const options = this.$options;\n            if (options.i18n) {\n                const optionsI18n = options.i18n;\n                if (options.__i18n) {\n                    optionsI18n.__i18n = options.__i18n;\n                }\n                optionsI18n.__root = composer;\n                if (this === this.$root) {\n                    // merge option and gttach global\n                    this.$i18n = mergeToGlobal(vuei18n, optionsI18n);\n                }\n                else {\n                    optionsI18n.__injectWithOption = true;\n                    optionsI18n.__extender = i18n.__vueI18nExtend;\n                    // atttach local VueI18n instance\n                    this.$i18n = createVueI18n(optionsI18n);\n                    // extend VueI18n instance\n                    const _vueI18n = this.$i18n;\n                    if (_vueI18n.__extender) {\n                        _vueI18n.__disposer = _vueI18n.__extender(this.$i18n);\n                    }\n                }\n            }\n            else if (options.__i18n) {\n                if (this === this.$root) {\n                    // merge option and gttach global\n                    this.$i18n = mergeToGlobal(vuei18n, options);\n                }\n                else {\n                    // atttach local VueI18n instance\n                    this.$i18n = createVueI18n({\n                        __i18n: options.__i18n,\n                        __injectWithOption: true,\n                        __extender: i18n.__vueI18nExtend,\n                        __root: composer\n                    });\n                    // extend VueI18n instance\n                    const _vueI18n = this.$i18n;\n                    if (_vueI18n.__extender) {\n                        _vueI18n.__disposer = _vueI18n.__extender(this.$i18n);\n                    }\n                }\n            }\n            else {\n                // attach global VueI18n instance\n                this.$i18n = vuei18n;\n            }\n            if (options.__i18nGlobal) {\n                adjustI18nResources(composer, options, options);\n            }\n            // defines vue-i18n legacy APIs\n            this.$t = (...args) => this.$i18n.t(...args);\n            this.$rt = (...args) => this.$i18n.rt(...args);\n            this.$tc = (...args) => this.$i18n.tc(...args);\n            this.$te = (key, locale) => this.$i18n.te(key, locale);\n            this.$d = (...args) => this.$i18n.d(...args);\n            this.$n = (...args) => this.$i18n.n(...args);\n            this.$tm = (key) => this.$i18n.tm(key);\n            i18n.__setInstance(instance, this.$i18n);\n        },\n        mounted() {\n            /* istanbul ignore if */\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\n                !false &&\n                this.$el &&\n                this.$i18n) {\n                const _vueI18n = this.$i18n;\n                this.$el.__VUE_I18N__ = _vueI18n.__composer;\n                const emitter = (this.__v_emitter =\n                    createEmitter());\n                _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);\n                emitter.on('*', addTimelineEvent);\n            }\n        },\n        unmounted() {\n            const instance = getCurrentInstance();\n            /* istanbul ignore if */\n            if (!instance) {\n                throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n            }\n            const _vueI18n = this.$i18n;\n            /* istanbul ignore if */\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\n                !false &&\n                this.$el &&\n                this.$el.__VUE_I18N__) {\n                if (this.__v_emitter) {\n                    this.__v_emitter.off('*', addTimelineEvent);\n                    delete this.__v_emitter;\n                }\n                if (this.$i18n) {\n                    _vueI18n.__disableEmitter && _vueI18n.__disableEmitter();\n                    delete this.$el.__VUE_I18N__;\n                }\n            }\n            delete this.$t;\n            delete this.$rt;\n            delete this.$tc;\n            delete this.$te;\n            delete this.$d;\n            delete this.$n;\n            delete this.$tm;\n            if (_vueI18n.__disposer) {\n                _vueI18n.__disposer();\n                delete _vueI18n.__disposer;\n                delete _vueI18n.__extender;\n            }\n            i18n.__deleteInstance(instance);\n            delete this.$i18n;\n        }\n    };\n}\nfunction mergeToGlobal(g, options) {\n    g.locale = options.locale || g.locale;\n    g.fallbackLocale = options.fallbackLocale || g.fallbackLocale;\n    g.missing = options.missing || g.missing;\n    g.silentTranslationWarn =\n        options.silentTranslationWarn || g.silentFallbackWarn;\n    g.silentFallbackWarn = options.silentFallbackWarn || g.silentFallbackWarn;\n    g.formatFallbackMessages =\n        options.formatFallbackMessages || g.formatFallbackMessages;\n    g.postTranslation = options.postTranslation || g.postTranslation;\n    g.warnHtmlInMessage = options.warnHtmlInMessage || g.warnHtmlInMessage;\n    g.escapeParameterHtml = options.escapeParameterHtml || g.escapeParameterHtml;\n    g.sync = options.sync || g.sync;\n    g.__composer[SetPluralRulesSymbol](options.pluralizationRules || g.pluralizationRules);\n    const messages = getLocaleMessages(g.locale, {\n        messages: options.messages,\n        __i18n: options.__i18n\n    });\n    Object.keys(messages).forEach(locale => g.mergeLocaleMessage(locale, messages[locale]));\n    if (options.datetimeFormats) {\n        Object.keys(options.datetimeFormats).forEach(locale => g.mergeDateTimeFormat(locale, options.datetimeFormats[locale]));\n    }\n    if (options.numberFormats) {\n        Object.keys(options.numberFormats).forEach(locale => g.mergeNumberFormat(locale, options.numberFormats[locale]));\n    }\n    return g;\n}\n\nconst baseFormatProps = {\n    tag: {\n        type: [String, Object]\n    },\n    locale: {\n        type: String\n    },\n    scope: {\n        type: String,\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\n        validator: (val /* ComponentI18nScope */) => val === 'parent' || val === 'global',\n        default: 'parent' /* ComponentI18nScope */\n    },\n    i18n: {\n        type: Object\n    }\n};\n\nfunction getInterpolateArg(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n{ slots }, // SetupContext,\nkeys) {\n    if (keys.length === 1 && keys[0] === 'default') {\n        // default slot with list\n        const ret = slots.default ? slots.default() : [];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return ret.reduce((slot, current) => {\n            return [\n                ...slot,\n                // prettier-ignore\n                ...(current.type === Fragment ? current.children : [current])\n            ];\n        }, []);\n    }\n    else {\n        // named slots\n        return keys.reduce((arg, key) => {\n            const slot = slots[key];\n            if (slot) {\n                arg[key] = slot();\n            }\n            return arg;\n        }, create());\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getFragmentableTag() {\n    return Fragment;\n}\n\nconst TranslationImpl = /*#__PURE__*/ defineComponent({\n    /* eslint-disable */\n    name: 'i18n-t',\n    props: assign({\n        keypath: {\n            type: String,\n            required: true\n        },\n        plural: {\n            type: [Number, String],\n            validator: (val) => isNumber(val) || !isNaN(val)\n        }\n    }, baseFormatProps),\n    /* eslint-enable */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    setup(props, context) {\n        const { slots, attrs } = context;\n        // NOTE: avoid https://github.com/microsoft/rushstack/issues/1050\n        const i18n = props.i18n ||\n            useI18n({\n                useScope: props.scope,\n                __useComponent: true\n            });\n        return () => {\n            const keys = Object.keys(slots).filter(key => key !== '_');\n            const options = create();\n            if (props.locale) {\n                options.locale = props.locale;\n            }\n            if (props.plural !== undefined) {\n                options.plural = isString(props.plural) ? +props.plural : props.plural;\n            }\n            const arg = getInterpolateArg(context, keys);\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const children = i18n[TranslateVNodeSymbol](props.keypath, arg, options);\n            const assignedAttrs = assign(create(), attrs);\n            const tag = isString(props.tag) || isObject(props.tag)\n                ? props.tag\n                : getFragmentableTag();\n            return h(tag, assignedAttrs, children);\n        };\n    }\n});\n/**\n * export the public type for h/tsx inference\n * also to avoid inline import() in generated d.ts files\n */\n/**\n * Translation Component\n *\n * @remarks\n * See the following items for property about details\n *\n * @VueI18nSee [TranslationProps](component#translationprops)\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\n * @VueI18nSee [Component Interpolation](../guide/advanced/component)\n *\n * @example\n * ```html\n * <div id=\"app\">\n *   <!-- ... -->\n *   <i18n keypath=\"term\" tag=\"label\" for=\"tos\">\n *     <a :href=\"url\" target=\"_blank\">{{ $t('tos') }}</a>\n *   </i18n>\n *   <!-- ... -->\n * </div>\n * ```\n * ```js\n * import { createApp } from 'vue'\n * import { createI18n } from 'vue-i18n'\n *\n * const messages = {\n *   en: {\n *     tos: 'Term of Service',\n *     term: 'I accept xxx {0}.'\n *   },\n *   ja: {\n *     tos: '',\n *     term: ' xxx {0}'\n *   }\n * }\n *\n * const i18n = createI18n({\n *   locale: 'en',\n *   messages\n * })\n *\n * const app = createApp({\n *   data: {\n *     url: '/term'\n *   }\n * }).use(i18n).mount('#app')\n * ```\n *\n * @VueI18nComponent\n */\nconst Translation = TranslationImpl;\nconst I18nT = Translation;\n\nfunction isVNode(target) {\n    return isArray(target) && !isString(target[0]);\n}\nfunction renderFormatter(props, context, slotKeys, partFormatter) {\n    const { slots, attrs } = context;\n    return () => {\n        const options = { part: true };\n        let overrides = create();\n        if (props.locale) {\n            options.locale = props.locale;\n        }\n        if (isString(props.format)) {\n            options.key = props.format;\n        }\n        else if (isObject(props.format)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (isString(props.format.key)) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                options.key = props.format.key;\n            }\n            // Filter out number format options only\n            overrides = Object.keys(props.format).reduce((options, prop) => {\n                return slotKeys.includes(prop)\n                    ? assign(create(), options, { [prop]: props.format[prop] }) // eslint-disable-line @typescript-eslint/no-explicit-any\n                    : options;\n            }, create());\n        }\n        const parts = partFormatter(...[props.value, options, overrides]);\n        let children = [options.key];\n        if (isArray(parts)) {\n            children = parts.map((part, index) => {\n                const slot = slots[part.type];\n                const node = slot\n                    ? slot({ [part.type]: part.value, index, parts })\n                    : [part.value];\n                if (isVNode(node)) {\n                    node[0].key = `${part.type}-${index}`;\n                }\n                return node;\n            });\n        }\n        else if (isString(parts)) {\n            children = [parts];\n        }\n        const assignedAttrs = assign(create(), attrs);\n        const tag = isString(props.tag) || isObject(props.tag)\n            ? props.tag\n            : getFragmentableTag();\n        return h(tag, assignedAttrs, children);\n    };\n}\n\nconst NumberFormatImpl = /*#__PURE__*/ defineComponent({\n    /* eslint-disable */\n    name: 'i18n-n',\n    props: assign({\n        value: {\n            type: Number,\n            required: true\n        },\n        format: {\n            type: [String, Object]\n        }\n    }, baseFormatProps),\n    /* eslint-enable */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    setup(props, context) {\n        const i18n = props.i18n ||\n            useI18n({\n                useScope: props.scope,\n                __useComponent: true\n            });\n        return renderFormatter(props, context, NUMBER_FORMAT_OPTIONS_KEYS, (...args) => \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        i18n[NumberPartsSymbol](...args));\n    }\n});\n/**\n * export the public type for h/tsx inference\n * also to avoid inline import() in generated d.ts files\n */\n/**\n * Number Format Component\n *\n * @remarks\n * See the following items for property about details\n *\n * @VueI18nSee [FormattableProps](component#formattableprops)\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\n * @VueI18nSee [Custom Formatting](../guide/essentials/number#custom-formatting)\n *\n * @VueI18nDanger\n * Not supported IE, due to no support `Intl.NumberFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/NumberFormat/formatToParts)\n *\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-numberformat)\n *\n * @VueI18nComponent\n */\nconst NumberFormat = NumberFormatImpl;\nconst I18nN = NumberFormat;\n\nconst DatetimeFormatImpl = /* #__PURE__*/ defineComponent({\n    /* eslint-disable */\n    name: 'i18n-d',\n    props: assign({\n        value: {\n            type: [Number, Date],\n            required: true\n        },\n        format: {\n            type: [String, Object]\n        }\n    }, baseFormatProps),\n    /* eslint-enable */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    setup(props, context) {\n        const i18n = props.i18n ||\n            useI18n({\n                useScope: props.scope,\n                __useComponent: true\n            });\n        return renderFormatter(props, context, DATETIME_FORMAT_OPTIONS_KEYS, (...args) => \n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        i18n[DatetimePartsSymbol](...args));\n    }\n});\n/**\n * Datetime Format Component\n *\n * @remarks\n * See the following items for property about details\n *\n * @VueI18nSee [FormattableProps](component#formattableprops)\n * @VueI18nSee [BaseFormatProps](component#baseformatprops)\n * @VueI18nSee [Custom Formatting](../guide/essentials/datetime#custom-formatting)\n *\n * @VueI18nDanger\n * Not supported IE, due to no support `Intl.DateTimeFormat#formatToParts` in [IE](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Intl/DateTimeFormat/formatToParts)\n *\n * If you want to use it, you need to use [polyfill](https://github.com/formatjs/formatjs/tree/main/packages/intl-datetimeformat)\n *\n * @VueI18nComponent\n */\nconst DatetimeFormat = DatetimeFormatImpl;\nconst I18nD = DatetimeFormat;\n\nfunction getComposer$1(i18n, instance) {\n    const i18nInternal = i18n;\n    if (i18n.mode === 'composition') {\n        return (i18nInternal.__getInstance(instance) || i18n.global);\n    }\n    else {\n        const vueI18n = i18nInternal.__getInstance(instance);\n        return vueI18n != null\n            ? vueI18n.__composer\n            : i18n.global.__composer;\n    }\n}\nfunction vTDirective(i18n) {\n    const _process = (binding) => {\n        const { instance, value } = binding;\n        /* istanbul ignore if */\n        if (!instance || !instance.$) {\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n        }\n        const composer = getComposer$1(i18n, instance.$);\n        const parsedValue = parseValue(value);\n        return [\n            Reflect.apply(composer.t, composer, [...makeParams(parsedValue)]),\n            composer\n        ];\n    };\n    const register = (el, binding) => {\n        const [textContent, composer] = _process(binding);\n        if (inBrowser && i18n.global === composer) {\n            // global scope only\n            el.__i18nWatcher = watch(composer.locale, () => {\n                binding.instance && binding.instance.$forceUpdate();\n            });\n        }\n        el.__composer = composer;\n        el.textContent = textContent;\n    };\n    const unregister = (el) => {\n        if (inBrowser && el.__i18nWatcher) {\n            el.__i18nWatcher();\n            el.__i18nWatcher = undefined;\n            delete el.__i18nWatcher;\n        }\n        if (el.__composer) {\n            el.__composer = undefined;\n            delete el.__composer;\n        }\n    };\n    const update = (el, { value }) => {\n        if (el.__composer) {\n            const composer = el.__composer;\n            const parsedValue = parseValue(value);\n            el.textContent = Reflect.apply(composer.t, composer, [\n                ...makeParams(parsedValue)\n            ]);\n        }\n    };\n    const getSSRProps = (binding) => {\n        const [textContent] = _process(binding);\n        return { textContent };\n    };\n    return {\n        created: register,\n        unmounted: unregister,\n        beforeUpdate: update,\n        getSSRProps\n    };\n}\nfunction parseValue(value) {\n    if (isString(value)) {\n        return { path: value };\n    }\n    else if (isPlainObject(value)) {\n        if (!('path' in value)) {\n            throw createI18nError(I18nErrorCodes.REQUIRED_VALUE, 'path');\n        }\n        return value;\n    }\n    else {\n        throw createI18nError(I18nErrorCodes.INVALID_VALUE);\n    }\n}\nfunction makeParams(value) {\n    const { path, locale, args, choice, plural } = value;\n    const options = {};\n    const named = args || {};\n    if (isString(locale)) {\n        options.locale = locale;\n    }\n    if (isNumber(choice)) {\n        options.plural = choice;\n    }\n    if (isNumber(plural)) {\n        options.plural = plural;\n    }\n    return [path, named, options];\n}\n\nfunction apply(app, i18n, ...options) {\n    const pluginOptions = isPlainObject(options[0])\n        ? options[0]\n        : {};\n    const globalInstall = isBoolean(pluginOptions.globalInstall)\n        ? pluginOptions.globalInstall\n        : true;\n    if (globalInstall) {\n        [Translation.name, 'I18nT'].forEach(name => app.component(name, Translation));\n        [NumberFormat.name, 'I18nN'].forEach(name => app.component(name, NumberFormat));\n        [DatetimeFormat.name, 'I18nD'].forEach(name => app.component(name, DatetimeFormat));\n    }\n    // install directive\n    {\n        app.directive('t', vTDirective(i18n));\n    }\n}\n\n/**\n * Injection key for {@link useI18n}\n *\n * @remarks\n * The global injection key for I18n instances with `useI18n`. this injection key is used in Web Components.\n * Specify the i18n instance created by {@link createI18n} together with `provide` function.\n *\n * @VueI18nGeneral\n */\nconst I18nInjectionKey = \n/* #__PURE__*/ makeSymbol('global-vue-i18n');\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction createI18n(options = {}, VueI18nLegacy) {\n    // prettier-ignore\n    const __legacyMode = __VUE_I18N_LEGACY_API__ && isBoolean(options.legacy)\n            ? options.legacy\n            : __VUE_I18N_LEGACY_API__;\n    // prettier-ignore\n    const __globalInjection = isBoolean(options.globalInjection)\n        ? options.globalInjection\n        : true;\n    const __instances = new Map();\n    const [globalScope, __global] = createGlobal(options, __legacyMode);\n    const symbol = /* #__PURE__*/ makeSymbol((process.env.NODE_ENV !== 'production') ? 'vue-i18n' : '');\n    function __getInstance(component) {\n        return __instances.get(component) || null;\n    }\n    function __setInstance(component, instance) {\n        __instances.set(component, instance);\n    }\n    function __deleteInstance(component) {\n        __instances.delete(component);\n    }\n    const i18n = {\n        // mode\n        get mode() {\n            return __VUE_I18N_LEGACY_API__ && __legacyMode\n                ? 'legacy'\n                : 'composition';\n        },\n        // install plugin\n        async install(app, ...options) {\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && !false) {\n                app.__VUE_I18N__ = i18n;\n            }\n            // setup global provider\n            app.__VUE_I18N_SYMBOL__ = symbol;\n            app.provide(app.__VUE_I18N_SYMBOL__, i18n);\n            // set composer & vuei18n extend hook options from plugin options\n            if (isPlainObject(options[0])) {\n                const opts = options[0];\n                i18n.__composerExtend =\n                    opts.__composerExtend;\n                i18n.__vueI18nExtend =\n                    opts.__vueI18nExtend;\n            }\n            // global method and properties injection for Composition API\n            let globalReleaseHandler = null;\n            if (!__legacyMode && __globalInjection) {\n                globalReleaseHandler = injectGlobalFields(app, i18n.global);\n            }\n            // install built-in components and directive\n            if (__VUE_I18N_FULL_INSTALL__) {\n                apply(app, i18n, ...options);\n            }\n            // setup mixin for Legacy API\n            if (__VUE_I18N_LEGACY_API__ && __legacyMode) {\n                app.mixin(defineMixin(__global, __global.__composer, i18n));\n            }\n            // release global scope\n            const unmountApp = app.unmount;\n            app.unmount = () => {\n                globalReleaseHandler && globalReleaseHandler();\n                i18n.dispose();\n                unmountApp();\n            };\n            // setup vue-devtools plugin\n            if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) && !false) {\n                const ret = await enableDevTools(app, i18n);\n                if (!ret) {\n                    throw createI18nError(I18nErrorCodes.CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN);\n                }\n                const emitter = createEmitter();\n                if (__legacyMode) {\n                    const _vueI18n = __global;\n                    _vueI18n.__enableEmitter && _vueI18n.__enableEmitter(emitter);\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    const _composer = __global;\n                    _composer[EnableEmitter] && _composer[EnableEmitter](emitter);\n                }\n                emitter.on('*', addTimelineEvent);\n            }\n        },\n        // global accessor\n        get global() {\n            return __global;\n        },\n        dispose() {\n            globalScope.stop();\n        },\n        // @internal\n        __instances,\n        // @internal\n        __getInstance,\n        // @internal\n        __setInstance,\n        // @internal\n        __deleteInstance\n    };\n    return i18n;\n}\nfunction useI18n(options = {}) {\n    const instance = getCurrentInstance();\n    if (instance == null) {\n        throw createI18nError(I18nErrorCodes.MUST_BE_CALL_SETUP_TOP);\n    }\n    if (!instance.isCE &&\n        instance.appContext.app != null &&\n        !instance.appContext.app.__VUE_I18N_SYMBOL__) {\n        throw createI18nError(I18nErrorCodes.NOT_INSTALLED);\n    }\n    const i18n = getI18nInstance(instance);\n    const gl = getGlobalComposer(i18n);\n    const componentOptions = getComponentOptions(instance);\n    const scope = getScope(options, componentOptions);\n    if (scope === 'global') {\n        adjustI18nResources(gl, options, componentOptions);\n        return gl;\n    }\n    if (scope === 'parent') {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        let composer = getComposer(i18n, instance, options.__useComponent);\n        if (composer == null) {\n            if ((process.env.NODE_ENV !== 'production')) {\n                warn(getWarnMessage(I18nWarnCodes.NOT_FOUND_PARENT_SCOPE));\n            }\n            composer = gl;\n        }\n        return composer;\n    }\n    const i18nInternal = i18n;\n    let composer = i18nInternal.__getInstance(instance);\n    if (composer == null) {\n        const composerOptions = assign({}, options);\n        if ('__i18n' in componentOptions) {\n            composerOptions.__i18n = componentOptions.__i18n;\n        }\n        if (gl) {\n            composerOptions.__root = gl;\n        }\n        composer = createComposer(composerOptions);\n        if (i18nInternal.__composerExtend) {\n            composer[DisposeSymbol] =\n                i18nInternal.__composerExtend(composer);\n        }\n        setupLifeCycle(i18nInternal, instance, composer);\n        i18nInternal.__setInstance(instance, composer);\n    }\n    return composer;\n}\nfunction createGlobal(options, legacyMode, VueI18nLegacy // eslint-disable-line @typescript-eslint/no-explicit-any\n) {\n    const scope = effectScope();\n    const obj = __VUE_I18N_LEGACY_API__ && legacyMode\n        ? scope.run(() => createVueI18n(options))\n        : scope.run(() => createComposer(options));\n    if (obj == null) {\n        throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n    }\n    return [scope, obj];\n}\nfunction getI18nInstance(instance) {\n    const i18n = inject(!instance.isCE\n        ? instance.appContext.app.__VUE_I18N_SYMBOL__\n        : I18nInjectionKey);\n    /* istanbul ignore if */\n    if (!i18n) {\n        throw createI18nError(!instance.isCE\n            ? I18nErrorCodes.UNEXPECTED_ERROR\n            : I18nErrorCodes.NOT_INSTALLED_WITH_PROVIDE);\n    }\n    return i18n;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getScope(options, componentOptions) {\n    // prettier-ignore\n    return isEmptyObject(options)\n        ? ('__i18n' in componentOptions)\n            ? 'local'\n            : 'global'\n        : !options.useScope\n            ? 'local'\n            : options.useScope;\n}\nfunction getGlobalComposer(i18n) {\n    // prettier-ignore\n    return i18n.mode === 'composition'\n        ? i18n.global\n        : i18n.global.__composer;\n}\nfunction getComposer(i18n, target, useComponent = false) {\n    let composer = null;\n    const root = target.root;\n    let current = getParentComponentInstance(target, useComponent);\n    while (current != null) {\n        const i18nInternal = i18n;\n        if (i18n.mode === 'composition') {\n            composer = i18nInternal.__getInstance(current);\n        }\n        else {\n            if (__VUE_I18N_LEGACY_API__) {\n                const vueI18n = i18nInternal.__getInstance(current);\n                if (vueI18n != null) {\n                    composer = vueI18n\n                        .__composer;\n                    if (useComponent &&\n                        composer &&\n                        !composer[InejctWithOptionSymbol] // eslint-disable-line @typescript-eslint/no-explicit-any\n                    ) {\n                        composer = null;\n                    }\n                }\n            }\n        }\n        if (composer != null) {\n            break;\n        }\n        if (root === current) {\n            break;\n        }\n        current = current.parent;\n    }\n    return composer;\n}\nfunction getParentComponentInstance(target, useComponent = false) {\n    if (target == null) {\n        return null;\n    }\n    // if `useComponent: true` will be specified, we get lexical scope owner instance for use-case slots\n    return !useComponent\n        ? target.parent\n        : target.vnode.ctx || target.parent; // eslint-disable-line @typescript-eslint/no-explicit-any\n}\nfunction setupLifeCycle(i18n, target, composer) {\n    let emitter = null;\n    onMounted(() => {\n        // inject composer instance to DOM for intlify-devtools\n        if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\n            !false &&\n            target.vnode.el) {\n            target.vnode.el.__VUE_I18N__ = composer;\n            emitter = createEmitter();\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const _composer = composer;\n            _composer[EnableEmitter] && _composer[EnableEmitter](emitter);\n            emitter.on('*', addTimelineEvent);\n        }\n    }, target);\n    onUnmounted(() => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const _composer = composer;\n        // remove composer instance from DOM for intlify-devtools\n        if (((process.env.NODE_ENV !== 'production') || __VUE_PROD_DEVTOOLS__) &&\n            !false &&\n            target.vnode.el &&\n            target.vnode.el.__VUE_I18N__) {\n            emitter && emitter.off('*', addTimelineEvent);\n            _composer[DisableEmitter] && _composer[DisableEmitter]();\n            delete target.vnode.el.__VUE_I18N__;\n        }\n        i18n.__deleteInstance(target);\n        // dispose extended resources\n        const dispose = _composer[DisposeSymbol];\n        if (dispose) {\n            dispose();\n            delete _composer[DisposeSymbol];\n        }\n    }, target);\n}\nconst globalExportProps = [\n    'locale',\n    'fallbackLocale',\n    'availableLocales'\n];\nconst globalExportMethods = ['t', 'rt', 'd', 'n', 'tm', 'te']\n    ;\nfunction injectGlobalFields(app, composer) {\n    const i18n = Object.create(null);\n    globalExportProps.forEach(prop => {\n        const desc = Object.getOwnPropertyDescriptor(composer, prop);\n        if (!desc) {\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n        }\n        const wrap = isRef(desc.value) // check computed props\n            ? {\n                get() {\n                    return desc.value.value;\n                },\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                set(val) {\n                    desc.value.value = val;\n                }\n            }\n            : {\n                get() {\n                    return desc.get && desc.get();\n                }\n            };\n        Object.defineProperty(i18n, prop, wrap);\n    });\n    app.config.globalProperties.$i18n = i18n;\n    globalExportMethods.forEach(method => {\n        const desc = Object.getOwnPropertyDescriptor(composer, method);\n        if (!desc || !desc.value) {\n            throw createI18nError(I18nErrorCodes.UNEXPECTED_ERROR);\n        }\n        Object.defineProperty(app.config.globalProperties, `$${method}`, desc);\n    });\n    const dispose = () => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        delete app.config.globalProperties.$i18n;\n        globalExportMethods.forEach(method => {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            delete app.config.globalProperties[`$${method}`];\n        });\n    };\n    return dispose;\n}\n\n{\n    initFeatureFlags();\n}\n// register message compiler at vue-i18n\nregisterMessageCompiler(compile);\n// register message resolver at vue-i18n\nregisterMessageResolver(resolveValue);\n// register fallback locale at vue-i18n\nregisterLocaleFallbacker(fallbackWithLocaleChain);\n// NOTE: experimental !!\nif ((process.env.NODE_ENV !== 'production') || __INTLIFY_PROD_DEVTOOLS__) {\n    const target = getGlobalThis();\n    target.__INTLIFY__ = true;\n    setDevToolsHook(target.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__);\n}\nif ((process.env.NODE_ENV !== 'production')) ;\n\nexport { DatetimeFormat, I18nD, I18nInjectionKey, I18nN, I18nT, NumberFormat, Translation, VERSION, createI18n, useI18n, vTDirective };\n","import { unref, watch } from 'vue'\nimport {useI18n as $useI18n, createI18n as $createI18n} from 'vue-i18n'\nimport type { Composer } from 'vue-i18n'\nimport type { Model } from 'pinia-orm'\n\nimport config from '../config'\nimport {getCookieList} from '../utils'\n\n\n/**\n * Initialize vue-i18n, looking in cookies in order to load the right locale.\n */\nexport function createI18n() {\n    // remove country specific locale as they are not provided by locales\n    // client side\n    const candidates = (getCookieList(\"lang\", \",\") || [\"en\"]).map(\n        x => x.toLowerCase().replace(/[_-](\\w+)/, \"\")\n    )\n    const locale = candidates.find(x => x in config.locales)\n    return $createI18n({\n        legacy: false,\n        globalInjection: true,\n        fallbackLocale: 'en',\n        locale\n    })\n}\n\n\n/**\n * Main vue-i18n instance used by Oxylus application.\n */\nexport const i18n = createI18n()\n\n\n/**\n * Shortcut to {@link i18n} `t()` function.\n */\nexport const t = i18n.global.t\n\nexport interface IUseI18n {\n    composer?: Composer,\n    path?: string,\n    fallback?: boolean,\n}\n\n/**\n * This composable return vue-i18n's `t()` function and watch for\n * locale change in order to dynamically load corresponding message file.\n *\n * @param {String} [options.path] parent path of locales' dir.\n * @param {Boolean} [options.fallback] if true, use fallback locale\n * @return ``t()`` function.\n */\nexport function useI18n({path=\"./\", fallback=true, composer=null}: IUseI18n={}) {\n    composer ??= i18n.global\n    loadLocale({composer, path, fallback})\n    watch(() => composer.locale, () => loadLocale({composer, path, fallback}))\n    return composer\n}\n\n\n/**\n * Set locale (load it if required).\n * FIXME\n */\nexport function setLocale(i18n: Composer, path: string, locale: string) {\n    if(!(locale in config.locales))\n        throw Error(\"Locale is not provided by config.\")\n\n    i18n.global.locale.value = locale\n    loadLocaleFrom(i18n, path, locale)\n\n    // FIXME: axios.defaults.headers.common['Accept-Language'] support?\n\n    document.querySelector('html').setAttribute('lang', locale)\n}\n\n/**\n * Keeps track of already loaded locales (by path)\n */\nexport const loadedLocalePaths = new Set()\n\n\n/**\n * Load locale using provided path and i18n locale composer.\n *\n * @param i18n - vue-i18n locale Composer;\n * @param [options.path] path to parent directory of locale dir;\n * @param [options.fallback] if True, use fallback locale whenever required.\n */\nfunction loadLocale({path=\"./\", fallback=true, composer=null}: IUseI18n ={}): Promise<void> {\n    composer ??= i18n.global\n    if(!path.startsWith('/'))\n        path = import.meta.resolve(path)\n    if(!path.endsWith('/'))\n        path += '/'\n\n    let promise = loadLocaleFrom(composer, path, unref(composer.locale))\n    if(fallback && composer.fallbackLocale.value)\n        promise = promise.catch((error) => loadLocaleFrom(composer, path, unref(composer.fallbackLocale) as string))\n            .catch((error) => {\n                throw Error(\n                    `Could not load locale ${composer.locale.value} nor its fallback ${composer.fallbackLocale.value} (path: ${path}). Error: ${error}`\n                )\n            })\n    return promise\n}\n\n\n/**\n * Load locale of specific name and add it to composer's messages.\n */\nasync function loadLocaleFrom(i18n: Composer, path: string, locale: string) {\n    const locale2 = locale.replace(/[_-](\\w+)/, '')\n    path = `${path}locales/${locale2}.json`\n    if(loadedLocalePaths.has(path))\n        return\n\n    loadedLocalePaths.add(path)\n\n    const messages = await fetch(path).then(r => r.json())\n    // we don't use setLocaleMessage, because we merge locales\n    // from different apps\n    i18n.messages.value[locale] = {\n        ...(i18n.messages.value as Record<string, any>)[locale],\n        ...messages\n    }\n}\n\n\nexport const tKeys = {\n    model: (model: typeof Model) => `models.${model.entity}`,\n    field: (field: string) => `fields.${field}`\n}\n","import { createApp as $createApp, reactive, watch } from 'vue'\nimport { createVuetify as $createVuetify } from 'vuetify'\nimport { md3 } from 'vuetify/blueprints'\nimport colors from 'vuetify/util/colors'\n\nimport { createPinia as $createPinia, setActivePinia } from 'pinia'\nimport { createORM } from 'pinia-orm'\nimport { createPiniaOrmAxios } from '@pinia-orm/axios'\nimport axios from 'axios'\n\nimport '../styles/index.scss'\nimport * as vendorComponents from 'ox/vendor'\nimport config from '../config'\nimport {i18n, useI18n} from './i18n'\n\nimport type {IObject} from '../utils'\n\n\n/**\n * {@link createVuetify} parameters. Theses are passed down to Vuetify's\n * plugin initialization.\n */\nexport interface ICreateVuetifyOpts extends IObject {\n    components?: Record<string,any>\n}\n\n\n/**\n * Options passed to {@link createApp}.\n */\nexport interface ICreateAppOpts {\n    /**\n     * Vue's `createApp` `props` arguments\n     */\n    props?: IObject\n    /**\n     *  Vuetify plugin's parameters (passed to {@link createVuetify})\n     */\n    vuetify?: ICreateVuetifyOpts\n    /**\n     * Plugins to add to Vue application.\n     */\n    plugins?: IObject[]\n}\n\nexport interface IInitOpts extends ICreateAppOpts {\n    /** Vue's App config. */\n    App?: IObject\n    /** Element selector to mount application on. */\n    el?: string\n    /**\n     * If True (default), defer application creation after page has been\n     * loaded (on `window.load` event)\n     */\n    onLoad?: boolean\n}\n\n\n/**\n * Main entry point to initialize and mount an application.\n *\n * The base `App` config is provided by `ox/components` modules.\n */\nexport function init({App=null, el='#app', onLoad=true, ...options}: IInitOpts={}) {\n    function initApp() {\n        const app = createApp(App, options)\n        const vm = el ? app.mount(el) : null\n        document.body.classList.remove('loading')\n        return {app, el, vm}\n    }\n\n    return new Promise((resolve) => {\n        if(onLoad)\n            return window.addEventListener(\n                'load', () => resolve(initApp())\n            )\n        resolve(initApp())\n    })\n}\n\n\n/**\n * Create Oxerp application (including Vuetify).\n * It also provide app's global property `window` in order to allow components\n * access to this object.\n */\nexport function createApp(app: IObject, {props={}, vuetify={}, plugins=null}: ICreateAppOpts={}) {\n    app = $createApp(app, props)\n    app.config.globalProperties.window = window\n\n    app.use(createVuetify(vuetify))\n    app.use(i18n)\n    useI18n()\n\n    plugins && plugins.forEach(plugin => app.use(plugin))\n    return app\n}\n\n\n\n/**\n * Create and return vuetify plugin with default components set.\n * This is called by `createApp`.\n */\nexport function createVuetify({components={}, defaults={}, ...opts}: ICreateVuetifyOpts) {\n    opts.components = {\n        ...vendorComponents,\n        ...components\n    }\n    return $createVuetify({\n        blueprint: md3,\n        theme: {\n            themes: {\n                light: {\n                    dark: false,\n                    colors: {\n                        primary: colors.green.darken1,\n                        secondary: colors.green.lighten4\n                    }\n                }\n            }\n        },\n        defaults: {\n            ...defaults,\n            VTextField: { variant: 'underlined', },\n            VSelect: { variant: 'underlined', },\n            VTextarea: { variant: 'underlined', },\n            VCombobox: { variant: 'underlined', },\n            VAutocomplete: { variant: 'underlined', },\n        },\n        ...opts\n    })\n}\n\n\n\n/**\n * Create Pinia and PiniaOrm plugins instances.\n * If no `baseURL` is provided, get it from `document.body.dataset.apiUrl`.\n */\nexport function createPinia({axiosConfig=null, baseURL=null}: IObject={}) {\n    if(!baseURL)\n        baseURL = document.body.dataset.apiUrl\n\n    const pinia = $createPinia()\n    const piniaOrm = createORM({\n        plugins: [\n            createPiniaOrmAxios({\n                axios,\n                ...(axiosConfig || config.axiosConfig),\n                baseURL,\n            })\n        ]\n    })\n    setActivePinia(pinia)\n    return pinia.use(piniaOrm)\n}\n","import {Repository, Relation} from 'pinia-orm'\nimport type {Model} from 'pinia-orm'\nimport type {Response} from '@pinia-orm/axios'\n\nimport {collectAttr} from '../utils'\nimport type {IObject} from '../utils'\nimport {asRelation, getSourceKey} from '../models'\nimport type {Repos} from '../models'\n\n\n/** Interface of {@link Query} class. */\nexport interface IQuery<M extends Model> {\n    /** Model repository used to store results. */\n    repo: Repository<M>\n    /**\n     * Repositories used to store relations.\n     *\n     * This argument may be ignored if there is no need to fetch\n     * relations.\n     */\n    repos: Repos\n}\n\n/** {@link Query.fetch} parameters. */\nexport interface IQueryFetch<M extends Model> extends Partial<object> {\n    /**\n     * Fetch from this url.\n     * Usage of this argument is exclusive from {@link IQueryFetch.id} and {@link IQueryFetch.path}.\n     */\n    url?: string\n    /**\n     * Fetch item of this id.\n     * Usage of this argument is exclusive from {@link IQueryFetch.ids}\n     */\n    id?: number,\n    /** Fetch items with this id. */\n    ids?: number[] | Set<number>\n    /** Extra path to append on url. */\n    path?: string,\n    /** Model repository (instead of `Query.repo`'s one). */\n    repo?: Repository<M>\n    /** Lookup field for ids (default: `id__in`). */\n    lookup?: string\n    /** Extra GET parameters. */\n    params?: IObject\n    /** Fetch items from thoses relations. */\n    relations?: string[]\n    /** If true (default value), save items in Pinia repository */\n    save: boolean\n}\n\n/**\n * {@link Query.all} parameters.\n */\nexport interface IQueryAll<M extends Model> extends IQueryFetch<M> {\n    /**\n     * Key of object returned by server that provide url to next items.\n     */\n    nextKey?: string\n    /**\n     * Provide a limit to the number of request to do consecutivelly.\n     * If `-1`, no limit (**use with caution!**).\n     */\n    limit?: number\n}\n\n\n/**\n * This class allows to fetch objects from api, and their relations.\n *\n * It is a utility class built around ``pinia-orm/axios``, using\n * repositories' ``api().get`` method.\n *\n * It allows:\n *\n * - to fetch a model list or all values (using `next` key);\n * - to fetch relations of objects based on fields names;\n *\n * When fetching relations, please ensure that {@link Query.repos} is provided.\n *\n * @example\n * const query = new Query(repos.users, repos)\n *\n * // this fetch User model objects from API, then the related groups.\n * const result = await query.fetch({url: '/users', relations: ['groups']})\n */\nexport default class Query<M extends Model> {\n    /**\n    * @param {Repos} [repos] all models repositories\n    * @param {Repository<M>} [repo] the main repository\n    */\n    constructor(repo: Repository<M>, repos: Repos|null=null) {\n        this.repo = repo\n        this.repos = repos\n    }\n\n    /**\n     * Fetch items from api.\n     *\n     * @param [options.ids] select by ids\n     * @param {Repository} [options.repo] use this repository instead of \\\n     * ``Query.repo``.\n     * @param [options.url] use this url instead of repository's one.\n     * @param [options.id] fetch element with this id.\n     * @param [options.ids] fetch elements with those ids\n     * @param [options.lookup] query GET parameters used to get ids.\n     * @param [options.params] extra GET parameters\n     * @param [options.opts] options passed down to ``repo.api.get``\n     */\n    async fetch({url, id=null, ids=null, repo=null, lookup=\"id__in\", params=undefined, relations=null, path=null, ...opts}: IQueryFetch<M> = {}) : Promise<Response> {\n        repo ??= this.repo\n\n        if(ids?.length === 1) {\n            id = ids[0]\n            ids = null\n        }\n\n        if(!url)\n            url = repo.use?.meta?.getUrl({path, id})\n\n        if(!id)\n            opts.dataKey ??= repo.use?.config?.axiosApi?.dataKey\n        else\n            opts.dataKey = null\n\n        if(ids && lookup !== undefined) {\n            if(id)\n                throw Error(\"Both `ids` and `id` are provided while only one of those arguments is accepted.\")\n            params = {...(params || {})}\n            params[lookup] = [...ids]\n        }\n        const response = await repo.api().get(url, {...opts, params})\n\n        if(relations)\n            response.relations = await this.relations(response.entities, relations, {...opts, params: {}})\n        return response\n    }\n\n    /**\n     * Fetch all items from api.\n     *\n     * @param [options.nextKey] response object key to get next url\n     * @param [options.limit] max count of consecutive requests\n     * @return Response of the first request, whoses ``entities`` has \\\n     * model instances of all requests.\n     */\n    async all({nextKey='next', limit=-1, ...opts} : IQueryAll<M> ={}) : Promise<Response> {\n        const result = await this.fetch(opts)\n\n        let url = result.response.data[nextKey]\n        while(url) {\n            const result2 = await this.fetch({...opts, url})\n            if(result2.entities)\n                result.entities = result.entities !== null ? result.entities.concat(result2.entities) : result2.entities\n            url = result2.response.data[nextKey]\n            if(limit>0) limit--\n            if(!limit) break\n        }\n        return result\n    }\n\n    /**\n     * Fetch all from API if repository is empty (see {@link Query.all}).\n     *\n     * For arguments see {@link Query.all}.\n     *\n     * Return null if no request has been made.\n     */\n    async allOnce(options: IQueryAll<M> = {}) : Promise<Reponse|null> {\n        const repo = options.repo ?? this.repo\n        if(!repo.first())\n            return await this.all(options)\n        return null\n    }\n\n    /**\n     * Fetch related objects for the provided list and field names.\n     *\n     * @param objs - the objects to get related ids from.\n     * @param options.fields - list of field names.\n     * @param options.opts - options to pass down to {@link Quey.relation}.\n     * @return the resulting entities.\n     */\n    async relations(objs: M[], fields: string[], opts = {}) : Promise<{[s: string]: Response}>\n    {\n        this._ensureRepos(\"relations\")\n        const entities: {[s: string]: Response} = {}\n        const relations = this.repo.use?.fields()\n        if(relations)\n            for(const field of fields) {\n                const relation = relations[field]\n                if(relation instanceof Relation)\n                    entities[field] = await this.relation(objs, relation, opts)\n                else\n                    throw Error(`Field ${field} is not a relation`)\n            }\n        return entities\n    }\n\n    protected _ensureRepos(funcName: string) {\n        if(!this.repos)\n            throw Error(`Query.repos is not provided although it is mandatory to call ${funcName}.`)\n    }\n\n    /**\n     * Fetch related objects for the provided object list and field name.\n     * It uses {@link Query.all} in order to fetch all items.\n     *\n     * @param objs - the objects to get ids from.\n     * @param relation - objects' field or field name.\n     * @param options - options to pass down to `all()`.\n     */\n    async relation(objs: Array<M>, relation: string | Relation, options: IQueryAll<M> ={}) : Promise<Response> {\n        this._ensureRepos(\"relations\")\n\n        const rel = asRelation(this.repo, relation)\n        if(!rel)\n            throw Error(`No Relation found for field ${relation}.`)\n\n        const key = (<typeof Model>rel.related.constructor).entity\n        const repo2 = this.repos[key]\n        if(!repo2)\n            throw Error(`No repository \"${key}\" found.`)\n\n        const fk = getSourceKey(rel)\n        if(!fk)\n            throw Error(`No source ids attributes for ${relation}.`)\n        const ids = [... new Set(collectAttr(objs, fk))]\n        const query = new Query(repo2, this.repos)\n        return query.all({...options, ids, repo: repo2})\n    }\n\n}\nexport default interface Query<M extends Model> extends IQuery<M> {}\n\n\n/** Return a new {@link Query} based on repo's entity. */\nexport function query<M extends Model>(repo: string|Repository<M>, repos?: Repos): Query<M> {\n    if(typeof repo == \"string\") {\n        if(!(repo in repos))\n            throw Error(`Repository \"${repo}\" is not present in provided repositories.`)\n        return new Query(repos[repo] as unknown as Repository<M>, repos)\n    }\n    return new Query(repo, repos)\n}\n","import { cloneDeep, isEqual, pick } from 'lodash'\nimport type { Attribute, Repository } from 'pinia-orm'\nimport type { Response } from '@pinia-orm/axios'\n\nimport { assignNonEmpty, reset, State } from '../utils'\nimport type { IObject } from '../utils'\nimport type { Model } from '../models'\n\n\nexport interface IEditorProps<T> {\n    /**\n     * @property initial - initial value provided to the editor\n     */\n    initial: T & {[k: string]: any}\n    /**\n     * @property name - editor name\n     */\n    name?: string\n    /**\n     * @property url - url to send value to\n     */\n    url?: string\n    /**\n     * @property saved - callback to run after object has been saved\n     */\n    saved?: (item: T, editor: IEditor<T,IEditorProps<T>>) => void\n}\n\n\n/**\n * Editor class interface.\n */\nexport interface IEditor<T,P extends IEditorProps<T>> extends IEditorProps<T> {\n    [index: string]: any\n\n    props: P\n    /** Value to use as initial for creating object */\n    default: T & Record<string, any>\n    /**\n     * @property value - current edited value\n     */\n    value: T & Record<string, any>\n    /**\n    * @property state - current editor state. Set to `State.PROCESSING` when\n    * saving instance.\n    */\n    state: State,\n}\n\n\nexport interface IEditorSend extends IObject {}\n\n/**\n * An Editor handles data edition without changing original value.\n * It provides utilities in order to:\n * - detect if changes have been made;\n * - reset edited values to initial state;\n * - save data to server;\n *\n * Default implementation handles raw Object edition, but not saving data to the server.\n * Note: this might lead to errors due to reactivity when returned from composable.\n */\nexport default class Editor<T extends IObject, P extends IEditorProps<T>> {\n    state = State.none()\n    value: T & Record<string, any> = {} as T\n    default: T & Record<string, any> = {} as T\n\n    constructor(options: IEditor<T,P>)\n    {\n        options && assignNonEmpty(this, options)\n        if(!this.state)\n            this.state = new State()\n\n        this.value = {} as T\n        this.valid = true\n        this.reset(this.initial)\n    }\n\n    get initial(): T { return this.props.initial || {} }\n    get name(): string { return this.props.name }\n    get url(): string|null { return this.props.url }\n\n    get errors() : any {\n        return this.state.isError && this.state.data || null\n    }\n\n    /** Discard changes, resetting to initial value. */\n    discard() {\n        this.reset(this.initial)\n    }\n\n    /**\n     * Reset editor data to provided value.\n     * When value is provided, reset initial to this value.\n     */\n    reset(initial: T|null = null) {\n        reset(this.value, initial || {})\n        this.state.none()\n    }\n\n    isEdited(): boolean {\n        return !isEqual(this.value, this.initial)\n    }\n\n    /**\n     * Save data. It will `serialize()` value then `send()` it.\n     *\n     * Note: default implementation does not provide `send()` method\n     * and thus will raise an error.\n     *\n     * @param [value] if provided use this instead of `this.value`.\n     * @return state.\n     */\n    async save(value: T|null = null): Promise<State> {\n        this.state.processing()\n\n        if(!this.valid)\n            return this.state.error({\n                \"_\": \"Some of the input values are invalid\"\n            })\n        value = this.serialize(value ?? this.value)\n\n        const state = await this.send(value)\n        if(state.isOk) {\n            this.reset(state.data as T)\n            this.saved?.(this.value)\n        }\n        else\n            this.state = state\n        return this.state\n    }\n\n    /**\n     * This method is called when editor successfully saved the\n     * edited item to the server.\n     *\n     * By default, it will call {@link Editor.props.saved} if provided.\n     */\n    saved(item: T) {\n        this.props.saved?.(item, this)\n    }\n\n    /** Serialize value before sending. */\n    serialize<R>(value: T): any { return value }\n\n    /** Send value (not implemented, MUST BE in subclasses). */\n    send(_: IEditorSend): Promise<State> {\n        throw \"not implemented\"\n    }\n}\nexport default interface Editor<T,P extends IEditorProps<T>> extends IEditor<T,P> {\n    // Whether edited data are valid. Default to `true`.\n    valid: boolean\n}\n\n// /**\n//  * Editor subclass used to edit ordered arrays.\n//  */\n// export class ArrayEditor extends Editor {\n//     _reset(val) { this.value = this.bind ? val : [...val] }\n//     isEdited() { this.value != this.initial }\n// }\n//\n//\n// /**\n//  * Editor subclass used to edit unordered arrays.\n//  */\n// export class CollectionEditor extends ArrayEditor {\n//     isEdited() {\n//         return this.value.length != this.initial.length ||\n//             this.value.some(v => this.initial.indexOf(v) == -1)\n//     }\n// }\n","import {computed, watch} from 'vue'\nimport type {WatchHandle, Reactive} from 'vue'\n\nimport {t} from '../composables'\nimport {assignNonEmpty, State} from '../utils'\nimport type Panels from './panels'\n\n\nexport interface IPanelInfo {\n    /** The view title displayed to user. */\n    title?: string\n    /** The view's icon displayed to user. */\n    icon?: string\n}\n\n\n/** Properties of OxPanel **/\nexport interface IPanelProps extends IPanelInfo {\n    /** Panel's name */\n    name: string\n    /** Index view name **/\n    index: string\n    /** Panel's view */\n    view: string\n    /** Current value */\n    value?: any\n    /** Optional state (used with `ox-state-alert`). */\n    state?: State\n    /** Url to related help page */\n    help?: string\n}\n\n/** Component properties used by OxPanelNav */\nexport type IPanelNavProps = IPanelInfo & {\n    /** Panel's name */\n    value: string\n    /** Panels page **/\n    url?: string\n    /** Required permission */\n    permissions?: string|string[]\n    /** Item type: subheader, divider, (item by default) */\n    type?: string,\n    /** Nested items */\n    items?: Record[]\n    /** Order */\n    order: number\n}\n\nexport interface IPanel<P> extends IPanelInfo {\n    /** Panel's name */\n    readonly name: string\n    /** Panel component properties. */\n    props: P\n    /**\n    * {@link Panels} used to specify current view and value.\n    *\n    * This element may be shared among multiple panels.\n    */\n    panels: Panels\n    /**\n     * Current unsaved changes. This can be updated by component in order\n     * to prevent data loss when changing panels.\n     */\n    editions: Set<string>\n}\n\n\n/**\n * This is the base class used by panels.\n */\nexport default class Panel<P extends IPanelProps = IPanelProps>\n{\n    index: string = 'list.table'\n    view: string = ''\n    value: any = null\n    item: any = null\n    editions: Set<string> = new Set()\n\n    /**\n     * Translation key for message displayed on `confirm()` to leave unsaved\n     * changes.\n     */\n    confirmTKey = \"panel.confirm\"\n\n    /** Panel name (based on props) **/\n    get name(): string { return this.props?.name || '' }\n\n    /** Wether there are still edited items on current view. */\n    get edited(): boolean { return !!this.editions?.size }\n\n    /** Return adequate icon based on props and model **/\n    get icon(): string { return this.props?.icon || null }\n\n    /** Return panel's title based on props. */\n    get title(): string { return this.props?.title }\n\n    constructor(options: IPanel<P>|null = null) {\n        options && assignNonEmpty(this, options)\n        this.view ??= this.index || ''\n    }\n\n    /** Return URL GET parameters for the current view */\n    getUrlParams(): IObject {\n        const params = {panel: this.name}\n        if(this.view != this.index)\n            params.view = this.view\n        if(this.view.startsWith('detail.') && this.value)\n            params.value = this.value\n        return params\n    }\n\n\n    /** Set or remove an edition by name. */\n    setEdition(name: string, edited: boolean) {\n        if(edited) this.editions.add(name)\n        else this.editions.delete(name)\n    }\n\n    /** Show a view, providing optional value */\n    show({view=null, value=null}: {view?: string, value?: any}={}) {\n        if(this.onLeave()) {\n            if(view !== null)\n                this.view = view || this.index\n            this.value = value\n        }\n    }\n\n    /**\n     * Called when view or panel changes. It returns `true` if view/panel can be changed.\n     *\n     * Ask user for confirmation if there is unsaved changes (aka editions).\n     *\n     * @return true if we can proceed to view/panel change.\n     */\n    onLeave() {\n        if(!this.edited)\n            return true\n\n        const msg = t(this.confirmTKey)\n        return confirm(msg)\n    }\n\n    onViewChange(val: string) {\n        if(!val)\n            this.view = this.index\n    }\n    onValueChange(val: string) {}\n}\nexport default interface Panel<P extends IPanelProps=IPanelProps> extends IPanel<P> {}\n","import {provide} from 'vue'\nimport {assignNonEmpty} from '../utils'\nimport type Panel from './panel'\n\n\nexport interface IPanels {\n    /** Current panel's name. **/\n    panel: string\n    /** Display/GET parameters for the current panel. */\n    params: {}\n}\n\n\nexport interface IPanelShow extends IPanels {\n    force?: boolean\n    href?: string\n}\n\n/**\n * This class is used to panels a panel, providing extra information such\n * as value and view. It is shared among panels.\n *\n * Use it as this provides utilities to avoid data loss and allow current\n * panel to have control over leaving it.\n */\nexport default class Panels {\n    panel: string = \"\"\n    params: Record<string, any> = {}\n    paramsString: string = ''\n    children: {[k: string]: Panel} = {}\n\n    get current() : Panel|null {\n        return this.children[this.panel] || null\n    }\n\n    constructor(options: IPanels|null = null) {\n        options && assignNonEmpty(this, options)\n        this.readDocumentLocation()\n    }\n\n    /**\n     * Set {@link Panels.params\n     */\n    readDocumentLocation() {\n        this.paramsString = document.location.search\n        const params = new URLSearchParams(this.paramsString)\n        this.params = Object.fromEntries(params.entries())\n    }\n\n    static readPath(path: string) : IPanels {\n        if(!path)\n            return {panel: \"\", view: \"\"}\n\n        const idx = path.indexOf('.')\n        if(idx < 0)\n            return {panel: path, view: ''}\n        return {panel: path.substring(0, idx), view: path.substring(idx+1)}\n    }\n\n    register(name: string, child: Panel) {\n        /*if(name in this.children) {\n            throw Error(`Child panel is already registered ${name}.`)\n        }*/\n        this.children[name] = child\n    }\n\n    unregister(name: string) {\n        delete this.children[name]\n    }\n\n    show({force=false, href=null, ...options}: IPanelShow) {\n        const proceed = force || !this.current || this.current.onLeave()\n        if(!proceed)\n            return\n\n        if(href && window.location.pathname != href) {\n            if(!options.panel)\n                throw Error(\"The attribute `href` requires`panel`.\")\n\n            href = `${href}?panel=${options.panel}`\n            if(options.view)\n                href = `${href}&view=${options.view || ''}`\n            window.location.href = href\n            return\n        }\n\n        this.reset(options)\n    }\n\n    reset({panel, view=null, value=null, id=null}: IPanels) {\n        const panelChanged = (panel && panel != this.panel)\n        if(panelChanged && this.current) {\n            if(!this.current.onLeave())\n                return\n        }\n\n        this.panel = panel || this.panel\n        this.params = {view, value, id}\n    }\n}\nexport default interface Panels extends IPanels {\n    /** Current panel (set by panels) **/\n    current: Panel|null\n}\n","import type {Repository, Query as $Query} from 'pinia-orm'\nimport type {Response} from '@pinia-orm/axios'\n\nimport {State, assignNonEmpty} from '../utils'\nimport type {Model} from '../models'\n\nimport Query from './query'\nimport type {IQueryFetch} from './query'\n\n\nexport interface IModelController<M extends Model> {\n    /** Response's key used to return data */\n    dataKey: string\n    /** {@link Query} used to fetch list items. */\n    query: Query<M>\n    /** Related fields to get from pinia orm's database and eventually fetch when items are retrieved from API.  */\n    relations?: string[]\n    /** Use this URL instead of model's defined one. */\n    url?: string\n    /** Fetch related fields from API when queried */\n    fetchRelations: boolean\n    /** If true (default value), save items in Pinia repository */\n    save: boolean\n}\n\nexport interface IModelFetch<M extends Model> extends IQueryFetch<M> {\n    /** Response's key used to return data */\n    dataKey?: string\n}\n\n\n/**\n * Base controller class that handles model fetching from the server in conjunction\n * with ORM framework.\n *\n * This provides:\n * - load items from the server and manage state accordingly (using {@link Query});\n * - items are retrieved from ORM store with specified relations;\n *\n * It does not:\n * - fetch items' related objects.\n *\n * This is used for {@link ModelDetail} and {@link ModelList}.\n */\nexport default class ModelController<M extends Model, O=IModelController<M>> {\n    state = State.none()\n    save = true\n\n    /** The repository of contained items. */\n    get repo(): Repository<M> { return this.query.repo }\n\n    /** Current model. */\n    get model(): typeof Model { return (this.repo.use as typeof Model) }\n\n    constructor(options: IModelController<M>|null = null) {\n        options && assignNonEmpty(this, options)\n    }\n\n    /** Return orm's query to object. This will includes declared {@link List.relations}.\n     *\n     *   @param ids - optional id lookup\n     *   @param first - if true, return the first item\n     *   @return orm's query\n     */\n    queryset(ids: number|number[]|null=null, first=false) : $Query<M> {\n        let query = this.repo.query()\n        if(this.relations)\n            for(const relation of this.relations)\n                query = query.with(relation)\n\n        return ids ? query.whereId(ids) : query\n    }\n\n    /**\n     * Fetch model instance from the server and select them.\n     *\n     * Calling this method updates state to:\n     * - `PROCESSING`: request is being made;\n     * - `NONE`: request has been done without error;\n     * - `ERROR`: if an error happened;\n     *\n     * Flowchart:\n     * - {@link ModelController.fetch}\n     * - {@link ModelController.handleResponse}\n     */\n    async load(options: IModelFetch<M> = {}): Promise<Response|null> {\n        this.state.processing()\n        let response = null\n        try {\n            response = await this.fetch(options)\n            response = await this.handleResponse(options, response)\n        }\n        catch(error) {\n            this.state.error(error)\n        }\n        if(!this.state.isError)\n            this.state.none()\n        return response\n    }\n\n    /** Fetch model instance from the server.\n     *\n     * Flowchart:\n     * - {@link ModelController.getQueryParams}\n     * - {@link Query.fetch}\n     */\n    async fetch(options: IModelFetch<M> = {}) : Promise<Response> {\n        const opts = this.getQueryOptions(options)\n        return await this.query.fetch(opts)\n    }\n\n    /** Handle response from the {@link ModelContainer.fetch}'s request. */\n    async handleResponse(options: IModelFetch<M>, response: Response): Promise<Response> {\n        // TODO: handle status code\n        return response\n    }\n\n    /** Get {@link Query.fetch} options. */\n    protected getQueryOptions(options: IModelFetch<M>): IQueryFetch<M> {\n        if(!options.relations && this.relations && this.fetchRelations)\n            options.relations = this.relations\n        // if(!(\"dataKey\" in options))\n        //    options.dataKey = this.dataKey\n        if(!options.url)\n            options.url = this.url\n        if(!(\"save\" in options))\n            options.save = this.save\n        return options\n    }\n}\nexport default interface ModelController<M extends Model, O> extends IModelController<M> {\n    /** Current request's state. */\n    state: State\n}\n","import {uniqWith} from 'lodash'\nimport {unref} from 'vue'\nimport type {Ref} from 'vue'\nimport type {Response} from '@pinia-orm/axios'\n\nimport {collectAttr} from '../utils'\nimport type {Model} from '../models'\nimport type {IObject} from '../utils'\n\nimport Query from './query'\nimport ModelController from './modelController'\nimport type {IQueryFetch} from './query'\nimport type {IModelController, IModelFetch} from './modelController'\n\n\nexport type FilterValue = number | string\nexport type Filters = IObject<FilterValue>\n\n\n/** Base interface of a ModelList */\nexport interface IModelList<M extends Model> extends IModelController<M> {\n    /** Provide extra GET parameters. */\n    filters?: Filters\n    /** Response's key used to return URL to previous paginated items. */\n    prevKey: string\n    /** Response's key used to return URL to next paginated items.  */\n    nextKey: string\n    /** Response's key used to return total items count. */\n    countKey: string\n}\n\n/**\n * Arguments of {@link ModelList.fetch}. It is passed down to {@link Query.fetch}.\n */\nexport interface IModelListFetch<M extends Model> extends IModelFetch<M> {\n    /** Query's GET parameters used to filter the list. */\n    filters?: Filters\n    /**\n     * Append items to list. If `false` (default), fetch results will replace\n     * current list items.\n     */\n    append?: boolean | number\n}\n\n\n\n/**\n * Handle a list of model instances fetched using Rest Api. It is\n * used in model's panels.\n *\n * It uses {@link Query} object in order to fetch items and relations.\n *\n *\n * @example\n * const value = ref(null)\n * const list = new ModelList.reactive({\n *     query: new Query(repos.users, repos),\n *     relations: ['groups'],\n *     value,\n * })\n *\n * await list.load({url: '/users'})\n */\nexport default class ModelList<M extends Model> extends ModelController<M, IModelList<M>> {\n    // ids: number[] = []\n    items: M[] = []\n    filters: Filters = {}\n    nextUrl: string|null = null\n    prevUrl: string|null = null\n    count: number|null = null\n\n    dataKey = \"results\"\n    nextKey = \"next\"\n    prevKey = \"previous\"\n    countKey = \"count\"\n\n    /** Get items count. */\n    get length(): number { return this.items.length }\n\n    /** Get ids **/\n    get ids(): number[] { return this.items.map(v => v.id) }\n\n    /** Get item by list index */\n    get(index: number): number { return index < this.items.length ? this.items[index] : null }\n\n    /** Get item index by id */\n    findIndex(id: number): number { return this.items.findIndex((v) => v.id == id) }\n\n    /**\n     * Get item id next to provided one at the specified direction.\n     *\n     * @param item - reference item\n     * @param step - increment or decrement item index by this value.\n     * @return the target item id or null if not found.\n     */\n    getSiblingIndex(item: M|null, step: number): number {\n        if(item === null)\n            return -1\n\n        const index = this.findIndex(item.id)\n        const sibling = index >= 0 ? index+step : -1\n        return sibling >= 0 && sibling < this.items.length ? sibling : -1\n    }\n\n    /**\n     * Fetch next items from API, override `url` using {@link ModelList.nextUrl}.\n     */\n    async loadNext(options: IModelListFetch<M>): Promise<Response> {\n        return await this.load({...options, url: this.nextUrl})\n    }\n\n    /**\n     * Fetch previous items from API, override `url` using {@link ModelList.prevUrl}.\n     */\n    async loadPrev(options: IModelListFetch<M>): Promise<Response> {\n        return await this.load({...options, url: this.prevUrl})\n    }\n\n    protected getQueryOptions(options: IModelFetch<M>): IQueryFetch<M> {\n        if(this.filters)\n            options.params = {...this.filters, ...(options.params ?? [])}\n        return super.getQueryOptions(options)\n    }\n\n    /**\n     * Handle response from API.\n     * Reset list and context information such as next/prev url, total count.\n     */\n    async handleResponse({append=false, ...options}: IModelListFetch<M>, response: Response): Promise<Response> {\n        response = await super.handleResponse(options, response)\n        if(!this.state.isError) {\n            /*const ids = [...collectAttr(response.entities, 'id')]\n            if(typeof append == \"number\")\n                this.ids.splice(append, 0, ...ids)\n            else\n                this.ids = append ? this.ids.concat(ids) : ids\n                */\n            if(typeof append == \"number\")\n                this.items.splice(append, 0, ...response.entities)\n            else\n                this.items = append ? this.items.concat(response.entities) : response.entities\n\n            this.items = uniqWith(this.items, (a, b) => a.id == b.id)\n            this.nextUrl = response.response.data[this.nextKey] || null\n            this.prevUrl = response.response.data[this.prevKey] || null\n            this.count = response.response.data[this.countKey] || this.length\n        }\n        return response\n    }\n}\n\nexport default interface ModelList<M extends Model> extends IModelList<M> {\n    //ids: number[]\n    items: M[]\n    nextUrl: string|null\n    prevUrl: string|null\n    count: number|null\n}\n","import { cloneDeep, isEqual, pick } from 'lodash'\nimport type { Attribute, Repository } from 'pinia-orm'\nimport type { Response } from '@pinia-orm/axios'\nimport {toRaw} from 'vue'\n\nimport { reset, State } from '../utils'\nimport Editor from './editor'\nimport type { IObject } from '../utils'\nimport type { Model } from '../models'\nimport type {IEditor, IEditorProps, IEditorSend} from './editor'\n\n\n/**\n * ModelEditor properties (as passed down to {@link OxModelEdit} component).\n */\nexport interface IModelEditorProps<T extends Model> extends IEditorProps<T> {\n    /** Related repository */\n    repo: Repository<T>\n    /** Empty value, if not provided generated */\n    empty: T\n}\n\nexport interface IModelEditorSend extends IEditorSend {\n    id: number\n}\n\n\n/**\n * Editor sub-class used to edit model instances.\n *\n * Regarding properties ({@link IModelEditorProps}):\n * - `name` defaults to `{model.entity}-edit`.\n * - `repo` is mandatory\n *\n */\nexport default class ModelEditor<T extends Model, P extends IModelEditorProps<T>> extends Editor<T,P> {\n    constructor(options : IEditor<T,P>) {\n        options.fields = Object.keys((options.props.repo.use as typeof Model).fields())\n        options.empty ??= new options.props.repo.use()\n        super(options)\n    }\n\n    get repo() { return this.props.repo }\n    get name() { return this.props.name || `${this.repo.use.entity}-edit` }\n\n    isEdited(): boolean {\n        return !isEqual(pick(this.value, this.fields), pick(this.initial, this.fields))\n    }\n\n    get url(): string {\n        const url = super.url || (this.repo.use as typeof Model)?.meta?.url\n        if(!url)\n            throw Error(\"No url specified as parameter or in Model.meta.\")\n        return url\n    }\n\n    reset(val: T|null): void {\n        if(!val || !Object.keys(val).length)\n            val = this.empty\n\n        const fields = this.fields.filter(k => k in val)\n        this.value = cloneDeep(pick(val, fields)) || {}\n        this.state.none()\n    }\n\n    serialize(value: T): {[k: string]: any} {\n        const cls = this.repo.use\n        const obj = new cls({...this.value})\n        return obj.$toJson(null, {relations: false})\n    }\n\n    send(value: IModelEditorSend) : Promise<State> {\n        let [func, url] = [\"post\", this.url]\n        if(value.id) {\n            url = `${url}${value.id}/`\n            func = \"put\"\n        }\n        return this.repo.api()[func](url, value).then(\n            (result: Response) => State.ok(result.entities[0]),\n            (error: Response) => State.error(error.response.data)\n        )\n    }\n}\nexport default interface ModelEditor<T extends Model, P extends IModelEditorProps<T>> extends Editor<T,P> {\n    fields: string[]\n}\n","import {computed, reactive, toRefs} from 'vue'\nimport type {Reactive} from 'vue'\nimport type {Repository} from 'pinia-orm'\n\nimport {Model} from '../models'\nimport {mapToObject} from '../utils'\nimport {t, tKeys} from '../composables/i18n'\n\nimport type ModelList from './modelList'\nimport type Query from './query'\nimport type {Repos} from '../models'\n\nimport type {IPanel, IPanelProps} from './panel'\nimport type Panels from './panels'\n\nimport Panel from './panel'\nimport {query} from './query'\n\n\n/** Model panel component properties. */\nexport interface IModelPanelProps<M extends Model> extends IPanelProps {\n    /** Current repository */\n    repo: Repository<M>\n    // search: string\n    /** Current view */\n    view: string\n    /** List table headers */\n    headers?: string[]\n    /** Related fields to get from pinia orm's database and eventually fetch when items are retrieved from API.  */\n    relations?: string[]\n    /** Show filters */\n    showFilters?: boolean\n    /** Fetch related fields from API when queried */\n    fetchRelations: boolean\n    /** Search filter lookup */\n    search: string\n\n    /**\n     * Display this warning on the top of the panel.\n     */\n    warning?: string\n}\n\n/** Model panel interface. */\nexport interface IModelPanel<\n    M extends Model,\n    P extends IModelPanelProps<M> = IModelPanelProps<M>\n> extends IPanel<P>\n{\n    /** List controller used to load and handle multiple items from the server. */\n    list: ModelList<M>\n    /** Detail controller used to load and handle a single item from the server. */\n    //detail: ModelListDetail<M>\n}\n\n\n/** This class handles model panel (used by {@link OxModelPanel}. */\nexport default class ModelPanel<\n    M extends Model,\n    P extends IModelPanelProps<M> = IModelPanelProps<M>,\n> extends Panel<P>\n{\n    showFilters: boolean = false\n\n    constructor(options: IModelPanel<M,P>) {\n        super(options)\n        this.showFilters = this.props?.showFilters || false\n    }\n\n    /** Current model's repository. */\n    get repo(): Repository<M> { return this.props.repo }\n\n    /** Current model. */\n    get model(): typeof Model { return (this.repo.use as typeof Model) }\n\n    /** Query (shortcut to `this.list.query`). **/\n    get query(): Query<M> { return this.list.query }\n\n    /** Return icon based on props and model **/\n    get icon(): string { return super.icon || this.model.meta?.icon }\n\n    /** Return panel's title based on view and current item. */\n    get title(): string {\n        const {props, list} = this\n        const model = this.repo.use\n        if(model) {\n            // many items\n            if(this.view?.startsWith('list.'))\n                return t(tKeys.model(model), 3)\n\n            if(this.view?.startsWith('detail.') && this.value) {\n                if(this.value.$title)\n                    return this.value.$title\n\n                const name = t(tKeys.model(model))\n                return this.value.id\n                    ? t(`models._.title`, {model: name, id: this.value.id})\n                    : t(`models._.title.new`, {model: name})\n            }\n        }\n        return super.title\n    }\n\n    getUrlParams() {\n        const {value=null, ...params} = super.getUrlParams()\n        if(value?.id)\n            params.id = value.id\n        return params\n    }\n\n    /**\n     * Edit a new item.\n     *\n     * @param view - edit view.\n     */\n    create(view: string='detail.edit') {\n        this.show({view, value: null})\n    }\n\n    /** Called when an item has been created. By default, show edit view. */\n    created(value: M, view: string=\"detail.edit\") {\n        // this.list.load()\n        this.show({view, value})\n    }\n\n    show({id=null, ...params}: {view?: string, value?: M, id: number}) {\n        if(id) {\n            query(this.repo).fetch({id, relations: this.relations}).then(r => {\n                super.show({...params, value: r.entities[0]})\n                return r\n            })\n        }\n        else\n            return super.show(params)\n    }\n\n    onViewChange(val: string) {\n        super.onViewChange(val)\n        if(val.startsWith('list.'))\n            this.list.load()\n        //if(val.startsWith('detail.'))\n        //    this.detail.load()\n    }\n    onValueChange(val: string) {\n        //val && this.detail.load({id: val})\n    }\n}\n\n\nexport default interface ModelPanel<M extends Model,P extends IModelPanelProps<M>=IModelPanelProps<M>,O=IModelPanel<M>> extends IModelPanel<M,P> {\n    showFilters: boolean\n}\n","import {\n    computed, inject, isRef, toRefs, unref, watch,\n    onMounted, onUnmounted, provide, reactive,\n} from 'vue'\n\nimport type {ComputedRef, Reactive, Ref, WatchHandle} from 'vue'\nimport type {Repository} from 'pinia-orm'\n\nimport {injectOrProvide} from '../utils'\nimport type {IObject} from '../utils'\nimport type {Repos, Model} from '../models'\n\nimport {\n    Panels, Panel, ModelPanel,\n    Query, ModelList,\n    Editor, ModelEditor\n} from '../controllers'\n\nimport type {\n    IPanels, IPanel, IPanelProps,\n    IModelPanel, IModelPanelProps,\n    IModelList,\n    IEditor, IEditorProps, IModelEditorProps,\n} from '../controllers'\n\n\n//---- Panels\n/**\n * Create a new reactive {@link Panels} and provide it as `panels`.\n *\n * It also creates watchers in order to:\n * - update document title based on current panel's view\n * - keep track of current view's url: when a panels' getUrlParams changes, it will `History.pushState` storing those params;\n *\n * @return the reactive Panels.\n */\nexport function usePanels(options: IPanels) {\n    const panels = reactive(new Panels(options))\n    provide('panels', panels)\n\n    watch(() => panels.current, (panel) => {\n        if(panel && panel.name == panels.panel)\n            panel.show(panels.params)\n    })\n\n    watch(() => panels.current?.getUrlParams(), (vals) => {\n        if(!vals)\n            return\n\n        const params = (new URLSearchParams(vals)).toString()\n        if(params != panels.paramsString) {\n            history.pushState(vals, \"\", `?${params}`)\n            panels.paramsString = params\n        }\n    })\n\n    window.addEventListener(\"popstate\", (event) => {\n        if(event.state) {\n            panels.panel = event.state.panel\n        }\n    })\n\n    // we update title after history state\n    const initialTitle = document.title\n    watch(() => panels.current?.title, (val) => {\n        if(val)\n            document.title = `${val} | ${initialTitle}`\n        else\n            document.title = initialTitle\n    })\n\n    return panels\n}\n\n/** Create a new {@link Panel}.\n*\n* - (un)register the panel to object's `panels` on (un)mount.\n* - provide `panel`;\n* - watch on {@link Panel.view} calling {@link Panel.onViewChange}\n*/\nexport function usePanel<P extends IPanelProps>(options: IPanel<P>, cls: typeof Panel<P>) {\n    const panel = reactive(new cls(options))\n\n    provide('panel', panel)\n    onMounted(() => panel.panels.register(panel.name, panel))\n    onUnmounted(() => panel.panels.unregister(panel.name))\n\n    if(panel.onViewChange)\n        watch(() => panel.view, (val) => panel.onViewChange(val))\n    return {panel}\n}\n\n/** Create a new {@link ModelPanel}. */\n// TODO: allow to pass list down\nexport function useModelPanel<M extends Model, P extends IModelPanelProps<M>>(\n    {query, repos, ...options}: IModelPanel<M,P>\n)\n{\n    repos ??= inject('repos')\n    query ??= useQuery(options.props.repo, inject('repos'))\n    options.panels ??= inject('panels')\n\n    const {list, items} = useModelList({\n        query,\n        relations: options.props.relations,\n        fetchRelations: options.props.fetchRelations\n    })\n    const {panel} = usePanel({list, ...options}, ModelPanel)\n\n    const next = computed(() => {\n        const index = list.getSiblingIndex(unref(panel.value), 1)\n        return items.value[index] ?? null\n    })\n    const prev = computed(() => {\n        const index = list.getSiblingIndex(unref(panel.value), -1)\n        return items.value[index] ?? null\n    })\n\n    return {panels: panel.panels, panel, list, items, next, prev}\n}\n\n\n//---- Controllers\n/** Create a new {@link List} and provide it as `list`. */\nexport function useModelList<M extends Model>(options : IModelList<M>, cls: typeof ModelList = ModelList)\n{\n    const list = reactive(new cls(options))\n    const items = computed(() =>\n        list.save && list.relations && list.length ?\n            list.queryset(list.ids).orderBy((item) => list.ids.indexOf(item)).get() :\n            list.items\n    )\n\n    provide('list', list)\n    provide('items', items)\n    return {list, items}\n}\n\n/** This composable return a new query from provided arguments. */\nexport function useQuery<M extends Model>(repo: Repository<M>, repos: Repos|null=null): Query<M> {\n    const query = new Query(repo, repos)\n    provide('query', query)\n    return query\n}\n\n\n/**\n * This composable create an new Editor and returns it as reactive object.\n *\n * - provide `editor`\n * - set default `saved` method if emits is provided\n * - watch on edition to update panel's editions\n */\nexport function useEditor<\n    T extends Record<string,any>,\n    P extends IEditorProps<T>,\n>(\n    options: IEditor<T,P>,\n    cls: typeof Editor<T,P>=Editor<T,P>\n)\n{\n    const initial = options.initial || unref\n    const editor = reactive(new cls(options))\n\n    provide('editor', editor)\n\n    const edited = computed(() => editor.isEdited())\n    watch(() => editor.initial, (val) => editor.reset(val || editor.default))\n\n    const panel = inject('panel') as Panel\n    if(panel)\n        watch(() => editor.edited, (val: boolean) => panel.setEdition(editor.name, val))\n\n    return {editor, edited}\n}\n\n/** Return a new reactive {@link ModelEditor} */\nexport function useModelEditor<\n    T extends Model,\n    P extends IModelEditorProps<T>\n>(\n    options: IEditor<T,P>,\n    cls: typeof ModelEditor<T,P> = ModelEditor<T,P>\n)\n{\n    return useEditor(options, cls)\n}\n","import {t} from '../composables'\n\n/**\n * This object provide commonly used validation rules to use with form fields.\n */\nexport default {\n    /** Field is required */\n    required(value) {\n        return value ? true : t('fields._.required')\n    },\n\n    /**\n     * Validate field errors returned from the server.\n     */\n    errors(errorList) {\n        return () => {\n            errorList?.length ? errorList.join('<br>') : true\n        }\n    },\n\n    /**\n     * Return a rule whose validating value is optional.\n     *\n     * By default rules require value to be provided. This returns a new\n     * rule whose value can either be empty or must match provided rule.\n     */\n    optional(rule) {\n        return (value) => {\n            return !value || rule(value)\n        }\n    },\n\n    /** Rule validating email */\n    email(value) {\n        const allowed = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i\n        return allowed.test(value) || t(\"fields.email.rule\")\n    },\n\n    /** Rule validating username */\n    username(value) {\n        const allowed = /^[A-Za-z0-9@.+\\-_]+$/\n        return allowed.test(value) || \"Username must not be empty. It only can contain letters, numbers and @/+/./- special characters\"\n    },\n}\n","import { defineAsyncComponent as $defineAsyncComponent } from 'vue'\n\nexport * from './app'\nexport * from './actions'\nexport * from './init'\nexport * from './i18n'\nexport * from './models'\nexport * from './controllers'\nexport {default as rules} from './rules'\n\n\n/**\n * Similar to `defineAsyncComponent` allowing to load a component\n * by name from a provided module url.\n */\nexport function defineAsyncComponent(url: string, name: string) {\n    return $defineAsyncComponent(() => {\n        return import(url).then(mod => {\n            if(!name)\n                return mod\n            console.log(mod, mod.components, Object.keys(mod))\n            const obj = Object.values(mod).filter((y: {[k: string]: any}) => y.__name == name)[0]\n            return obj\n        })\n    })\n}\n\n\n/**\n * This exception is used in order to display the message to user\n * when it is raised.\n */\nclass UserError extends Error {}\n"],"names":["asRelation","repo","relation","fields","_a","field","Relation","getSourceKey","HasMany","HasManyBy","HasOne","BelongsTo","Response","repository","config","response","__publicField","data","method","result","action","Request","actions","_c","_b","name","url","requestConfig","axiosResponse","AxiosRepository","Repository","database","pinia","useAxiosApi","axios","useAxiosRepo","model","getActivePinia","useRepo","createPiniaOrmAxios","axiosConfig","definePiniaOrmPlugin","context","useModels","models","useInject","useDefaults","repos","inject","injected","User","provide","usePermissionsProps","usePermissions","user","perms","value","permissions","Permissions","allowed","computed","unref","AppContext","opts","obj","reactive","State","dataEl","el","useAppContext","load","useAction","props","emits","processing","ref","args","weekInfo","locale","code","getWeekArray","date","firstDayOfWeek","weeks","currentWeek","firstDayOfMonth","startOfMonth","lastDayOfMonth","endOfMonth","first","firstDayWeekIndex","lastDayWeekIndex","i","adjacentDay","day","startOfWeek","d","endOfWeek","lastDay","parseLocalDate","parts","_YYYMMDD","parsed","sundayJanuarySecond2000","getWeekdays","daysFromSunday","createRange","weekday","format","formatString","formats","newDate","customFormat","options","month","toISO","adapter","year","padStart","parseISO","addMinutes","amount","addHours","addDays","addWeeks","addMonths","getYear","getMonth","getWeek","firstWeekMinSize","weekInfoFromLocale","weekStart","minWeekSize","firstWeekSize","yearStart","getDiff","currentWeekEnd","size","d1w1","getDate","getNextMonth","getPreviousMonth","getHours","getMinutes","startOfYear","endOfYear","isWithinRange","range","isAfter","isBefore","isValid","comparing","isAfterDay","startOfDay","isEqual","isSameDay","isSameMonth","isSameYear","unit","c","setHours","count","setMinutes","setMonth","setDate","setYear","endOfDay","VuetifyDateAdapter","firstDay","DateOptionsSymbol","DateAdapterSymbol","createDate","_options","mergeDeep","createInstance","instance","watch","createVuetify","vuetify","blueprint","rest","aliases","components","directives","scope","effectScope","defaults","createDefaults","display","createDisplay","theme","createTheme","icons","createIcons","createLocale","goTo","createGoTo","install","app","key","defineComponent","appScope","DefaultsSymbol","DisplaySymbol","ThemeSymbol","IconSymbol","LocaleSymbol","GoToSymbol","IN_BROWSER","mount","vm","nextTick","unmount","version","provides","md3","mdi","green","colors","inBrowser","makeSymbol","shareable","generateFormatCacheKey","source","friendlyJSONstringify","json","isNumber","val","isDate","toTypeString","isRegExp","isEmptyObject","isPlainObject","assign","_create","create","_globalThis","getGlobalThis","escapeHtml","rawText","hasOwnProperty","hasOwn","isArray","isFunction","isString","isBoolean","isObject","isPromise","objectToString","toDisplayString","join","items","separator","str","item","index","warn","msg","err","isNotObjectOrIsArray","deepCopy","src","des","stack","createPosition","line","column","offset","createLocation","start","end","CompileErrorCodes","COMPILE_ERROR_CODES_EXTEND_POINT","createCompileError","loc","domain","messages","error","defaultOnError","CHAR_SP","CHAR_CR","CHAR_LF","CHAR_LS","CHAR_PS","createScanner","_buf","_index","_line","_column","_peekOffset","isCRLF","isLF","isPS","isLS","isLineEnd","peekOffset","charAt","currentChar","currentPeek","next","peek","reset","resetPeek","skipToPeek","target","EOF","DOT","LITERAL_DELIMITER","ERROR_DOMAIN$3","createTokenizer","location","_scnr","currentOffset","currentPosition","_initLoc","_initOffset","_context","onError","emitError","pos","ctx","getToken","type","token","getEndToken","eat","scnr","ch","peekSpaces","buf","skipSpaces","isIdentifierStart","cc","isNumberStart","isNamedIdentifierStart","currentType","ret","isListIdentifierStart","isLiteralStart","isLinkedDotStart","isLinkedModifierStart","isLinkedDelimiterStart","isLinkedReferStart","fn","isTextStart","isPluralStart","hasSpace","prev","takeChar","isIdentifier","takeIdentifierChar","isNamedIdentifier","takeNamedIdentifierChar","isDigit","takeDigit","isHexDigit","takeHexDigit","getDigits","num","readText","readNamedIdentifier","readListIdentifier","isLiteral","readLiteral","literal","readEscapeSequence","current","readUnicodeEscapeSequence","unicode","digits","sequence","isInvalidIdentifier","readInvalidIdentifier","identifiers","readLinkedModifier","readLinkedRefer","readPlural","plural","readTokenInPlaceholder","readTokenInLinked","validNamedIdentifier","validListIdentifier","validLiteral","readToken","nextToken","startLoc","endLoc","ERROR_DOMAIN$2","KNOWN_ESCAPES","fromEscapeSequence","match","codePoint4","codePoint6","codePoint","createParser","tokenzer","startNode","node","endNode","parseText","tokenizer","parseList","parseNamed","parseLiteral","parseLinkedModifier","getTokenCaption","parseLinkedKey","parseLinked","linkedNode","nextContext","emptyLinkedKeyNode","parseMessage","startOffset","endOffset","parsePlural","msgNode","hasEmptyMessage","parseResource","parse","createTransformer","ast","traverseNodes","nodes","transformer","traverseNode","transform","optimize","body","optimizeMessageNode","message","values","minify","resource","cases","valueNode","linked","list","named","createCodeGenerator","filename","breakLineCode","_needIndent","push","_newline","n","withBreakLine","_breakLineCode","indent","withNewLine","level","deindent","newline","generateLinkedNode","generator","helper","generateNode","generateMessageNode","needIndent","length","generatePluralNode","generateResource","generate","mode","helpers","s","map","baseCompile","assignedOptions","jit","enalbeMinify","enambeOptimize","initFeatureFlags","isMessageAST","resolveType","PROPS_BODY","resolveBody","resolveProps","PROPS_CASES","resolveCases","PROPS_STATIC","resolveStatic","PROPS_ITEMS","resolveItems","PROPS_TYPE","PROPS_VALUE","resolveValue$1","resolved","createUnhandleNodeError","PROPS_MODIFIER","resolveLinkedModifier","PROPS_KEY","resolveLinkedKey","defaultValue","prop","AST_NODE_PROPS_KEYS","formatParts","formatMessageParts","static_","acm","formatMessagePart","modifier","defaultOnCacheKey","compileCache","detectError","baseCompile$1","compile","cacheKey","cached","devtools","setDevToolsHook","hook","initI18nDevTools","i18n","meta","translateDevTools","createDevToolsHook","payloads","CoreErrorCodes","CORE_ERROR_CODES_EXTEND_POINT","createCoreError","getLocale","resolveLocale","_resolveLocale","resolve","fallbackWithSimple","fallback","fallbackWithLocaleChain","startLocale","DEFAULT_LOCALE","chain","block","appendBlockToChain","blocks","follow","appendLocaleToChain","tokens","appendItemToChain","pathStateMachine","literalValueRE","exp","stripQuotes","a","b","getPathCharType","formatSubPath","path","trimmed","keys","subPathDepth","newChar","transition","typeMap","maybeUnescapeQuote","nextChar","cache","resolveWithKeyValue","resolveValue","hit","len","last","VERSION","NOT_REOSLVED","MISSING_RESOLVE_VALUE","capitalize","getDefaultLinkedModifiers","_compiler","registerMessageCompiler","compiler","_resolver","registerMessageResolver","resolver","_fallbacker","registerLocaleFallbacker","fallbacker","_additionalMeta","setAdditionalMeta","getAdditionalMeta","_fallbackContext","setFallbackContext","getFallbackContext","_cid","createCoreContext","onWarn","_locale","fallbackLocale","createResources","datetimeFormats","numberFormats","modifiers","pluralRules","missing","missingWarn","fallbackWarn","fallbackFormat","unresolving","postTranslation","processor","warnHtmlMessage","escapeParameter","messageCompiler","messageResolver","localeFallbacker","fallbackContext","internalOptions","__datetimeFormatters","__numberFormatters","__meta","handleMissing","updateFallbackLocale","isAlmostSameLocale","compareLocale","isImplicitFallback","targetLocale","locales","datetime","overrides","parseDateTimeArgs","part","datetimeFormat","id","formatter","DATETIME_FORMAT_OPTIONS_KEYS","arg1","arg2","arg3","arg4","matches","dateTime","clearDateTimeFormat","number","parseNumberArgs","numberFormat","NUMBER_FORMAT_OPTIONS_KEYS","clearNumberFormat","DEFAULT_MODIFIER","DEFAULT_MESSAGE","DEFAULT_MESSAGE_DATA_TYPE","DEFAULT_NORMALIZE","DEFAULT_INTERPOLATE","pluralDefault","choice","choicesLength","getPluralIndex","normalizeNamed","pluralIndex","createMessageContext","pluralRule","orgPluralRule","_list","_named","useLinked","_modifier","normalize","interpolate","NOOP_MESSAGE_FUNCTION","isMessageFunction","translate","parseTranslateArgs","resolvedMessage","defaultMsgOrKey","enableDefaultMsg","escapeParams","formatScope","resolveMessageFormat","cacheBaseKey","occurred","compileMessageFormat","ctxOptions","getMessageContextOptions","msgContext","messaged","evaluateMessage","missingRet","getCompileContext","msgCtx","I18nErrorCodes","createI18nError","TranslateVNodeSymbol","DatetimePartsSymbol","NumberPartsSymbol","SetPluralRulesSymbol","InejctWithOptionSymbol","DisposeSymbol","handleFlatJson","subKeys","lastIndex","currentObj","hasStringValue","getLocaleMessages","__i18n","flatJson","custom","getComponentOptions","adjustI18nResources","gl","componentOptions","createTextNode","createVNode","Text","DEVTOOLS_META","NOOP_RETURN_ARRAY","NOOP_RETURN_FALSE","composerID","defineCoreMissingHandler","getCurrentInstance","getMetaInfo","createComposer","__root","__injectWithOption","_isGlobal","_ref","shallowRef","_inheritLocale","_fallbackLocale","_messages","_datetimeFormats","_numberFormats","_missingWarn","_fallbackWarn","_fallbackRoot","_fallbackFormat","_missing","_runtimeMissing","_postTranslation","_warnHtmlMessage","_escapeParameter","_modifiers","_pluralRules","trackReactivityValues","getPostTranslationHandler","setPostTranslationHandler","handler","getMissingHandler","setMissingHandler","wrapWithDeps","argumentParser","warnType","fallbackSuccess","fallbackFail","successCondition","t","root","rt","translateVNode","numberParts","datetimeParts","setPluralRules","rules","te","getLocaleMessage","resolveMessages","targetLocaleMessages","messageValue","tm","setLocaleMessage","_message","mergeLocaleMessage","getDateTimeFormat","setDateTimeFormat","mergeDateTimeFormat","getNumberFormat","setNumberFormat","mergeNumberFormat","composer","convertComposerOptions","fallbackRoot","pluralizationRules","inheritLocale","sharedMessages","createVueI18n","__extender","vueI18n","defineMixin","vuei18n","optionsI18n","mergeToGlobal","_vueI18n","g","baseFormatProps","getInterpolateArg","slots","slot","Fragment","arg","getFragmentableTag","TranslationImpl","attrs","useI18n","children","assignedAttrs","tag","h","Translation","isVNode","renderFormatter","slotKeys","partFormatter","NumberFormatImpl","NumberFormat","DatetimeFormatImpl","DatetimeFormat","getComposer$1","i18nInternal","vTDirective","_process","binding","parsedValue","parseValue","makeParams","textContent","apply","pluginOptions","I18nInjectionKey","createI18n","VueI18nLegacy","__legacyMode","__globalInjection","__instances","globalScope","__global","createGlobal","symbol","__getInstance","component","__setInstance","__deleteInstance","globalReleaseHandler","injectGlobalFields","unmountApp","getI18nInstance","getGlobalComposer","getScope","getComposer","composerOptions","setupLifeCycle","legacyMode","useComponent","getParentComponentInstance","onMounted","onUnmounted","_composer","dispose","globalExportProps","globalExportMethods","desc","wrap","isRef","getCookieList","x","$createI18n","loadLocale","setLocale","loadedLocalePaths","promise","loadLocaleFrom","locale2","r","tKeys","init","App","onLoad","initApp","createApp","plugins","$createApp","plugin","vendorComponents","$createVuetify","createPinia","baseURL","$createPinia","piniaOrm","createORM","setActivePinia","Query","ids","lookup","params","relations","_e","_d","nextKey","limit","result2","objs","entities","funcName","rel","repo2","fk","collectAttr","query","Editor","assignNonEmpty","initial","state","_","Panel","edited","view","Panels","idx","child","force","href","panel","ModelController","ModelList","v","step","sibling","append","uniqWith","ModelEditor","pick","k","cloneDeep","cls","func","ModelPanel","usePanels","panels","vals","event","initialTitle","usePanel","useModelPanel","useQuery","useModelList","useEditor","editor","useModelEditor","errorList","rule","defineAsyncComponent","$defineAsyncComponent","mod","y"],"mappings":"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","x_google_ignoreList":[1,5,6,7,8,9,10,11,12,13]}
