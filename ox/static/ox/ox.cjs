"use strict";Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"});const o=require("./index-DHxn7z-2.cjs"),m=require("vue"),N=require("axios"),B=require("./vuetify-XAuhWGa1.cjs"),x=Object.freeze(Object.defineProperty({__proto__:null,ContentType:o.ContentType,Group:o.Group,Meta:o.Meta,Model:o.Model,Permission:o.Permission,Permissions:o.Permissions,User:o.User},Symbol.toStringTag,{value:"Module"}));class w{static reactive({initial:e,...t}){const r=m.reactive(new this({initial:m.unref(e),...t}));return r.edited=m.computed(()=>r.isEdited()),m.isRef(e)&&m.watch(e,a=>r.reset(a)),r}constructor({initial:e,name:t=null,saved:r=null,url:a=null,state:i=new o.State},s={}){this.initial=e,this.name=t,this.saved=r,this.url=a,this.state=i;for(const h in s)this[h]=s[h];this.value={},this.reset(e)}get errors(){return this.state.isError&&this.state.data||null}reset(e=null){e!==null?this.initial=e:e=this.initial,this._reset(e),this.state.none()}_reset(e){o.reset(this.value,e)}isValid(){return this._isValid()}_isValid(){return!0}isEdited(){return Object.keys(this.value).some(e=>this.value[e]!=this.initial[e])}async save(e=null){var r;if(this.state.processing(),!this.isValid())return this.state.error({_:"Some of the input values are invalid"});e=this.serialize(e??this.value);const t=await this.send(e);return t.isOk?(this.reset(t.data),(r=this.saved)==null||r.call(this,this.value,this)):this.state=t,this.state}serialize(e){return e}send(e){throw"not implemented"}}class A extends w{constructor({repo:e,url:t,...r}){var a,i;t=t||((i=(a=e.use)==null?void 0:a.meta)==null?void 0:i.url),super({url:t,...r},{repo:e})}get fields(){return this._fields||(this._fields=Object.keys(this.repo.use.fields())),this._fields}_reset(e){this.value=m.reactive(new this.initial.constructor),this.fields.reduce((t,r)=>(t[r]=e[r],t),this.value)}isEdited(){return this.fields.some(e=>this.value[e]!=this.initial[e])}serialize(e){return e.$toJson(null,{relations:!1})}send(e){let[t,r]=["post",this.url];return e.id&&(r=`${r}${e.id}/`,t="put"),this.repo.api()[t](r,e).then(a=>o.State.ok(a.entities[0]),a=>o.State.error(a.response.data))}}function P({editorClass:n=w,emits:e=null,panel:t=null,...r}){e&&(r.saved??(r.saved=(i,s)=>e("saved",i,s)));const a=n.reactive(r);return t&&m.watch(()=>a.edited,i=>t.setEdition(a.name,i)),a}function R(n){return P({...n,editorClass:A})}const p={"001":1,AD:1,AE:6,AF:6,AG:0,AI:1,AL:1,AM:1,AN:1,AR:1,AS:0,AT:1,AU:1,AX:1,AZ:1,BA:1,BD:0,BE:1,BG:1,BH:6,BM:1,BN:1,BR:0,BS:0,BT:0,BW:0,BY:1,BZ:0,CA:0,CH:1,CL:1,CM:1,CN:1,CO:0,CR:1,CY:1,CZ:1,DE:1,DJ:6,DK:1,DM:0,DO:0,DZ:6,EC:1,EE:1,EG:6,ES:1,ET:0,FI:1,FJ:1,FO:1,FR:1,GB:1,"GB-alt-variant":0,GE:1,GF:1,GP:1,GR:1,GT:0,GU:0,HK:0,HN:0,HR:1,HU:1,ID:0,IE:1,IL:0,IN:0,IQ:6,IR:6,IS:1,IT:1,JM:0,JO:6,JP:0,KE:0,KG:1,KH:0,KR:0,KW:6,KZ:1,LA:0,LB:1,LI:1,LK:1,LT:1,LU:1,LV:1,LY:6,MC:1,MD:1,ME:1,MH:0,MK:1,MM:0,MN:1,MO:0,MQ:1,MT:0,MV:5,MX:0,MY:1,MZ:0,NI:0,NL:1,NO:1,NP:0,NZ:1,OM:6,PA:0,PE:0,PH:0,PK:0,PL:1,PR:0,PT:0,PY:0,QA:6,RE:1,RO:1,RS:1,RU:1,SA:0,SD:6,SE:1,SG:0,SI:1,SK:1,SM:1,SV:0,SY:6,TH:0,TJ:1,TM:1,TR:1,TT:0,TW:0,UA:1,UM:0,US:0,UY:1,UZ:1,VA:1,VE:0,VI:0,VN:1,WS:0,XK:1,YE:0,ZA:0,ZW:0};function H(n,e,t){const r=[];let a=[];const i=Y(n),s=C(n),h=t??p[e.slice(-2).toUpperCase()]??0,f=(i.getDay()-h+7)%7,y=(s.getDay()-h+7)%7;for(let c=0;c<f;c++){const l=new Date(i);l.setDate(l.getDate()-(f-c)),a.push(l)}for(let c=1;c<=s.getDate();c++){const l=new Date(n.getFullYear(),n.getMonth(),c);a.push(l),a.length===7&&(r.push(a),a=[])}for(let c=1;c<7-y;c++){const l=new Date(s);l.setDate(l.getDate()+c),a.push(l)}return a.length>0&&r.push(a),r}function W(n,e,t){const r=t??p[e.slice(-2).toUpperCase()]??0,a=new Date(n);for(;a.getDay()!==r;)a.setDate(a.getDate()-1);return a}function U(n,e){const t=new Date(n),r=((p[e.slice(-2).toUpperCase()]??0)+6)%7;for(;t.getDay()!==r;)t.setDate(t.getDate()+1);return t}function Y(n){return new Date(n.getFullYear(),n.getMonth(),1)}function C(n){return new Date(n.getFullYear(),n.getMonth()+1,0)}function G(n){const e=n.split("-").map(Number);return new Date(e[0],e[1]-1,e[2])}const _=/^([12]\d{3}-([1-9]|0[1-9]|1[0-2])-([1-9]|0[1-9]|[12]\d|3[01]))$/;function O(n){if(n==null)return new Date;if(n instanceof Date)return n;if(typeof n=="string"){let e;if(_.test(n))return G(n);if(e=Date.parse(n),!isNaN(e))return new Date(e)}return null}const S=new Date(2e3,0,2);function K(n,e){const t=e??p[n.slice(-2).toUpperCase()]??0;return o.createRange(7).map(r=>{const a=new Date(S);return a.setDate(S.getDate()+t+r),new Intl.DateTimeFormat(n,{weekday:"narrow"}).format(a)})}function Z(n,e,t,r){const a=O(n)??new Date,i=r==null?void 0:r[e];if(typeof i=="function")return i(a,e,t);let s={};switch(e){case"fullDate":s={year:"numeric",month:"long",day:"numeric"};break;case"fullDateWithWeekday":s={weekday:"long",year:"numeric",month:"long",day:"numeric"};break;case"normalDate":const h=a.getDate(),f=new Intl.DateTimeFormat(t,{month:"long"}).format(a);return`${h} ${f}`;case"normalDateWithWeekday":s={weekday:"short",day:"numeric",month:"short"};break;case"shortDate":s={month:"short",day:"numeric"};break;case"year":s={year:"numeric"};break;case"month":s={month:"long"};break;case"monthShort":s={month:"short"};break;case"monthAndYear":s={month:"long",year:"numeric"};break;case"monthAndDate":s={month:"long",day:"numeric"};break;case"weekday":s={weekday:"long"};break;case"weekdayShort":s={weekday:"short"};break;case"dayOfMonth":return new Intl.NumberFormat(t).format(a.getDate());case"hours12h":s={hour:"numeric",hour12:!0};break;case"hours24h":s={hour:"numeric",hour12:!1};break;case"minutes":s={minute:"numeric"};break;case"seconds":s={second:"numeric"};break;case"fullTime":s={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime12h":s={hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullTime24h":s={hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"fullDateTime":s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime12h":s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"fullDateTime24h":s={year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDate":s={year:"numeric",month:"2-digit",day:"2-digit"};break;case"keyboardDateTime":s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;case"keyboardDateTime12h":s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0};break;case"keyboardDateTime24h":s={year:"numeric",month:"2-digit",day:"2-digit",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1};break;default:s=i??{timeZone:"UTC",timeZoneName:"short"}}return new Intl.DateTimeFormat(t,s).format(a)}function $(n,e){const t=n.toJsDate(e),r=t.getFullYear(),a=o.padStart(String(t.getMonth()+1),2,"0"),i=o.padStart(String(t.getDate()),2,"0");return`${r}-${a}-${i}`}function j(n){const[e,t,r]=n.split("-").map(Number);return new Date(e,t-1,r)}function J(n,e){const t=new Date(n);return t.setMinutes(t.getMinutes()+e),t}function z(n,e){const t=new Date(n);return t.setHours(t.getHours()+e),t}function q(n,e){const t=new Date(n);return t.setDate(t.getDate()+e),t}function Q(n,e){const t=new Date(n);return t.setDate(t.getDate()+e*7),t}function X(n,e){const t=new Date(n);return t.setDate(1),t.setMonth(t.getMonth()+e),t}function ee(n){return n.getFullYear()}function te(n){return n.getMonth()}function ne(n){return n.getDate()}function re(n){return new Date(n.getFullYear(),n.getMonth()+1,1)}function oe(n){return new Date(n.getFullYear(),n.getMonth()-1,1)}function ae(n){return n.getHours()}function se(n){return n.getMinutes()}function ie(n){return new Date(n.getFullYear(),0,1)}function ue(n){return new Date(n.getFullYear(),11,31)}function ce(n,e){return D(n,e[0])&&me(n,e[1])}function le(n){const e=new Date(n);return e instanceof Date&&!isNaN(e.getTime())}function D(n,e){return n.getTime()>e.getTime()}function de(n,e){return D(b(n),b(e))}function me(n,e){return n.getTime()<e.getTime()}function T(n,e){return n.getTime()===e.getTime()}function he(n,e){return n.getDate()===e.getDate()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()}function fe(n,e){return n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()}function ge(n,e){return n.getFullYear()===e.getFullYear()}function ye(n,e,t){const r=new Date(n),a=new Date(e);switch(t){case"years":return r.getFullYear()-a.getFullYear();case"quarters":return Math.floor((r.getMonth()-a.getMonth()+(r.getFullYear()-a.getFullYear())*12)/4);case"months":return r.getMonth()-a.getMonth()+(r.getFullYear()-a.getFullYear())*12;case"weeks":return Math.floor((r.getTime()-a.getTime())/(1e3*60*60*24*7));case"days":return Math.floor((r.getTime()-a.getTime())/(1e3*60*60*24));case"hours":return Math.floor((r.getTime()-a.getTime())/(1e3*60*60));case"minutes":return Math.floor((r.getTime()-a.getTime())/(1e3*60));case"seconds":return Math.floor((r.getTime()-a.getTime())/1e3);default:return r.getTime()-a.getTime()}}function De(n,e){const t=new Date(n);return t.setHours(e),t}function pe(n,e){const t=new Date(n);return t.setMinutes(e),t}function Me(n,e){const t=new Date(n);return t.setMonth(e),t}function be(n,e){const t=new Date(n);return t.setDate(e),t}function we(n,e){const t=new Date(n);return t.setFullYear(e),t}function b(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0,0)}function ke(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),23,59,59,999)}class Se{constructor(e){this.locale=e.locale,this.formats=e.formats}date(e){return O(e)}toJsDate(e){return e}toISO(e){return $(this,e)}parseISO(e){return j(e)}addMinutes(e,t){return J(e,t)}addHours(e,t){return z(e,t)}addDays(e,t){return q(e,t)}addWeeks(e,t){return Q(e,t)}addMonths(e,t){return X(e,t)}getWeekArray(e,t){return H(e,this.locale,t?Number(t):void 0)}startOfWeek(e,t){return W(e,this.locale,t?Number(t):void 0)}endOfWeek(e){return U(e,this.locale)}startOfMonth(e){return Y(e)}endOfMonth(e){return C(e)}format(e,t){return Z(e,t,this.locale,this.formats)}isEqual(e,t){return T(e,t)}isValid(e){return le(e)}isWithinRange(e,t){return ce(e,t)}isAfter(e,t){return D(e,t)}isAfterDay(e,t){return de(e,t)}isBefore(e,t){return!D(e,t)&&!T(e,t)}isSameDay(e,t){return he(e,t)}isSameMonth(e,t){return fe(e,t)}isSameYear(e,t){return ge(e,t)}setMinutes(e,t){return pe(e,t)}setHours(e,t){return De(e,t)}setMonth(e,t){return Me(e,t)}setDate(e,t){return be(e,t)}setYear(e,t){return we(e,t)}getDiff(e,t,r){return ye(e,t,r)}getWeekdays(e){return K(this.locale,e?Number(e):void 0)}getYear(e){return ee(e)}getMonth(e){return te(e)}getDate(e){return ne(e)}getNextMonth(e){return re(e)}getPreviousMonth(e){return oe(e)}getHours(e){return ae(e)}getMinutes(e){return se(e)}startOfDay(e){return b(e)}endOfDay(e){return ke(e)}startOfYear(e){return ie(e)}endOfYear(e){return ue(e)}}const Te=Symbol.for("vuetify:date-options"),v=Symbol.for("vuetify:date-adapter");function ve(n,e){const t=o.mergeDeep({adapter:Se,locale:{af:"af-ZA",bg:"bg-BG",ca:"ca-ES",ckb:"",cs:"cs-CZ",de:"de-DE",el:"el-GR",en:"en-US",et:"et-EE",fa:"fa-IR",fi:"fi-FI",hr:"hr-HR",hu:"hu-HU",he:"he-IL",id:"id-ID",it:"it-IT",ja:"ja-JP",ko:"ko-KR",lv:"lv-LV",lt:"lt-LT",nl:"nl-NL",no:"no-NO",pl:"pl-PL",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",sl:"sl-SI",srCyrl:"sr-SP",srLatn:"sr-SP",sv:"sv-SE",th:"th-TH",tr:"tr-TR",az:"az-AZ",uk:"uk-UA",vi:"vi-VN",zhHans:"zh-CN",zhHant:"zh-TW"}},n);return{options:t,instance:Ae(t,e)}}function Ae(n,e){const t=m.reactive(typeof n.adapter=="function"?new n.adapter({locale:n.locale[e.current.value]??e.current.value,formats:n.formats}):n.adapter);return m.watch(e.current,r=>{t.locale=n.locale[r]??r??t.locale}),t}function L(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{blueprint:e,...t}=n,r=o.mergeDeep(e,t),{aliases:a={},components:i={},directives:s={}}=r,h=o.createDefaults(r.defaults),f=o.createDisplay(r.display,r.ssr),y=o.createTheme(r.theme),c=o.createIcons(r.icons),l=o.createLocale(r.locale),M=ve(r.date,l),k=o.createGoTo(r.goTo,l);return{install:u=>{for(const d in s)u.directive(d,s[d]);for(const d in i)u.component(d,i[d]);for(const d in a)u.component(d,o.defineComponent({...a[d],name:d,aliasName:a[d].name}));if(y.install(u),u.provide(o.DefaultsSymbol,h),u.provide(o.DisplaySymbol,f),u.provide(o.ThemeSymbol,y),u.provide(o.IconSymbol,c),u.provide(o.LocaleSymbol,l),u.provide(Te,M.options),u.provide(v,M.instance),u.provide(o.GoToSymbol,k),o.IN_BROWSER&&r.ssr)if(u.$nuxt)u.$nuxt.hook("app:suspense:resolve",()=>{f.update()});else{const{mount:d}=u;u.mount=function(){const E=d(...arguments);return m.nextTick(()=>f.update()),u.mount=d,E}}o.getUid.reset(),u.mixin({computed:{$vuetify(){return m.reactive({defaults:g.call(this,o.DefaultsSymbol),display:g.call(this,o.DisplaySymbol),theme:g.call(this,o.ThemeSymbol),icons:g.call(this,o.IconSymbol),locale:g.call(this,o.LocaleSymbol),date:g.call(this,v)})}}})},defaults:h,display:f,theme:y,icons:c,locale:l,date:M,goTo:k}}const Pe="3.7.3";L.version=Pe;function g(n){var r,a;const e=this.$,t=((r=e.parent)==null?void 0:r.provides)??((a=e.vnode.appContext)==null?void 0:a.provides);if(t&&n in t)return t[n]}const Ye={defaults:{VAppBar:{flat:!0},VAutocomplete:{variant:"filled"},VBanner:{color:"primary"},VBottomSheet:{contentClass:"rounded-t-xl overflow-hidden"},VBtn:{color:"primary",rounded:"xl"},VBtnGroup:{rounded:"xl",VBtn:{rounded:null}},VCard:{rounded:"lg"},VCheckbox:{color:"secondary",inset:!0},VChip:{rounded:"sm"},VCombobox:{variant:"filled"},VNavigationDrawer:{},VSelect:{variant:"filled"},VSlider:{color:"primary"},VTabs:{color:"primary"},VTextarea:{variant:"filled"},VTextField:{variant:"filled"},VToolbar:{VBtn:{color:null}}},icons:{defaultSet:"mdi",sets:{mdi:o.mdi}},theme:{themes:{light:{colors:{primary:"#6750a4",secondary:"#b4b0bb",tertiary:"#7d5260",error:"#b3261e",surface:"#fffbfe"}}}}};function Ce({App:n=null,el:e="#app",...t}={},r=!0){function a(){const i=F(n,t),s=e?i.mount(e):null;return document.body.classList.remove("loading"),{app:i,el:e,vm:s}}return new Promise(i=>{if(r)return window.addEventListener("load",()=>i(a()));i(a())})}function F(n,{props:e={},vuetify:t={},plugins:r=null}={}){return n=m.createApp(n,e),n.config.globalProperties.window=window,n.use(V(t)),n.use(I()),r&&r.forEach(a=>n.use(a)),n}function I(){const e=(o.getCookie("lang",",")||["en"]).map(t=>t.toLowerCase().replace(/[_-](\w+)/,"")).find(t=>t in o.config.locales);return o.createI18n({legacy:!1,fallbackLocale:"en",locale:e})}function V({components:n={},...e}){return e.components={...B.vuetify,...n},L({blueprint:Ye,theme:{},...e})}function Oe({axiosConfig:n=null,baseURL:e=null}={}){e||(e=document.body.dataset.apiUrl);const t=o.createPinia(),r=o.createORM({});return r().use(o.createPiniaOrmAxios({axios:N,...n||o.config.axiosConfig,baseURL:e})),o.setActivePinia(t),t.use(r)}exports.ApiList=o.ApiList;exports.AppContext=o.AppContext;exports.Panel=o.Panel;exports.State=o.State;exports.States=o.States;exports.aggregateValues=o.aggregateValues;exports.api=o.api;exports.apiList=o.apiList;exports.apiListProps=o.apiListProps;exports.config=o.config;Object.defineProperty(exports,"csrfToken",{enumerable:!0,get:()=>o.csrfToken});exports.defineAsyncComponent=o.defineAsyncComponent;exports.filterSlots=o.filterSlots;exports.getCookie=o.getCookie;exports.getCsrf=o.getCsrf;exports.loadLocale=o.loadLocale;exports.loadLocaleFrom=o.loadLocaleFrom;exports.loadedLocalePaths=o.loadedLocalePaths;exports.makeModelApiAction=o.makeModelApiAction;exports.mapToObject=o.mapToObject;exports.panelNavProps=o.panelNavProps;exports.panelProps=o.panelProps;exports.reset=o.reset;exports.setLocale=o.setLocale;exports.shallowCopy=o.shallowCopy;exports.useAction=o.useAction;exports.useApiList=o.useApiList;exports.useApiListProps=o.useApiListProps;exports.useAppContext=o.useAppContext;exports.useI18n=o.useI18n;exports.useModelPanelProps=o.useModelPanelProps;exports.useModels=o.useModels;exports.usePermissions=o.usePermissions;exports.usePermissionsProps=o.usePermissionsProps;exports.Editor=w;exports.ModelEditor=A;exports.createApp=F;exports.createI18n=I;exports.createPinia=Oe;exports.createVuetify=V;exports.editor=P;exports.init=Ce;exports.modelEditor=R;exports.models=x;
//# sourceMappingURL=ox.cjs.map
