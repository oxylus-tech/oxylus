{"version":3,"file":"components.cjs","sources":["../../../assets/ox/src/components/OxAction.vue","../../../assets/ox/src/components/OxActionModelDelete.vue","../../../assets/ox/src/components/OxActions.vue","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/components/VSnackbar/VSnackbar.js","../../../assets/ox/src/components/OxApp.vue","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/components/VAutocomplete/VAutocomplete.js","../../../assets/ox/src/components/OxAutocomplete.vue","../../../assets/ox/src/components/OxComponent.vue","../../../assets/ox/src/components/OxFieldDetails.vue","../../../assets/ox/src/components/OxListFilters.vue","../../../assets/ox/src/components/OxFormList.vue","../../../assets/node_modules/.pnpm/vuetify@3.8.4_typescript@5.8.3_vite-plugin-vuetify@2.1.1_vue@3.5.13_typescript@5.8.3_/node_modules/vuetify/lib/components/VSlideGroup/VSlideGroupItem.js","../../../assets/ox/src/components/OxListKanban.vue","../../../assets/ox/src/components/OxListTable.vue","../../../assets/ox/src/components/OxStateAlert.vue","../../../assets/ox/src/components/OxValidationBtn.vue","../../../assets/ox/src/components/OxLogin.vue","../../../assets/ox/src/components/OxPanel.vue","../../../assets/ox/src/components/OxView.vue","../../../assets/ox/src/components/OxModelEdit.vue","../../../assets/ox/src/components/OxModelPanel.vue","../../../assets/ox/src/components/OxPanelNav.vue","../../../assets/ox/src/components/index.ts"],"sourcesContent":["<template>\n    <template v-if=\"allowed\">\n        <v-btn v-if=\"props.button\" variant=\"text\"\n            :disabled=\"processing\"\n            :color=\"props.color\" :icon=\"props.icon\"\n            :title=\"props.title\" :aria-label=\"props.title\"\n            @click.stop=\"run\">\n        </v-btn>\n        <v-list-item v-else\n            :title=\"props.title\" :base-color=\"props.color\" :prepend-icon=\"props.icon\"\n            :disabled=\"processing\"\n            @click.stop=\"run\"/>\n    </template>\n</template>\n<script setup lang=\"ts\">\nimport {computed, defineProps, defineEmits, inject, toRefs} from 'vue'\nimport {useAction} from 'ox'\n\nimport type {IPermission, Model} from 'ox'\nimport type {ActionRun, ActionCompleted} from 'ox'\nimport type {IActionProps} from '../composables/actions'\n\nconst props = defineProps<IActionProps>()\n\nconst emits = defineEmits<{\n    completed: ActionCompleted\n}>()\nconst context = inject('context')\nconst {run, processing, allowed} = useAction({user: context.user, emits, props})\n</script>\n","<template>\n    <ox-action\n        :item=\"props.item\" :button=\"props.button\"\n        icon=\"mdi-delete\" color=\"error\"\n        :title=\"t('actions.delete')\" :confirm=\"t('actions.delete.confirm')\"\n        :permissions=\"['delete', (u, o) => o.id]\"\n        :run=\"run\" @completed=\"panel?.show({view:panel.index})\"\n    />\n</template>\n<script setup lang=\"ts\">\nimport { defineProps, inject } from 'vue'\nimport { t } from 'ox'\n\nimport OxAction from './OxAction.vue'\n\nconst panel = inject('panel')\nconst repos = inject('repos')\n\nconst props = defineProps<{\n    item: Object\n    button?: boolean\n}>()\n\nasync function run(user, item) {\n    const repo = repos[item.constructor.entity]\n    return await repo.api().delete(item.$url(), {delete: props.item.id})\n}\n</script>\n","<template>\n    <slot name=\"before\" v-bind=\"props\"></slot>\n    <slot name=\"default\" v-bind=\"props\"></slot>\n    <slot name=\"after\" v-bind=\"props\"></slot>\n</template>\n<script setup>\nimport {computed, defineProps, inject, toRefs, useSlots} from 'vue'\n\nconst slots = useSlots()\nconst props = defineProps({\n    // Action's Props\n    value: Object,\n    dense: {type: Boolean, default: false},\n    button: {type: Boolean, default: false},\n    exclude: {type: Array},\n})\n</script>\n","import { createVNode as _createVNode, mergeProps as _mergeProps } from \"vue\";\n// Styles\nimport \"./VSnackbar.css\";\n\n// Components\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.js\";\nimport { VOverlay } from \"../VOverlay/index.js\";\nimport { makeVOverlayProps } from \"../VOverlay/VOverlay.js\";\nimport { VProgressLinear } from \"../VProgressLinear/index.js\"; // Composables\nimport { useLayout } from \"../../composables/index.js\";\nimport { forwardRefs } from \"../../composables/forwardRefs.js\";\nimport { VuetifyLayoutKey } from \"../../composables/layout.js\";\nimport { makeLocationProps } from \"../../composables/location.js\";\nimport { makePositionProps, usePosition } from \"../../composables/position.js\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.js\";\nimport { makeRoundedProps, useRounded } from \"../../composables/rounded.js\";\nimport { useScopeId } from \"../../composables/scopeId.js\";\nimport { makeThemeProps, provideTheme } from \"../../composables/theme.js\";\nimport { useToggleScope } from \"../../composables/toggleScope.js\";\nimport { genOverlays, makeVariantProps, useVariant } from \"../../composables/variant.js\"; // Utilities\nimport { computed, inject, mergeProps, nextTick, onMounted, onScopeDispose, ref, shallowRef, watch, watchEffect } from 'vue';\nimport { genericComponent, omit, propsFactory, refElement, useRender } from \"../../util/index.js\"; // Types\nfunction useCountdown(milliseconds) {\n  const time = shallowRef(milliseconds());\n  let timer = -1;\n  function clear() {\n    clearInterval(timer);\n  }\n  function reset() {\n    clear();\n    nextTick(() => time.value = milliseconds());\n  }\n  function start(el) {\n    const style = el ? getComputedStyle(el) : {\n      transitionDuration: 0.2\n    };\n    const interval = parseFloat(style.transitionDuration) * 1000 || 200;\n    clear();\n    if (time.value <= 0) return;\n    const startTime = performance.now();\n    timer = window.setInterval(() => {\n      const elapsed = performance.now() - startTime + interval;\n      time.value = Math.max(milliseconds() - elapsed, 0);\n      if (time.value <= 0) clear();\n    }, interval);\n  }\n  onScopeDispose(clear);\n  return {\n    clear,\n    time,\n    start,\n    reset\n  };\n}\nexport const makeVSnackbarProps = propsFactory({\n  multiLine: Boolean,\n  text: String,\n  timer: [Boolean, String],\n  timeout: {\n    type: [Number, String],\n    default: 5000\n  },\n  vertical: Boolean,\n  ...makeLocationProps({\n    location: 'bottom'\n  }),\n  ...makePositionProps(),\n  ...makeRoundedProps(),\n  ...makeVariantProps(),\n  ...makeThemeProps(),\n  ...omit(makeVOverlayProps({\n    transition: 'v-snackbar-transition'\n  }), ['persistent', 'noClickAnimation', 'scrim', 'scrollStrategy'])\n}, 'VSnackbar');\nexport const VSnackbar = genericComponent()({\n  name: 'VSnackbar',\n  props: makeVSnackbarProps(),\n  emits: {\n    'update:modelValue': v => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const isActive = useProxiedModel(props, 'modelValue');\n    const {\n      positionClasses\n    } = usePosition(props);\n    const {\n      scopeId\n    } = useScopeId();\n    const {\n      themeClasses\n    } = provideTheme(props);\n    const {\n      colorClasses,\n      colorStyles,\n      variantClasses\n    } = useVariant(props);\n    const {\n      roundedClasses\n    } = useRounded(props);\n    const countdown = useCountdown(() => Number(props.timeout));\n    const overlay = ref();\n    const timerRef = ref();\n    const isHovering = shallowRef(false);\n    const startY = shallowRef(0);\n    const mainStyles = ref();\n    const hasLayout = inject(VuetifyLayoutKey, undefined);\n    useToggleScope(() => !!hasLayout, () => {\n      const layout = useLayout();\n      watchEffect(() => {\n        mainStyles.value = layout.mainStyles.value;\n      });\n    });\n    watch(isActive, startTimeout);\n    watch(() => props.timeout, startTimeout);\n    onMounted(() => {\n      if (isActive.value) startTimeout();\n    });\n    let activeTimeout = -1;\n    function startTimeout() {\n      countdown.reset();\n      window.clearTimeout(activeTimeout);\n      const timeout = Number(props.timeout);\n      if (!isActive.value || timeout === -1) return;\n      const element = refElement(timerRef.value);\n      countdown.start(element);\n      activeTimeout = window.setTimeout(() => {\n        isActive.value = false;\n      }, timeout);\n    }\n    function clearTimeout() {\n      countdown.reset();\n      window.clearTimeout(activeTimeout);\n    }\n    function onPointerenter() {\n      isHovering.value = true;\n      clearTimeout();\n    }\n    function onPointerleave() {\n      isHovering.value = false;\n      startTimeout();\n    }\n    function onTouchstart(event) {\n      startY.value = event.touches[0].clientY;\n    }\n    function onTouchend(event) {\n      if (Math.abs(startY.value - event.changedTouches[0].clientY) > 50) {\n        isActive.value = false;\n      }\n    }\n    function onAfterLeave() {\n      if (isHovering.value) onPointerleave();\n    }\n    const locationClasses = computed(() => {\n      return props.location.split(' ').reduce((acc, loc) => {\n        acc[`v-snackbar--${loc}`] = true;\n        return acc;\n      }, {});\n    });\n    useRender(() => {\n      const overlayProps = VOverlay.filterProps(props);\n      const hasContent = !!(slots.default || slots.text || props.text);\n      return _createVNode(VOverlay, _mergeProps({\n        \"ref\": overlay,\n        \"class\": ['v-snackbar', {\n          'v-snackbar--active': isActive.value,\n          'v-snackbar--multi-line': props.multiLine && !props.vertical,\n          'v-snackbar--timer': !!props.timer,\n          'v-snackbar--vertical': props.vertical\n        }, locationClasses.value, positionClasses.value, props.class],\n        \"style\": [mainStyles.value, props.style]\n      }, overlayProps, {\n        \"modelValue\": isActive.value,\n        \"onUpdate:modelValue\": $event => isActive.value = $event,\n        \"contentProps\": mergeProps({\n          class: ['v-snackbar__wrapper', themeClasses.value, colorClasses.value, roundedClasses.value, variantClasses.value],\n          style: [colorStyles.value],\n          onPointerenter,\n          onPointerleave\n        }, overlayProps.contentProps),\n        \"persistent\": true,\n        \"noClickAnimation\": true,\n        \"scrim\": false,\n        \"scrollStrategy\": \"none\",\n        \"_disableGlobalStack\": true,\n        \"onTouchstartPassive\": onTouchstart,\n        \"onTouchend\": onTouchend,\n        \"onAfterLeave\": onAfterLeave\n      }, scopeId), {\n        default: () => [genOverlays(false, 'v-snackbar'), props.timer && !isHovering.value && _createVNode(\"div\", {\n          \"key\": \"timer\",\n          \"class\": \"v-snackbar__timer\"\n        }, [_createVNode(VProgressLinear, {\n          \"ref\": timerRef,\n          \"color\": typeof props.timer === 'string' ? props.timer : 'info',\n          \"max\": props.timeout,\n          \"model-value\": countdown.time.value\n        }, null)]), hasContent && _createVNode(\"div\", {\n          \"key\": \"content\",\n          \"class\": \"v-snackbar__content\",\n          \"role\": \"status\",\n          \"aria-live\": \"polite\"\n        }, [slots.text?.() ?? props.text, slots.default?.()]), slots.actions && _createVNode(VDefaultsProvider, {\n          \"defaults\": {\n            VBtn: {\n              variant: 'text',\n              ripple: false,\n              slim: true\n            }\n          }\n        }, {\n          default: () => [_createVNode(\"div\", {\n            \"class\": \"v-snackbar__actions\"\n          }, [slots.actions({\n            isActive\n          })])]\n        })],\n        activator: slots.activator\n      });\n    });\n    return forwardRefs({}, overlay);\n  }\n});\n//# sourceMappingURL=VSnackbar.js.map","<template>\n    <v-app>\n        <v-snackbar v-model=\"context.showState\" :color=\"context.state.color\" multi-line>\n            {{ context.state.data }}\n        </v-snackbar>\n        <v-app-bar color=\"primary\">\n            <template v-slot:prepend>\n                <v-app-bar-nav-icon icon=\"mdi-apps\"\n                    :title=\"t('nav.panels')\" :aria-label=\"t('nav.panels')\"\n                    @click.stop=\"nav.drawer = !nav.drawer\"/>\n                <v-app-bar-nav-icon v-if=\"slots['app-nav'] && !nav.drawer2\"\n                    icon=\"mdi-menu\"\n                    @click=\"nav.drawer2 = true; nav.drawer = false\"/>\n            </template>\n            <v-app-bar-title id=\"app-bar-sheet-title\"/>\n            <v-app-bar-title id=\"app-bar-title\">\n                <slot name=\"title\" :context=\"context\"/>\n            </v-app-bar-title>\n            <v-spacer/>\n            <slot name=\"app-bar-left\" :context=\"context\"></slot>\n            <div id=\"app-bar-right\" class=\"mr-3\"></div>\n            <slot name=\"app-bar-right\" :context=\"context\"></slot>\n        </v-app-bar>\n        <v-navigation-drawer theme=\"dark\" v-model=\"nav.drawer\">\n            <a class=\"nav-home\">\n                <v-img v-if=\"logo\" :src=\"logo\" class=\"logo\"/>\n            </a>\n            <slot name=\"nav-start\" :context=\"context\"></slot>\n            <slot name=\"nav-list\" :context=\"context\"></slot>\n            <template #append v-if=\"slots['nav-end']\">\n                <slot name=\"nav-end\" :context=\"context\"></slot>\n            </template>\n        </v-navigation-drawer>\n        <v-main>\n            <slot name=\"main\">\n                <v-tabs-window v-model=\"panels.panel\">\n                    <template #default=\"bind\">\n                        <slot name=\"default\" v-bind=\"bind\" :context=\"context\"></slot>\n                    </template>\n                </v-tabs-window>\n            </slot>\n        </v-main>\n    </v-app>\n</template>\n<style>\n.nav-home {\n    display: block;\n    text-align: left;\n}\n.nav-home .logo {\n    max-height: 4em;\n    margin: 1em 1em 0.4em 1em;\n}\n</style>\n<script setup lang=\"ts\">\nimport { useSlots, withDefaults, onErrorCaptured, onMounted } from 'vue'\nimport { computed, defineProps, inject, provide, reactive, watch } from 'vue'\n\nimport {useAppContext, usePanels} from 'ox'\nimport type {Model} from '../models'\n\nimport { t } from 'ox'\n\nconst slots = useSlots()\n\ninterface Props {\n    apiUrl?: string\n    logo?: string\n    dataEl?: string\n    models?: Model[]\n    data?: object\n}\n\nconst props = withDefaults(defineProps<Props>(), {\n    dataEl: document.body.dataset?.appData\n})\n\nconst nav = reactive({drawer: true})\n\nconst context = useAppContext(props)\nconst panels = usePanels()\n\nonMounted(() => { panels.panel = context.data.panel })\n\nwatch(() => [context.state.state, context.state.data], () => {\n    context.showState = true\n})\n\nonErrorCaptured((err, instance, info) => {\n    context.state.error(`${err}`)\n})\n\n\n</script>\n","import { Fragment as _Fragment, createVNode as _createVNode, mergeProps as _mergeProps, createTextVNode as _createTextVNode } from \"vue\";\n// Styles\nimport \"./VAutocomplete.css\";\n\n// Components\nimport { VAvatar } from \"../VAvatar/index.js\";\nimport { VCheckboxBtn } from \"../VCheckbox/index.js\";\nimport { VChip } from \"../VChip/index.js\";\nimport { VDefaultsProvider } from \"../VDefaultsProvider/index.js\";\nimport { VIcon } from \"../VIcon/index.js\";\nimport { VList, VListItem } from \"../VList/index.js\";\nimport { VMenu } from \"../VMenu/index.js\";\nimport { makeSelectProps } from \"../VSelect/VSelect.js\";\nimport { makeVTextFieldProps, VTextField } from \"../VTextField/VTextField.js\";\nimport { VVirtualScroll } from \"../VVirtualScroll/index.js\"; // Composables\nimport { useScrolling } from \"../VSelect/useScrolling.js\";\nimport { useTextColor } from \"../../composables/color.js\";\nimport { highlightResult, makeFilterProps, useFilter } from \"../../composables/filter.js\";\nimport { useForm } from \"../../composables/form.js\";\nimport { forwardRefs } from \"../../composables/forwardRefs.js\";\nimport { useItems } from \"../../composables/list-items.js\";\nimport { useLocale } from \"../../composables/locale.js\";\nimport { useProxiedModel } from \"../../composables/proxiedModel.js\";\nimport { makeTransitionProps } from \"../../composables/transition.js\"; // Utilities\nimport { computed, mergeProps, nextTick, ref, shallowRef, watch } from 'vue';\nimport { checkPrintable, deepEqual, ensureValidVNode, genericComponent, IN_BROWSER, matchesSelector, noop, omit, propsFactory, useRender, wrapInArray } from \"../../util/index.js\"; // Types\nexport const makeVAutocompleteProps = propsFactory({\n  autoSelectFirst: {\n    type: [Boolean, String]\n  },\n  clearOnSelect: Boolean,\n  search: String,\n  ...makeFilterProps({\n    filterKeys: ['title']\n  }),\n  ...makeSelectProps(),\n  ...omit(makeVTextFieldProps({\n    modelValue: null,\n    role: 'combobox'\n  }), ['validationValue', 'dirty', 'appendInnerIcon']),\n  ...makeTransitionProps({\n    transition: false\n  })\n}, 'VAutocomplete');\nexport const VAutocomplete = genericComponent()({\n  name: 'VAutocomplete',\n  props: makeVAutocompleteProps(),\n  emits: {\n    'update:focused': focused => true,\n    'update:search': value => true,\n    'update:modelValue': value => true,\n    'update:menu': value => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const {\n      t\n    } = useLocale();\n    const vTextFieldRef = ref();\n    const isFocused = shallowRef(false);\n    const isPristine = shallowRef(true);\n    const listHasFocus = shallowRef(false);\n    const vMenuRef = ref();\n    const vVirtualScrollRef = ref();\n    const selectionIndex = shallowRef(-1);\n    const {\n      items,\n      transformIn,\n      transformOut\n    } = useItems(props);\n    const {\n      textColorClasses,\n      textColorStyles\n    } = useTextColor(() => vTextFieldRef.value?.color);\n    const search = useProxiedModel(props, 'search', '');\n    const model = useProxiedModel(props, 'modelValue', [], v => transformIn(v === null ? [null] : wrapInArray(v)), v => {\n      const transformed = transformOut(v);\n      return props.multiple ? transformed : transformed[0] ?? null;\n    });\n    const counterValue = computed(() => {\n      return typeof props.counterValue === 'function' ? props.counterValue(model.value) : typeof props.counterValue === 'number' ? props.counterValue : model.value.length;\n    });\n    const form = useForm(props);\n    const {\n      filteredItems,\n      getMatches\n    } = useFilter(props, items, () => isPristine.value ? '' : search.value);\n    const displayItems = computed(() => {\n      if (props.hideSelected) {\n        return filteredItems.value.filter(filteredItem => !model.value.some(s => s.value === filteredItem.value));\n      }\n      return filteredItems.value;\n    });\n    const hasChips = computed(() => !!(props.chips || slots.chip));\n    const hasSelectionSlot = computed(() => hasChips.value || !!slots.selection);\n    const selectedValues = computed(() => model.value.map(selection => selection.props.value));\n    const highlightFirst = computed(() => {\n      const selectFirst = props.autoSelectFirst === true || props.autoSelectFirst === 'exact' && search.value === displayItems.value[0]?.title;\n      return selectFirst && displayItems.value.length > 0 && !isPristine.value && !listHasFocus.value;\n    });\n    const menuDisabled = computed(() => props.hideNoData && !displayItems.value.length || form.isReadonly.value || form.isDisabled.value);\n    const _menu = useProxiedModel(props, 'menu');\n    const menu = computed({\n      get: () => _menu.value,\n      set: v => {\n        if (_menu.value && !v && vMenuRef.value?.ΨopenChildren.size) return;\n        if (v && menuDisabled.value) return;\n        _menu.value = v;\n      }\n    });\n    const label = computed(() => menu.value ? props.closeText : props.openText);\n    const listRef = ref();\n    const listEvents = useScrolling(listRef, vTextFieldRef);\n    function onClear(e) {\n      if (props.openOnClear) {\n        menu.value = true;\n      }\n      search.value = '';\n    }\n    function onMousedownControl() {\n      if (menuDisabled.value) return;\n      menu.value = true;\n    }\n    function onMousedownMenuIcon(e) {\n      if (menuDisabled.value) return;\n      if (isFocused.value) {\n        e.preventDefault();\n        e.stopPropagation();\n      }\n      menu.value = !menu.value;\n    }\n    function onListKeydown(e) {\n      if (e.key !== ' ' && checkPrintable(e)) {\n        vTextFieldRef.value?.focus();\n      }\n    }\n    function onKeydown(e) {\n      if (form.isReadonly.value) return;\n      const selectionStart = vTextFieldRef.value?.selectionStart;\n      const length = model.value.length;\n      if (['Enter', 'ArrowDown', 'ArrowUp'].includes(e.key)) {\n        e.preventDefault();\n      }\n      if (['Enter', 'ArrowDown'].includes(e.key)) {\n        menu.value = true;\n      }\n      if (['Escape'].includes(e.key)) {\n        menu.value = false;\n      }\n      if (highlightFirst.value && ['Enter', 'Tab'].includes(e.key) && !model.value.some(_ref2 => {\n        let {\n          value\n        } = _ref2;\n        return value === displayItems.value[0].value;\n      })) {\n        select(displayItems.value[0]);\n      }\n      if (e.key === 'ArrowDown' && highlightFirst.value) {\n        listRef.value?.focus('next');\n      }\n      if (['Backspace', 'Delete'].includes(e.key)) {\n        if (!props.multiple && hasSelectionSlot.value && model.value.length > 0 && !search.value) return select(model.value[0], false);\n        if (~selectionIndex.value) {\n          e.preventDefault();\n          const originalSelectionIndex = selectionIndex.value;\n          select(model.value[selectionIndex.value], false);\n          selectionIndex.value = originalSelectionIndex >= length - 1 ? length - 2 : originalSelectionIndex;\n        } else if (e.key === 'Backspace' && !search.value) {\n          selectionIndex.value = length - 1;\n        }\n        return;\n      }\n      if (!props.multiple) return;\n      if (e.key === 'ArrowLeft') {\n        if (selectionIndex.value < 0 && selectionStart && selectionStart > 0) return;\n        const prev = selectionIndex.value > -1 ? selectionIndex.value - 1 : length - 1;\n        if (model.value[prev]) {\n          selectionIndex.value = prev;\n        } else {\n          const searchLength = search.value?.length ?? null;\n          selectionIndex.value = -1;\n          vTextFieldRef.value?.setSelectionRange(searchLength, searchLength);\n        }\n      } else if (e.key === 'ArrowRight') {\n        if (selectionIndex.value < 0) return;\n        const next = selectionIndex.value + 1;\n        if (model.value[next]) {\n          selectionIndex.value = next;\n        } else {\n          selectionIndex.value = -1;\n          vTextFieldRef.value?.setSelectionRange(0, 0);\n        }\n      } else if (~selectionIndex.value && checkPrintable(e)) {\n        selectionIndex.value = -1;\n      }\n    }\n    function onChange(e) {\n      if (matchesSelector(vTextFieldRef.value, ':autofill') || matchesSelector(vTextFieldRef.value, ':-webkit-autofill')) {\n        const item = items.value.find(item => item.title === e.target.value);\n        if (item) {\n          select(item);\n        }\n      }\n    }\n    function onAfterEnter() {\n      if (props.eager) {\n        vVirtualScrollRef.value?.calculateVisibleItems();\n      }\n    }\n    function onAfterLeave() {\n      if (isFocused.value) {\n        isPristine.value = true;\n        vTextFieldRef.value?.focus();\n      }\n    }\n    function onFocusin(e) {\n      isFocused.value = true;\n      setTimeout(() => {\n        listHasFocus.value = true;\n      });\n    }\n    function onFocusout(e) {\n      listHasFocus.value = false;\n    }\n    function onUpdateModelValue(v) {\n      if (v == null || v === '' && !props.multiple && !hasSelectionSlot.value) model.value = [];\n    }\n    const isSelecting = shallowRef(false);\n\n    /** @param set - null means toggle */\n    function select(item) {\n      let set = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      if (!item || item.props.disabled) return;\n      if (props.multiple) {\n        const index = model.value.findIndex(selection => (props.valueComparator || deepEqual)(selection.value, item.value));\n        const add = set == null ? !~index : set;\n        if (~index) {\n          const value = add ? [...model.value, item] : [...model.value];\n          value.splice(index, 1);\n          model.value = value;\n        } else if (add) {\n          model.value = [...model.value, item];\n        }\n        if (props.clearOnSelect) {\n          search.value = '';\n        }\n      } else {\n        const add = set !== false;\n        model.value = add ? [item] : [];\n        search.value = add && !hasSelectionSlot.value ? item.title : '';\n\n        // watch for search watcher to trigger\n        nextTick(() => {\n          menu.value = false;\n          isPristine.value = true;\n        });\n      }\n    }\n    watch(isFocused, (val, oldVal) => {\n      if (val === oldVal) return;\n      if (val) {\n        isSelecting.value = true;\n        search.value = props.multiple || hasSelectionSlot.value ? '' : String(model.value.at(-1)?.props.title ?? '');\n        isPristine.value = true;\n        nextTick(() => isSelecting.value = false);\n      } else {\n        if (!props.multiple && search.value == null) model.value = [];\n        menu.value = false;\n        if (props.multiple || hasSelectionSlot.value) search.value = '';\n        selectionIndex.value = -1;\n      }\n    });\n    watch(search, val => {\n      if (!isFocused.value || isSelecting.value) return;\n      if (val) menu.value = true;\n      isPristine.value = !val;\n    });\n    watch(menu, () => {\n      if (!props.hideSelected && menu.value && model.value.length) {\n        const index = displayItems.value.findIndex(item => model.value.some(s => item.value === s.value));\n        IN_BROWSER && window.requestAnimationFrame(() => {\n          index >= 0 && vVirtualScrollRef.value?.scrollToIndex(index);\n        });\n      }\n    });\n    watch(() => props.items, (newVal, oldVal) => {\n      if (menu.value) return;\n      if (isFocused.value && !oldVal.length && newVal.length) {\n        menu.value = true;\n      }\n    });\n    watch(model, value => {\n      if (!props.multiple && !hasSelectionSlot.value) {\n        search.value = value[0]?.title ?? '';\n      }\n    });\n    useRender(() => {\n      const hasList = !!(!props.hideNoData || displayItems.value.length || slots['prepend-item'] || slots['append-item'] || slots['no-data']);\n      const isDirty = model.value.length > 0;\n      const textFieldProps = VTextField.filterProps(props);\n      return _createVNode(VTextField, _mergeProps({\n        \"ref\": vTextFieldRef\n      }, textFieldProps, {\n        \"modelValue\": search.value,\n        \"onUpdate:modelValue\": [$event => search.value = $event, onUpdateModelValue],\n        \"focused\": isFocused.value,\n        \"onUpdate:focused\": $event => isFocused.value = $event,\n        \"validationValue\": model.externalValue,\n        \"counterValue\": counterValue.value,\n        \"dirty\": isDirty,\n        \"onChange\": onChange,\n        \"class\": ['v-autocomplete', `v-autocomplete--${props.multiple ? 'multiple' : 'single'}`, {\n          'v-autocomplete--active-menu': menu.value,\n          'v-autocomplete--chips': !!props.chips,\n          'v-autocomplete--selection-slot': !!hasSelectionSlot.value,\n          'v-autocomplete--selecting-index': selectionIndex.value > -1\n        }, props.class],\n        \"style\": props.style,\n        \"readonly\": form.isReadonly.value,\n        \"placeholder\": isDirty ? undefined : props.placeholder,\n        \"onClick:clear\": onClear,\n        \"onMousedown:control\": onMousedownControl,\n        \"onKeydown\": onKeydown\n      }), {\n        ...slots,\n        default: () => _createVNode(_Fragment, null, [_createVNode(VMenu, _mergeProps({\n          \"ref\": vMenuRef,\n          \"modelValue\": menu.value,\n          \"onUpdate:modelValue\": $event => menu.value = $event,\n          \"activator\": \"parent\",\n          \"contentClass\": \"v-autocomplete__content\",\n          \"disabled\": menuDisabled.value,\n          \"eager\": props.eager,\n          \"maxHeight\": 310,\n          \"openOnClick\": false,\n          \"closeOnContentClick\": false,\n          \"transition\": props.transition,\n          \"onAfterEnter\": onAfterEnter,\n          \"onAfterLeave\": onAfterLeave\n        }, props.menuProps), {\n          default: () => [hasList && _createVNode(VList, _mergeProps({\n            \"ref\": listRef,\n            \"selected\": selectedValues.value,\n            \"selectStrategy\": props.multiple ? 'independent' : 'single-independent',\n            \"onMousedown\": e => e.preventDefault(),\n            \"onKeydown\": onListKeydown,\n            \"onFocusin\": onFocusin,\n            \"onFocusout\": onFocusout,\n            \"tabindex\": \"-1\",\n            \"aria-live\": \"polite\",\n            \"color\": props.itemColor ?? props.color\n          }, listEvents, props.listProps), {\n            default: () => [slots['prepend-item']?.(), !displayItems.value.length && !props.hideNoData && (slots['no-data']?.() ?? _createVNode(VListItem, {\n              \"key\": \"no-data\",\n              \"title\": t(props.noDataText)\n            }, null)), _createVNode(VVirtualScroll, {\n              \"ref\": vVirtualScrollRef,\n              \"renderless\": true,\n              \"items\": displayItems.value,\n              \"itemKey\": \"value\"\n            }, {\n              default: _ref3 => {\n                let {\n                  item,\n                  index,\n                  itemRef\n                } = _ref3;\n                const itemProps = mergeProps(item.props, {\n                  ref: itemRef,\n                  key: item.value,\n                  active: highlightFirst.value && index === 0 ? true : undefined,\n                  onClick: () => select(item, null)\n                });\n                return slots.item?.({\n                  item,\n                  index,\n                  props: itemProps\n                }) ?? _createVNode(VListItem, _mergeProps(itemProps, {\n                  \"role\": \"option\"\n                }), {\n                  prepend: _ref4 => {\n                    let {\n                      isSelected\n                    } = _ref4;\n                    return _createVNode(_Fragment, null, [props.multiple && !props.hideSelected ? _createVNode(VCheckboxBtn, {\n                      \"key\": item.value,\n                      \"modelValue\": isSelected,\n                      \"ripple\": false,\n                      \"tabindex\": \"-1\"\n                    }, null) : undefined, item.props.prependAvatar && _createVNode(VAvatar, {\n                      \"image\": item.props.prependAvatar\n                    }, null), item.props.prependIcon && _createVNode(VIcon, {\n                      \"icon\": item.props.prependIcon\n                    }, null)]);\n                  },\n                  title: () => {\n                    return isPristine.value ? item.title : highlightResult('v-autocomplete', item.title, getMatches(item)?.title);\n                  }\n                });\n              }\n            }), slots['append-item']?.()]\n          })]\n        }), model.value.map((item, index) => {\n          function onChipClose(e) {\n            e.stopPropagation();\n            e.preventDefault();\n            select(item, false);\n          }\n          const slotProps = {\n            'onClick:close': onChipClose,\n            onKeydown(e) {\n              if (e.key !== 'Enter' && e.key !== ' ') return;\n              e.preventDefault();\n              e.stopPropagation();\n              onChipClose(e);\n            },\n            onMousedown(e) {\n              e.preventDefault();\n              e.stopPropagation();\n            },\n            modelValue: true,\n            'onUpdate:modelValue': undefined\n          };\n          const hasSlot = hasChips.value ? !!slots.chip : !!slots.selection;\n          const slotContent = hasSlot ? ensureValidVNode(hasChips.value ? slots.chip({\n            item,\n            index,\n            props: slotProps\n          }) : slots.selection({\n            item,\n            index\n          })) : undefined;\n          if (hasSlot && !slotContent) return undefined;\n          return _createVNode(\"div\", {\n            \"key\": item.value,\n            \"class\": ['v-autocomplete__selection', index === selectionIndex.value && ['v-autocomplete__selection--selected', textColorClasses.value]],\n            \"style\": index === selectionIndex.value ? textColorStyles.value : {}\n          }, [hasChips.value ? !slots.chip ? _createVNode(VChip, _mergeProps({\n            \"key\": \"chip\",\n            \"closable\": props.closableChips,\n            \"size\": \"small\",\n            \"text\": item.title,\n            \"disabled\": item.props.disabled\n          }, slotProps), null) : _createVNode(VDefaultsProvider, {\n            \"key\": \"chip-defaults\",\n            \"defaults\": {\n              VChip: {\n                closable: props.closableChips,\n                size: 'small',\n                text: item.title\n              }\n            }\n          }, {\n            default: () => [slotContent]\n          }) : slotContent ?? _createVNode(\"span\", {\n            \"class\": \"v-autocomplete__selection-text\"\n          }, [item.title, props.multiple && index < model.value.length - 1 && _createVNode(\"span\", {\n            \"class\": \"v-autocomplete__selection-comma\"\n          }, [_createTextVNode(\",\")])])]);\n        })]),\n        'append-inner': function () {\n          for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n          }\n          return _createVNode(_Fragment, null, [slots['append-inner']?.(...args), props.menuIcon ? _createVNode(VIcon, {\n            \"class\": \"v-autocomplete__menu-icon\",\n            \"color\": vTextFieldRef.value?.fieldIconColor,\n            \"icon\": props.menuIcon,\n            \"onMousedown\": onMousedownMenuIcon,\n            \"onClick\": noop,\n            \"aria-label\": t(label.value),\n            \"title\": t(label.value),\n            \"tabindex\": \"-1\"\n          }, null) : undefined]);\n        }\n      });\n    });\n    return forwardRefs({\n      isFocused,\n      isPristine,\n      menu,\n      search,\n      filteredItems,\n      select\n    }, vTextFieldRef);\n  }\n});\n//# sourceMappingURL=VAutocomplete.js.map","<template>\n    {{ slots }}\n    <v-autocomplete v-bind=\"selectProps\" :items=\"items\"\n        v-model=\"value\" v-model:search=\"search\"\n        >\n        <template v-for=\"slot in slots\" #[slot]=\"bind\">\n            <slot :name=\"slot\" v-bind=\"bind\"/>\n        </template>\n    </v-autocomplete>\n</template>\n<script setup lang=\"ts\">\nconsole.log('SETUP')\nimport { computed, defineProps, defineModel, inject, ref, useSlots, watch } from 'vue'\nimport type {Repository} from 'pinia-orm'\n\nimport { useModelList, query, filterValues, excludeValues } from 'ox'\nimport type {IModelList} from 'ox'\n\nconst slots = useSlots()\nconst value = defineModel()\nconst search = ref(\"\")\n\ninterface IAutoCompleteProps extends IModelList {\n    /** Model's repository */\n    repo: Repository\n    /** Search lookup */\n    lookup: string\n\n    label: string\n    name: string\n    multiple: boolean\n    hideDetails: boolean\n    density: string\n    itemTitle: string\n    itemValue: string\n}\n\nconst props = withDefaults(defineProps<IAutoCompleteProps>(), {\n    lookup: 'search',\n})\nconst repos = inject('repos')\n\nconst selectPropsKeys = ['label', 'name', 'multiple', 'hideDetails', 'density', 'itemTitle', 'itemValue']\nconst selectProps = computed(() => filterValues(props, selectPropsKeys))\n\nconst {list, items} = useModelList({\n    ...excludeValues(props, ['repo', 'search', ...selectPropsKeys]),\n    filters: props.filters || {},\n    query: query(props.repo, repos),\n})\nlist.load()\n\nwatch(search, (value) => {\n    // for some reason, v-autocomplete set search to \"<empty string>\"\n    // when items are updated, search is reset\n    const filter = list.filters[props.lookup]\n    const hasNext = list.nextUrl\n\n    const valueIsOk = value && value != '<empty string>' && value != filter\n    const shouldLoad = valueIsOk && (\n        !filter || !filter.startsWith(value) || !list.nextUrl\n    )\n\n    if(shouldLoad) {\n        list.filters[props.lookup] = value\n        list.load().then(x => { search.value = value})\n    }\n})\n</script>\n","<script>\nimport { h, computed, shallowRef, watch } from 'vue'\nimport { defineAsyncComponent } from 'ox'\n\nexport default {\n    props: {\n        src: String,\n        is: String,\n    },\n\n    setup(props) {\n        const component = shallowRef(null)\n\n        const is = computed(() => {\n            if(props.is)\n                return props.is\n\n            let name = props.src.substring(props.src.lastIndexOf('/')+1)\n            if(name)\n                name = name.substring(0, name.indexOf('.'))\n            if(!name)\n                throw Error(\n                    \"`is` not provided and could not be deducted from `src`.\"\n                )\n            return name\n        })\n\n        function reset() {\n            component.value = defineAsyncComponent(props.src, is.value)\n        }\n\n        watch(() => props.src, reset)\n\n        reset()\n        return () => h(component.value, props)\n    },\n}\n</script>\n","<template>\n    <template v-if=\"props.errors\">\n        <div class=\"text-error\" v-for=\"error in props.errors\">\n            <v-icon icon=\"mdi-alert-circle-outline\"/>\n            {{ error }}\n        </div>\n    </template>\n</template>\n<script setup>\nimport {defineProps} from 'vue'\n\nconst props = defineProps({\n    state: Object,\n    errors: Array\n})\n</script>\n","<template>\n    <form @submit.prevent=\"list.load()\" class=\"width-full\">\n        <v-toolbar dense color=\"transparent\">\n            <v-app-bar-nav-icon :icon=\"icon\" readonly/>\n            <v-text-field v-if=\"props.search && list.filters\"\n                :label=\"t('filters.search')\" density=\"compact\" class=\"ml-2\"\n                v-model=\"list.filters[props.search]\"\n                hide-details/>\n            <slot :list=\"list\" :filters=\"list.filters\"/>\n            <v-btn @click.stop=\"list.load()\" class=\"ml-2\" icon=\"mdi-check\"\n                :aria-label=\"$t('filters.apply')\"\n                :title=\"t('filters.apply')\"\n            />\n            <v-btn v-if=\"hasFilters\" @click.stop=\"reset\" icon=\"mdi-backspace\"\n                :aria-label=\"t('filters.reset')\"\n                :title=\"t('filters.reset')\"\n            />\n        </v-toolbar>\n    </form>\n</template>\n<script setup>\nimport { computed, defineProps, defineExpose, inject, watch } from 'vue'\nimport { t } from 'ox'\n\nconst list = inject('list')\nconst props = defineProps({\n    search: String,\n})\n\nconst hasFilters = computed(() => {\n    const filters = list.filters\n    return filters && Object.entries(filters).some(\n        ([k,v]) => !k.startsWith('page') && !k.startsWith('ordering') && !!v\n    )\n})\nconst icon = computed(() => hasFilters.value ? 'mdi-filter-check' : 'mdi-filter-outline')\n\nfunction reset() {\n    list.filters = {}\n    list.load()\n}\n\nwatch(() => Object.values(list.filters), () => list.load())\ndefineExpose({ icon, hasFilters, reset})\n</script>\n","<template>\n    <v-list v-model:opened=\"opened\">\n        <v-list-group v-for=\"item, index in items\" :key=\"index\" :value=\"index\">\n            <template #activator=\"{props}\">\n                <v-list-item v-bind=\"props\">\n                    <v-list-item-title>\n                        <slot name=\"item.title\" :item=\"item\"/>\n                    </v-list-item-title>\n                    <template #append>\n                        <div @click.stop=\"\">\n                            <slot name=\"item.actions\" :item=\"item\" :index=\"index\" :editable=\"editable\" />\n                            <template v-if=\"editable\">\n                                <v-btn type=\"button\" class=\"ml-2\" size=\"small\"\n                                    @click.stop.prevent=\"removeItem(index)\" color=\"error\"\n                                    :aria-label=\"t('actions.remove')\"\n                                    :title=\"t('actions.remove')\"\n                                    icon=\"mdi-delete\"/>\n                            </template>\n                        </div>\n                    </template>\n                </v-list-item>\n            </template>\n            <slot name=\"item\" :item=\"item\" :index=\"index\"/>\n        </v-list-group>\n        <v-divider v-if=\"items.length\"/>\n        <template v-if=\"editable\">\n            <v-list-group :value=\"-1\">\n                <template #activator=\"{props}\">\n                    <v-list-item v-bind=\"props\" :title=\"t('actions.add_item')\" prepend-icon=\"mdi-plus\"/>\n                </template>\n                <slot name=\"item\" :item=\"newItem\" :edit=\"true\"/>\n                <v-list-item v-if=\"newItem\">\n                    <div class=\"flex-row justify-right\">\n                        <v-btn size=\"small\" v-if=\"newItem\" @click=\"newItem={}\"\n                            color=\"secondary\" prepend-icon=\"mdi-backspace\"\n                            :aria-label=\"t('actions.discard')\">\n                            {{ t('actions.discard') }}\n                        </v-btn>\n                        <v-btn size=\"small\" v-if=\"newItem\" @click=\"addItem()\"\n                            color=\"primary\" prepend-icon=\"mdi-plus\"\n                            :aria-label=\"t('actions.add')\">\n                            {{ t('actions.add') }}\n                        </v-btn>\n                    </div>\n                </v-list-item>\n            </v-list-group>\n        </template>\n    </v-list>\n</template>\n<style>\n.flex-row {\n\n}\n</style>\n<script setup lang=\"ts\">\n/**\n * This component provides simple list rendering and edition.\n */\nimport {defineModel, defineProps, ref, reactive, provide, useTemplateRef, toRefs} from \"vue\"\nimport {t} from \"ox\"\n\n/** v-model: the list of items. **/\nconst items = defineModel()\nconst newItem = ref({})\nconst props = defineProps({\n    /** Allow to add and edit items */\n    editable: {type: Boolean, default: true},\n})\nconst {editable} = toRefs(props)\n\nconst opened = ref([]);\n\nif(!items.value?.length)\n    opened.value.push(-1)\n\nfunction addItem() {\n    items.value.push(newItem.value)\n    newItem.value = {}\n}\n\nfunction removeItem(index) {\n    if(confirm(t('actions.delete.confirm')))\n        props.editable && items.value.splice(index)\n}\n</script>\n","// Composables\nimport { makeGroupItemProps, useGroupItem } from \"../../composables/group.js\"; // Utilities\nimport { VSlideGroupSymbol } from \"./VSlideGroup.js\";\nimport { genericComponent } from \"../../util/index.js\"; // Types\nexport const VSlideGroupItem = genericComponent()({\n  name: 'VSlideGroupItem',\n  props: makeGroupItemProps(),\n  emits: {\n    'group:selected': val => true\n  },\n  setup(props, _ref) {\n    let {\n      slots\n    } = _ref;\n    const slideGroupItem = useGroupItem(props, VSlideGroupSymbol);\n    return () => slots.default?.({\n      isSelected: slideGroupItem.isSelected.value,\n      select: slideGroupItem.select,\n      toggle: slideGroupItem.toggle,\n      selectedClass: slideGroupItem.selectedClass.value\n    });\n  }\n});\n//# sourceMappingURL=VSlideGroupItem.js.map","<template>\n    <v-sheet>\n    <v-slide-group>\n        <v-slide-group-item v-for=\"(header, idx) in props.headers\" :key=\"header.value\"\n            v-slot=\"{selectedClass}\">\n            <v-card width=\"400\" :class=\"['ma-3', selectedClass]\"\n                    :color=\"color(idx)\" lines=\"two\">\n                <v-card-title>{{ header.title }}</v-card-title>\n                <v-list :bg-color=\"color(idx)\">\n                    <template v-if=\"sorted && sorted[header.value]\">\n                        <template v-for=\"item in sorted[header.value]\" :key=\"item.id\">\n                            <slot name=\"item\" :header=\"header\" :item=\"item\">\n                                <v-list-item :title=\"item[props.itemTitle]\"\n                                        :value=\"props.itemValue && item[props.itemValue]\"\n                                        @click=\"emits('click', item)\">\n                                    <template #append>\n                                        <slot name=\"item.action\"></slot>\n                                    </template>\n                                </v-list-item>\n                            </slot>\n                        </template>\n                    </template>\n                </v-list>\n            </v-card>\n        </v-slide-group-item>\n    </v-slide-group>\n    </v-sheet>\n</template>\n<script setup>\nimport { computed, defineEmits, defineProps, inject } from 'vue'\n\nconst emits = defineEmits(['click'])\nconst list = inject('list')\nconst items = inject('items')\n\nconst props = defineProps({\n    itemTitle: String,\n    itemValue: String,\n    field: String,\n    headers: Array,\n    colors: {type: Array, default: () => [\n        'purple', 'blue', 'teal', 'lime', 'orange', 'blue-gray',\n        'pink', 'indigo', 'cyan', 'light-green', 'amber', 'brown',\n        'red', 'deep-purple', 'light-blue', 'green', 'yellow', 'deep-orange'\n    ]},\n    colorVariant: {type: String, default: 'lighten-2'},\n})\n\n\nfunction color(idx) {\n    idx = idx % props.colors.length\n    if(props.colorVariant)\n        return props.colors[idx] + '-' + props.colorVariant\n    return props.colors[idx]\n}\n\n\nfunction assign(result, item, val) {\n    if(result[val])\n        !result[val].includes(item) && result[val].push(item)\n    else\n        result[val] = [item]\n}\n\nconst sorted = computed(() => {\n    const result = {}\n    if(items.value)\n        for(var item of items.value) {\n            const vals = item[props.field]\n            if(Array.isArray(vals)) {\n                if(vals.length)\n                    for(var val of vals)\n                        assign(result, item, val)\n                else\n                    assign(result, item, null)\n            }\n            else\n                assign(result, item, vals)\n        }\n    return result\n})\n</script>\n","<template>\n    <v-data-table-server\n            :items=\"items\" item-index=\"id\"\n            :items-length=\"list.count || items.length\"\n            :items-per-page=\"props.itemsPerPage\"\n            :loading=\"list.state?.isProcessing\"\n            :headers=\"headers\"\n            class=\"align-top-table\"\n            @update:options=\"updateOptions\">\n        <template v-slot:loading>\n            <v-skeleton-loader type=\"table-row@10\"></v-skeleton-loader>\n        </template>\n\n        <template v-for=\"(_, name) in itemSlots\" :key=\"name\" v-slot:[name]=\"bind\">\n            <slot :name=\"name\" v-bind=\"bind\"/>\n        </template>\n\n        <template #item.actions=\"{item}\">\n            <ox-action v-if=\"edit\"\n                icon=\"mdi-pencil\" button\n                :title=\"t('actions.edit')\"\n                :permissions=\"permissions\"\n                :item=\"item\"\n                :run=\"runEdit\"/>\n            <slot name=\"item.actions\" :value=\"item\" :dense=\"true\" :button=\"true\"/>\n        </template>\n    </v-data-table-server>\n</template>\n<style>\n.align-top-table td {\n  /*vertical-align: top;*/\n}\n</style>\n<script setup lang=\"ts\">\nimport { computed, defineProps, inject, ref, useSlots } from 'vue'\n\nimport { t, tKeys } from 'ox'\n// import { Permissions } from '../models'\nimport { filterSlots } from '../utils'\nimport OxAction from './OxAction.vue'\n\nconst slots = useSlots()\nconst itemSlots = filterSlots(slots, 'item.', {exclude: ['item.actions']})\n\nconst panel = inject('panel')\nconst list = inject('list')\nconst items = inject('items')\n\nconst permissions = ['change']\nconst props = defineProps({\n    // list: Object,\n    /** Table headers */\n    headers: Array,\n    /** If True, allow user to edit (display edit button) */\n    edit: Boolean,\n})\n\n\nconst headers = computed(() => {\n    return props.headers.reduce((dst, field) => {\n        dst.push(\n            (typeof(field) == 'string') ?\n            {key: field, title: t(tKeys.field(field))} : field\n        )\n        return dst\n    }, [])\n})\n\n\nfunction updateOptions(event) {\n    list.filters.page = event.page,\n    list.filters.page_size = event.itemsPerPage,\n    list.filters.ordering = event.sortBy.map(({key, order}) => order == 'asc' ? key : `-${key}`)\n}\n\nfunction runEdit(user, item) {\n    panel.show({view: 'detail.edit', value: item})\n}\n</script>\n","<template>\n    <v-alert v-if=\"props.state.isNone && slots.none\" type=\"info\" variant=\"tonal\" class=\"mb-3\"\n            :state=\"state\" :title=\"noneTitle\">\n        <slot name=\"none\" :state=\"state\"></slot>\n    </v-alert>\n    <v-alert v-else-if=\"displayProcessing\" type=\"info\" variant=\"tonal\" class=\"mb-3\" closable\n            :state=\"state\" :title=\"processingTitle\">\n        <slot name=\"processing\" :state=\"state\">\n            Data are being sent to server, please be patient. If this message persist you might wan't to retry.\n        </slot>\n    </v-alert>\n    <v-alert v-else-if=\"props.state.isError\" type=\"error\" variant=\"tonal\" class=\"mb-3\" closable\n            :state=\"state\" :title=\"errorTitle\" >\n        <slot name=\"error\" :state=\"state\">\n            Oups... something wrong happened.\n        </slot>\n        <slot name=\"error-detail\" :state=\"state\">\n        </slot>\n    </v-alert>\n    <v-alert v-else-if=\"props.state.isOk\" type=\"success\" variant=\"tonal\" class=\"mb-3\" closable\n            :state=\"state\" :title=\"okTitle\">\n        <slot name=\"ok\" :state=\"state\">\n            <p>Congrats! Data have been updated.</p>\n        </slot>\n        <template v-if=\"messages\">\n            <v-divider/>\n            <p v-for=\"message in messages\">{{ message }}</p>\n        </template>\n        <slot name=\"ok-detail\" :state=\"state\"></slot>\n    </v-alert>\n    <slot :state=\"props.state\"></slot>\n</template>\n<script setup>\n// TODO: expandable detail error\nimport {defineProps, useSlots, computed, ref, watch} from 'vue'\nimport {VAlert} from 'vuetify/components/VAlert'\nimport {States} from '../utils/state'\n\nconst slots = useSlots()\nconst props = defineProps({\n    state: Object,\n    delay: {type: Boolean, default: false},\n    okTitle: {type: String, default: \"\"},\n    noneTitle: {type: String, default: \"\"},\n    errorTitle: {type: String, default: \"Oups...\"},\n    processingTitle: {type: String, default: \"Processing...\"},\n})\n\n\nlet timeoutId = null\nlet expired = ref(false)\n\nwatch(() => props.state.state, (val) => {\n    if(timeoutId !== null)\n        window.clearTimeout(timeoutId)\n\n    if(!props.delay)\n        return\n\n    if(val == States.PROCESSING) {\n        expired.value = false\n        window.setTimeout(() => { expired.value = true }, 5000)\n    }\n})\n\nconst displayProcessing = computed(() => props.state?.isProcessing && (!props.delay || expired.value))\nconst messages = computed(() => props.state?.data?.messages)\n\n\n\n</script>\n","<template>\n    <div class=\"text-right\">\n        <v-btn color=\"error\" class=\"me-2\" :prepend-icon=\"props.resetIcon\"\n                @click=\"emit('reset')\"\n                :disabled=\"props.disabled\">\n            <slot name=\"reset\">{{ props.resetLabel }}</slot>\n        </v-btn>\n        <v-btn v-if=\"props.state.isSending\"\n                color=\"primary\" prepend-icon=\"mdi-content-save\" disabled>\n            Saving\n        </v-btn>\n        <v-btn v-else color=\"primary\" :prepend-icon=\"props.validateIcon\"\n                @click=\"emit('validate')\"\n                :disabled=\"props.disabled || props.validateDisabled\">\n            <slot name=\"validate\">{{ props.validateLabel }}</slot>\n        </v-btn>\n        </div>\n</template>\n<script setup>\nimport {defineEmits, defineProps} from 'vue'\nimport {VBtn} from 'vuetify/components/VBtn'\n\nconst emit = defineEmits(['validate', 'reset'])\nconst props = defineProps({\n    resetLabel: {type: String, default: \"Reset\"},\n    resetIcon: {type: String, default: \"mdi-close-circle\"},\n    validateLabel: {type: String, default: \"Save\"},\n    validateIcon: {type: String, default: \"mdi-content-save\"},\n    disabled: {type: Boolean, default: false},\n    state: {type: Object, default: () => State.none()},\n    validateDisabled: {type: Boolean, default: false},\n})\n</script>\n","<template>\n    <ox-state-alert :state=\"state\">\n        <template #none=\"{state}\">\n            <p>Please enter your credentials in order too proceed...</p>\n        </template>\n        <template #ok-detail=\"{state}\">\n            <p v-if=\"props.next\">You soon will be redirected to <i>{{ props.next }}</i></p>\n        </template>\n        <template #error=\"{state}\">\n            <ox-field-details :errors=\"state.data?.username\"/>\n            <ox-field-details :errors=\"state.data?.password\"/>\n        </template>\n    </ox-state-alert>\n    <template v-if=\"!state.isOk\">\n        <v-text-field variant=\"underlined\"\n                label=\"Enter login\" v-model=\"credentials.username\"\n                @keyup.enter.stop=\"passwordInput.focus()\"\n                >\n        </v-text-field>\n        <v-text-field variant=\"underlined\" ref=\"password\"\n                label=\"Enter password\" v-model=\"credentials.password\"\n                :type=\"showPassword ? 'text' : 'password'\"\n                :append-icon=\"showPassword ? 'mdi-eye' : 'mdi-eye-off'\"\n                @click:append=\"showPassword = !showPassword\"\n                @keyup.enter.stop=\"login()\"\n                >\n        </v-text-field>\n        <div class=\"text-right mt-3\">\n            <slot name=\"default\" :value=\"credentials.password\">\n                <ox-validation-btn v-if=\"credentials.username && credentials.password\"\n                    validate-label=\"Login!\"\n                    @validate=\"login()\" @reset=\"reset()\"\n                    :state=\"state\"/>\n            </slot>\n        </div>\n    </template>\n</template>\n<script setup>\nimport {computed, inject, ref, reactive, defineModel, defineProps, useTemplateRef} from 'vue'\n\nimport OxStateAlert from './OxStateAlert'\nimport OxValidationBtn from './OxValidationBtn.vue'\nimport OxFieldDetails from './OxFieldDetails.vue'\nimport config from '../config'\n\nimport State from '../utils/state'\nimport {reset as $reset} from '../utils'\nimport {User} from '../models/auth'\n\n\nconst passwordInput = useTemplateRef('password')\n\nconst props = defineProps({\n    next: {type: String},\n    url: {type: String},\n})\n\nconst emit = defineEmits(['save', 'saved'])\nconst credentials = reactive({\n    username: '',\n    password: '',\n})\nconst showPassword = ref(false)\nconst state = reactive(new State())\n\nfunction reset(resetState=true) {\n    $reset(credentials, {\"username\": \"\", password: \"\"})\n    resetState && state.none()\n}\n\nasync function login() {\n    state.processing()\n\n    try {\n        const resp = await fetch(props.url, {\n            method: \"POST\",\n            headers: config.axiosConfig.headers,\n            body: JSON.stringify(credentials),\n        })\n        if(resp.status == 200) {\n            credentials.credentials = \"\"\n            credentials.password = \"\"\n            state.ok(await resp.json())\n\n            if(props.next)\n                window.location.href = props.next\n        }\n        else\n            state.error(await resp.json())\n    }\n    catch(error) {\n        state.ok(error?.message || error)\n    }\n}\n</script>\n","<template>\n    <v-tabs-window-item :value=\"props.name\">\n        <ox-state-alert v-if=\"props.state\" :state=\"props.state\" delay/>\n        <v-sheet class=\"ma-4\">\n            <Teleport to=\"#app-bar-sheet-title\" :disabled=\"!mounted || panels.panel != props.name\">\n                <v-icon v-if=\"props.icon\" :icon=\"props.icon\"/>\n                {{ props.title }}\n            </Teleport>\n\n            <Teleport to=\"#app-bar-right\" :disabled=\"!mounted || panels.panel != props.name\">\n                <slot name=\"append-title\"/>\n                <v-btn v-if=\"props.help\" class=\"ml-3\"\n                    :href=\"props.help\" panels=\"new\"\n                    icon=\"mdi-information-outline\" />\n            </Teleport>\n\n            <slot name=\"top\"></slot>\n\n            <slot name=\"default\">\n                <template v-if=\"views\">\n                    <v-window v-model=\"panel.view\">\n                        <template v-for=\"(name, slot) in views\" :key=\"name\">\n                            <v-window-item :value=\"name\">\n                                <slot :name=\"slot\"></slot>\n                            </v-window-item>\n                        </template>\n                    </v-window>\n                </template>\n            </slot>\n\n            <slot name=\"bottom\"></slot>\n        </v-sheet>\n    </v-tabs-window-item>\n</template>\n<script setup lang=\"ts\">\nimport { defineProps, inject, onMounted, onUnmounted, ref, useSlots, watch } from 'vue'\nimport {filterSlots} from 'ox'\n\nimport OxStateAlert from './OxStateAlert.vue'\nimport type {IPanelProps} from '../controllers'\n\nconst slots = useSlots()\nconst props = defineProps<IPanelProps>()\nconst views = filterSlots(slots, 'views.')\n\n// ensure teleport will be set after component has been mounted\nconst mounted = ref(false)\nonMounted(() => { mounted.value = true })\nonUnmounted(() => { mounted.value = false })\n\nconst panels = inject('panels')\nconst panel = inject('panel')\n</script>\n","<template>\n    <template v-if=\"tabs && Object.keys(tabs).length\">\n        <v-tabs v-model=\"tab\">\n            <slot name=\"tab\" v-if=\"slots.default\">\n                <v-tab :text=\"props?.title\" value=\"default\"/>\n            </slot>\n            <template v-for=\"(value, name) in tabs\">\n                <v-tab :value=\"value\">\n                    <slot :name=\"name\"/>\n                </v-tab>\n            </template>\n        </v-tabs>\n        <v-tabs-window v-model=\"tab\">\n            <v-tabs-window-item value=\"default\" v-if=\"slots.default\">\n                <slot name=\"default\"/>\n            </v-tabs-window-item>\n            <template v-for=\"(value, name) in windows\">\n                <v-tabs-window-item :value=\"value\">\n                    <slot :name=\"name\"/>\n                </v-tabs-window-item>\n            </template>\n        </v-tabs-window>\n    </template>\n    <template v-else>\n        <slot name=\"default\"/>\n    </template>\n</template>\n<script setup lang=\"ts\">\n/**\n * This represent a single view inside a Panel.\n *\n * A view can have multiple windows, in such case it is displayed using tabs.\n * Tabs are hidden when there is only one window slot in it.\n *\n * The default slots are `default` (for the content) and `tab.default` (for the tab).\n * Other slots can be named following the convention: `window.[name]` and `tab.[name]`.\n */\nimport { ref, defineProps, onMounted, useSlots } from 'vue'\nimport { filterSlots } from 'ox'\n\nconst props = defineProps({\n    /** default tab title */\n    title: String,\n})\n\n/** Current tab/window value */\nconst tab = ref(null)\n\nconst slots = useSlots()\nconst tabs = filterSlots(slots, \"tab.\", {exclude: \"tab.default\"})\nconst windows = filterSlots(slots, \"window.\")\n</script>\n","<template>\n    <ox-state-alert :state=\"editor.state\"/>\n    <div class=\"mb-3\">\n        <ox-validation-btn v-if=\"edited\"\n            @validate=\"editor.save()\" @reset=\"editor.discard()\" :state=\"editor.state\" :validate-disabled=\"!editor.valid\"/>\n    </div>\n    <v-container>\n        <slot name=\"default\" :editor=\"editor\" :edited=\"edited\" :value=\"value\" :model=\"editor.repo.use\" />\n    </v-container>\n</template>\n<script setup lang=\"ts\">\nimport { computed, ref, defineProps, defineExpose, inject, toRefs, useSlots, watch } from 'vue'\nimport { t, tKeys, filterSlots, useModelEditor } from 'ox'\n\nimport OxStateAlert from './OxStateAlert.vue'\nimport OxValidationBtn from './OxValidationBtn.vue'\n\nimport type {IModelEditorProps} from '../controllers/modelEditor'\n\n\nconst props = defineProps<IModelEditorProps>()\nconst {editor, edited} = useModelEditor({props})\nconst model = computed(() => editor.repo.use)\nconst {value} = toRefs(editor)\n\ndefineExpose({editor, edited, value})\n</script>\n","<template>\n    <ox-panel :name=\"props.name\" :title=\"panel.title\" :icon=\"panel.icon\"\n            :state=\"list.state\" :index=\"props.index\">\n        <template #append-title>\n            <slot name=\"append-title\" v-bind=\"bind\"/>\n\n            <template v-if=\"panel.view.startsWith('list.')\">\n                <v-btn-group class=\"ml-3\" color=\"secondary\"\n                        density=\"compact\" variant=\"tonal\">\n                    <slot name=\"nav.list\" v-bind=\"bind\"/>\n                    <v-btn v-if=\"filters\"\n                        :title=\"showFilters ? t('filters.hide') : t('filters.show')\"\n                        :aria-label=\"showFilters ? t('filters.hide') : t('filters.show')\"\n                        @click=\"showFilters = !showFilters\" :active=\"showFilters\">\n                        <v-icon :icon=\"filters.icon\"/>\n                    </v-btn>\n                </v-btn-group>\n            </template>\n            <template v-else-if=\"panel.view.startsWith('detail.') && panel.value\">\n                <v-btn-group class=\"ml-3\" color=\"secondary\" density=\"compact\" variant=\"tonal\">\n                    <slot name=\"nav.detail\" v-bind=\"bind\"/>\n\n                    <template v-if=\"panel.view == 'detail.edit' && panel.value\">\n                        <v-menu>\n                            <template #activator=\"{props}\">\n                                <v-btn prepend-icon=\"mdi-dots-vertical\" v-bind=\"props\">\n                                    {{ t('actions') }}\n                                </v-btn>\n                            </template>\n                            <v-list>\n                                <slot name=\"item.actions\" :value=\"panel.value\"/>\n                            </v-list>\n                        </v-menu>\n                    </template>\n\n                    <v-btn :disabled=\"!prev\"\n                            :title=\"t('prev')\" :aria-label=\"t('prev')\"\n                            @click.stop=\"panel.show({value: prev})\">\n                        <v-icon icon=\"mdi-chevron-left\"/>\n                    </v-btn>\n                    <v-btn :disabled=\"!next\"\n                            :title=\"t('next')\" :aria-label=\"t('next')\"\n                            @click.stop=\"panel.show({value: next})\">\n                        <v-icon icon=\"mdi-chevron-right\"/>\n                    </v-btn>\n                </v-btn-group>\n            </template>\n\n            <v-btn-toggle class=\"ml-3\" color=\"secondary\" v-model=\"panel.view\" density=\"compact\" variant=\"tonal\" mandatory>\n                <!-- TODO: permission check -->\n                <v-btn value=\"list.table\"\n                        :title=\"t('panels.nav.table')\"\n                        :aria-label=\"t('panels.nav.table')\">\n                    <v-icon>mdi-table</v-icon>\n                </v-btn>\n                <v-btn value=\"list.cards\" v-if=\"slots['views.list.cards']\"\n                        :title=\"t('panels.nav.cards')\"\n                        :aria-label=\"t('panels.nav.cards')\">\n                    <v-icon>mdi-card-account-details</v-icon>\n                </v-btn>\n                <v-btn value=\"list.kanban\" v-if=\"slots['views.list.kanban']\"\n                        :title=\"t('panels.nav.kanban')\"\n                        :aria-label=\"t('panels.nav.kanban')\">\n                    <v-icon>mdi-view-column</v-icon>\n                </v-btn>\n                <v-btn value=\"detail.add\" v-if=\"editSlots\"\n                        @click.stop=\"panel.create()\"\n                        :title=\"t('panels.nav.add')\"\n                        :aria-label=\"t('panels.nav.add')\">\n                    <v-icon>mdi-plus-box</v-icon>\n                </v-btn>\n                <v-btn value=\"detail.edit\" v-if=\"slots['views.detail.edit'] || editSlots\"\n                        :disabled=\"!panel.value?.id\"\n                        :title=\"t('panels.nav.edit')\"\n                        :aria-label=\"t('panels.nav.edit')\">\n                    <v-icon>mdi-pencil</v-icon>\n                </v-btn>\n                <slot name=\"nav.views\" v-bind=\"bind\"/>\n            </v-btn-toggle>\n        </template>\n\n        <template #top>\n            <ox-list-filters ref=\"filters\"\n                    v-show=\"panel.view.startsWith('list.') && showFilters\"\n                    :search=\"props.search\"\n                    teleport-to=\"#panel-list-actions\">\n                <template #default=\"bind\">\n                    <slot name=\"list.filters\" v-bind=\"bind\"/>\n                </template>\n            </ox-list-filters>\n        </template>\n\n        <!-- list.table is always provided -->\n        <template #views.list.table v-if=\"!slots['views.list.table']\">\n            <ox-list-table :headers=\"headers\" edit>\n                <template v-for=\"(_, name) in itemSlots\" v-slot:[name]=\"bind\" :key=\"name\">\n                    <slot :name=\"name\" v-bind=\"bind\"/>\n                </template>\n            </ox-list-table>\n        </template>\n\n        <template v-for=\"(name, slot) in viewsListSlots\" v-slot:[slot]>\n            <slot :name=\"slot\" v-bind=\"bind\"/>\n        </template>\n\n        <!-- FIXME: views.detail.edit shall be sloted too, not only nested ones? -->\n        <template #views.detail.edit v-if=\"(slots['views.detail.edit'] || editSlots) && canEdit\">\n            <ox-view :title=\"t(`models.${panel.model.entity}`)\">\n                <template v-for=\"(name, slot) in editSlots\" #[name]>\n                    <slot :name=\"slot\" :saved=\"saved\" :value=\"panel.value\"/>\n                </template>\n            </ox-view>\n        </template>\n    </ox-panel>\n</template>\n<script setup lang=\"ts\">\nimport { computed, defineProps, inject, useTemplateRef, useSlots, toRefs, withDefaults } from 'vue'\nimport { Teleport } from 'vue'\n\nimport OxAction from './OxAction.vue'\nimport OxListFilters from './OxListFilters.vue'\nimport OxListTable from './OxListTable.vue'\nimport OxPanel from './OxPanel.vue'\nimport OxView from './OxView'\nimport OxModelEdit from './OxModelEdit.vue'\n\nimport {t, filterSlots, useModelPanel} from 'ox'\nimport type {IModelPanelProps} from '../controllers'\n\nconst slots = useSlots()\nconst viewsListSlots = filterSlots(slots, 'views.list.')\nconst itemSlots = filterSlots(slots, 'item.')\nconst editSlots = filterSlots(slots, 'views.detail.edit.')\n\nconst filters = useTemplateRef('filters')\nconst props = withDefaults(defineProps<IModelPanelProps>(), {\n    index: 'list.table'\n})\n\nconst context = inject('context')\nconst {panel, list, items, next, prev} = inject('panel') ?? useModelPanel({props})\nconst panels = panel.panels\n\nconst canEdit = computed(() =>  context.user.can([panel.model, panel.value?.id ? \"change\": \"add\"]))\n\nconst {showFilters} = toRefs(panel)\n\n/** List table headers */\nconst headers = computed(() => [\n    ...props.headers,\n    {key: 'actions', title: t('actions')},\n])\n\n/** This is called by editors once object has been saved */\nfunction saved(item) {\n    panel.value.value = item\n}\n\nconst bind = computed(() => {\n    return ({\n        panel, panels, list, items, context,\n        value: panel.value,\n    })\n})\n</script>\n","<template>\n    <v-list-item\n        :active=\"panels.panel == props.panel\"\n        :prepend-icon=\"props.icon\" :title=\"props.title\"\n        @click.stop=\"panels.show(props)\"/>\n</template>\n<script setup lang=\"ts\">\nimport { computed, defineProps, inject } from 'vue'\nimport type {IPanelNavProps} from '../controllers'\n\nconst props = defineProps<IPanelNavProps>()\n\nconst panels = inject('panels')\nconst visible = computed(() => !props.auto || panel.name == props.name)\n</script>\n","import * as ox from './ox'\nimport {components as vendor} from 'ox/vendor'\n\nexport * from './ox'\n\n\n/**\n * This is the base app config used for Oxylus' Vue based applicationns.\n *\n * It includes Oxylus components and some Vuetify's ones.\n *\n *\n * @example\n * // Example app.ts for another application.\n *\n * import {App} from 'ox/components'\n * import * as components from './components'\n *\n * export default {\n *     extends: App,\n *     components,\n * }\n */\nexport const App = {\n    el: \"#app\",\n    delimiters: ['[[', ']]'],\n    components: {...ox, ...vendor},\n}\n"],"names":["props","__props","emits","__emit","context","inject","run","processing","allowed","useAction","panel","repos","user","item","useSlots","useCountdown","milliseconds","time","shallowRef","timer","clear","reset","nextTick","start","el","style","interval","startTime","elapsed","onScopeDispose","makeVSnackbarProps","propsFactory","makeLocationProps","makePositionProps","makeRoundedProps","makeVariantProps","makeThemeProps","omit","makeVOverlayProps","VSnackbar","genericComponent","v","_ref","slots","isActive","useProxiedModel","positionClasses","usePosition","scopeId","useScopeId","themeClasses","provideTheme","colorClasses","colorStyles","variantClasses","useVariant","roundedClasses","useRounded","countdown","overlay","ref","timerRef","isHovering","startY","mainStyles","hasLayout","VuetifyLayoutKey","useToggleScope","layout","useLayout","watchEffect","watch","startTimeout","onMounted","activeTimeout","timeout","element","refElement","clearTimeout","onPointerenter","onPointerleave","onTouchstart","event","onTouchend","onAfterLeave","locationClasses","computed","acc","loc","useRender","overlayProps","VOverlay","hasContent","_createVNode","_mergeProps","$event","mergeProps","genOverlays","VProgressLinear","_a","_b","VDefaultsProvider","forwardRefs","nav","reactive","useAppContext","panels","usePanels","onErrorCaptured","err","instance","info","makeVAutocompleteProps","makeFilterProps","makeSelectProps","makeVTextFieldProps","makeTransitionProps","VAutocomplete","focused","value","t","useLocale","vTextFieldRef","isFocused","isPristine","listHasFocus","vMenuRef","vVirtualScrollRef","selectionIndex","items","transformIn","transformOut","useItems","textColorClasses","textColorStyles","useTextColor","search","model","wrapInArray","transformed","counterValue","form","useForm","filteredItems","getMatches","useFilter","displayItems","filteredItem","s","hasChips","hasSelectionSlot","selectedValues","selection","highlightFirst","menuDisabled","_menu","menu","label","listRef","listEvents","useScrolling","onClear","e","onMousedownControl","onMousedownMenuIcon","onListKeydown","checkPrintable","onKeydown","selectionStart","length","_ref2","select","originalSelectionIndex","prev","searchLength","_c","_d","next","_e","onChange","matchesSelector","onAfterEnter","onFocusin","onFocusout","onUpdateModelValue","isSelecting","set","index","deepEqual","add","val","oldVal","IN_BROWSER","newVal","hasList","isDirty","textFieldProps","VTextField","_Fragment","VMenu","VList","VListItem","VVirtualScroll","_ref3","itemRef","itemProps","_ref4","isSelected","VCheckboxBtn","VAvatar","VIcon","highlightResult","onChipClose","slotProps","hasSlot","slotContent","ensureValidVNode","VChip","_createTextVNode","_len","args","_key","noop","_useModel","selectPropsKeys","selectProps","filterValues","list","useModelList","excludeValues","query","filter","x","_sfc_main","component","is","name","defineAsyncComponent","h","hasFilters","filters","k","icon","__expose","newItem","editable","toRefs","opened","addItem","removeItem","VSlideGroupItem","makeGroupItemProps","slideGroupItem","useGroupItem","VSlideGroupSymbol","color","idx","assign","result","sorted","vals","itemSlots","filterSlots","permissions","headers","dst","field","tKeys","updateOptions","key","order","runEdit","expired","States","displayProcessing","messages","emit","passwordInput","useTemplateRef","credentials","showPassword","state","State","resetState","$reset","login","resp","config","error","views","mounted","onUnmounted","tab","tabs","windows","editor","edited","useModelEditor","viewsListSlots","editSlots","useModelPanel","canEdit","showFilters","saved","bind","App","ox","vendor"],"mappings":"ucAsBA,MAAMA,EAAQC,EAERC,EAAQC,EAGRC,EAAUC,SAAO,SAAS,EAC1B,CAAC,IAAAC,EAAK,WAAAC,EAAY,QAAAC,CAAW,EAAAC,EAAA,UAAU,CAAC,KAAML,EAAQ,KAAM,MAAAF,EAAO,MAAAF,CAAA,CAAM,8sBCbzE,MAAAU,EAAQL,SAAO,OAAO,EACtBM,EAAQN,SAAO,OAAO,EAEtBL,EAAQC,EAKC,eAAAK,EAAIM,EAAMC,EAAM,CAE3B,OAAO,MADMF,EAAME,EAAK,YAAY,MAAM,EACxB,IAAI,EAAE,OAAOA,EAAK,KAAK,EAAG,CAAC,OAAQb,EAAM,KAAK,GAAG,CAAA,uhBCjBzDc,EAAQ,SAAA,EACtB,MAAMd,EAAQC,0SCad,SAASc,GAAaC,EAAc,CAClC,MAAMC,EAAOC,aAAWF,GAAc,EACtC,IAAIG,EAAQ,GACZ,SAASC,GAAQ,CACf,cAAcD,CAAK,CACvB,CACE,SAASE,GAAQ,CACfD,EAAO,EACPE,EAAAA,SAAS,IAAML,EAAK,MAAQD,EAAY,CAAE,CAC9C,CACE,SAASO,EAAMC,EAAI,CACjB,MAAMC,EAAQD,EAAK,iBAAiBA,CAAE,EAAI,CACxC,mBAAoB,EACrB,EACKE,EAAW,WAAWD,EAAM,kBAAkB,EAAI,KAAQ,IAEhE,GADAL,EAAO,EACHH,EAAK,OAAS,EAAG,OACrB,MAAMU,EAAY,YAAY,IAAK,EACnCR,EAAQ,OAAO,YAAY,IAAM,CAC/B,MAAMS,EAAU,YAAY,IAAK,EAAGD,EAAYD,EAChDT,EAAK,MAAQ,KAAK,IAAID,EAAc,EAAGY,EAAS,CAAC,EAC7CX,EAAK,OAAS,GAAGG,EAAO,CAC7B,EAAEM,CAAQ,CACf,CACEG,OAAAA,EAAAA,eAAeT,CAAK,EACb,CACL,MAAAA,EACA,KAAAH,EACA,MAAAM,EACA,MAAAF,CACD,CACH,CACO,MAAMS,GAAqBC,EAAAA,aAAa,CAC7C,UAAW,QACX,KAAM,OACN,MAAO,CAAC,QAAS,MAAM,EACvB,QAAS,CACP,KAAM,CAAC,OAAQ,MAAM,EACrB,QAAS,GACV,EACD,SAAU,QACV,GAAGC,oBAAkB,CACnB,SAAU,QACd,CAAG,EACD,GAAGC,oBAAmB,EACtB,GAAGC,mBAAkB,EACrB,GAAGC,mBAAkB,EACrB,GAAGC,iBAAgB,EACnB,GAAGC,EAAAA,KAAKC,EAAAA,kBAAkB,CACxB,WAAY,uBACb,CAAA,EAAG,CAAC,aAAc,mBAAoB,QAAS,gBAAgB,CAAC,CACnE,EAAG,WAAW,EACDC,GAAYC,EAAgB,iBAAA,EAAG,CAC1C,KAAM,YACN,MAAOV,GAAoB,EAC3B,MAAO,CACL,oBAAqBW,GAAK,EAC3B,EACD,MAAMzC,EAAO0C,EAAM,CACjB,GAAI,CACF,MAAAC,CACN,EAAQD,EACJ,MAAME,EAAWC,EAAAA,gBAAgB7C,EAAO,YAAY,EAC9C,CACJ,gBAAA8C,CACN,EAAQC,EAAAA,YAAY/C,CAAK,EACf,CACJ,QAAAgD,CACD,EAAGC,aAAY,EACV,CACJ,aAAAC,CACN,EAAQC,EAAAA,aAAanD,CAAK,EAChB,CACJ,aAAAoD,EACA,YAAAC,EACA,eAAAC,CACN,EAAQC,EAAAA,WAAWvD,CAAK,EACd,CACJ,eAAAwD,CACN,EAAQC,EAAAA,WAAWzD,CAAK,EACd0D,EAAY3C,GAAa,IAAM,OAAOf,EAAM,OAAO,CAAC,EACpD2D,EAAUC,EAAAA,IAAK,EACfC,EAAWD,EAAAA,IAAK,EAChBE,EAAa5C,EAAU,WAAC,EAAK,EAC7B6C,EAAS7C,EAAU,WAAC,CAAC,EACrB8C,EAAaJ,EAAAA,IAAK,EAClBK,EAAY5D,EAAAA,OAAO6D,EAAgB,iBAAE,MAAS,EACpDC,iBAAe,IAAM,CAAC,CAACF,EAAW,IAAM,CACtC,MAAMG,EAASC,EAAAA,UAAW,EAC1BC,EAAAA,YAAY,IAAM,CAChBN,EAAW,MAAQI,EAAO,WAAW,KAC7C,CAAO,CACP,CAAK,EACDG,EAAK,MAAC3B,EAAU4B,CAAY,EAC5BD,EAAAA,MAAM,IAAMvE,EAAM,QAASwE,CAAY,EACvCC,EAAAA,UAAU,IAAM,CACV7B,EAAS,OAAO4B,EAAc,CACxC,CAAK,EACD,IAAIE,EAAgB,GACpB,SAASF,GAAe,CACtBd,EAAU,MAAO,EACjB,OAAO,aAAagB,CAAa,EACjC,MAAMC,EAAU,OAAO3E,EAAM,OAAO,EACpC,GAAI,CAAC4C,EAAS,OAAS+B,IAAY,GAAI,OACvC,MAAMC,EAAUC,EAAAA,WAAWhB,EAAS,KAAK,EACzCH,EAAU,MAAMkB,CAAO,EACvBF,EAAgB,OAAO,WAAW,IAAM,CACtC9B,EAAS,MAAQ,EAClB,EAAE+B,CAAO,CAChB,CACI,SAASG,GAAe,CACtBpB,EAAU,MAAO,EACjB,OAAO,aAAagB,CAAa,CACvC,CACI,SAASK,GAAiB,CACxBjB,EAAW,MAAQ,GACnBgB,EAAc,CACpB,CACI,SAASE,GAAiB,CACxBlB,EAAW,MAAQ,GACnBU,EAAc,CACpB,CACI,SAASS,EAAaC,EAAO,CAC3BnB,EAAO,MAAQmB,EAAM,QAAQ,CAAC,EAAE,OACtC,CACI,SAASC,EAAWD,EAAO,CACrB,KAAK,IAAInB,EAAO,MAAQmB,EAAM,eAAe,CAAC,EAAE,OAAO,EAAI,KAC7DtC,EAAS,MAAQ,GAEzB,CACI,SAASwC,GAAe,CAClBtB,EAAW,OAAOkB,EAAgB,CAC5C,CACI,MAAMK,EAAkBC,EAAAA,SAAS,IACxBtF,EAAM,SAAS,MAAM,GAAG,EAAE,OAAO,CAACuF,EAAKC,KAC5CD,EAAI,eAAeC,CAAG,EAAE,EAAI,GACrBD,GACN,EAAE,CACN,EACDE,OAAAA,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAeC,EAAAA,SAAS,YAAY3F,CAAK,EACzC4F,EAAa,CAAC,EAAEjD,EAAM,SAAWA,EAAM,MAAQ3C,EAAM,MAC3D,OAAO6F,EAAY,YAACF,EAAQ,SAAEG,aAAY,CACxC,IAAOnC,EACP,MAAS,CAAC,aAAc,CACtB,qBAAsBf,EAAS,MAC/B,yBAA0B5C,EAAM,WAAa,CAACA,EAAM,SACpD,oBAAqB,CAAC,CAACA,EAAM,MAC7B,uBAAwBA,EAAM,QACxC,EAAWqF,EAAgB,MAAOvC,EAAgB,MAAO9C,EAAM,KAAK,EAC5D,MAAS,CAACgE,EAAW,MAAOhE,EAAM,KAAK,CACxC,EAAE0F,EAAc,CACf,WAAc9C,EAAS,MACvB,sBAAuBmD,GAAUnD,EAAS,MAAQmD,EAClD,aAAgBC,EAAAA,WAAW,CACzB,MAAO,CAAC,sBAAuB9C,EAAa,MAAOE,EAAa,MAAOI,EAAe,MAAOF,EAAe,KAAK,EACjH,MAAO,CAACD,EAAY,KAAK,EACzB,eAAA0B,EACA,eAAAC,CACV,EAAWU,EAAa,YAAY,EAC5B,WAAc,GACd,iBAAoB,GACpB,MAAS,GACT,eAAkB,OAClB,oBAAuB,GACvB,oBAAuBT,EACvB,WAAcE,EACd,aAAgBC,CACjB,EAAEpC,CAAO,EAAG,CACX,QAAS,IAAM,SAAA,OAACiD,cAAY,GAAO,YAAY,EAAGjG,EAAM,OAAS,CAAC8D,EAAW,OAAS+B,EAAAA,YAAa,MAAO,CACxG,IAAO,QACP,MAAS,mBACnB,EAAW,CAACA,EAAY,YAACK,kBAAiB,CAChC,IAAOrC,EACP,MAAS,OAAO7D,EAAM,OAAU,SAAWA,EAAM,MAAQ,OACzD,IAAOA,EAAM,QACb,cAAe0D,EAAU,KAAK,KAC/B,EAAE,IAAI,CAAC,CAAC,EAAGkC,GAAcC,EAAAA,YAAa,MAAO,CAC5C,IAAO,UACP,MAAS,sBACT,KAAQ,SACR,YAAa,QACd,EAAE,GAACM,EAAAxD,EAAM,OAAN,YAAAwD,EAAA,KAAAxD,KAAkB3C,EAAM,MAAMoG,EAAAzD,EAAM,UAAN,YAAAyD,EAAA,KAAAzD,EAAiB,CAAC,EAAGA,EAAM,SAAWkD,EAAAA,YAAaQ,EAAAA,kBAAmB,CACtG,SAAY,CACV,KAAM,CACJ,QAAS,OACT,OAAQ,GACR,KAAM,EACpB,CACA,CACA,EAAW,CACD,QAAS,IAAM,CAACR,EAAY,YAAC,MAAO,CAClC,MAAS,qBACrB,EAAa,CAAClD,EAAM,QAAQ,CAChB,SAAAC,CACD,CAAA,CAAC,CAAC,CAAC,CACd,CAAS,CAAC,GACF,UAAWD,EAAM,SACzB,CAAO,CACP,CAAK,EACM2D,EAAW,YAAC,CAAE,EAAE3C,CAAO,CAClC,CACA,CAAC,mMCjKD,MAAMhB,EAAQ7B,EAAAA,SAAS,EAUjBd,EAAQC,EAIRsG,EAAMC,EAAA,SAAS,CAAC,OAAQ,GAAK,EAE7BpG,EAAUqG,gBAAczG,CAAK,EAC7B0G,EAASC,EAAAA,UAAU,EAEzBlC,OAAAA,EAAAA,UAAU,IAAM,CAASiC,EAAA,MAAQtG,EAAQ,KAAK,KAAA,CAAO,EAE/CmE,QAAA,IAAM,CAACnE,EAAQ,MAAM,MAAOA,EAAQ,MAAM,IAAI,EAAG,IAAM,CACzDA,EAAQ,UAAY,EAAA,CACvB,EAEewG,EAAAA,gBAAA,CAACC,EAAKC,EAAUC,IAAS,CACrC3G,EAAQ,MAAM,MAAM,GAAGyG,CAAG,EAAE,CAAA,CAC/B,ipEChEYG,GAAyBjF,EAAAA,aAAa,CACjD,gBAAiB,CACf,KAAM,CAAC,QAAS,MAAM,CACvB,EACD,cAAe,QACf,OAAQ,OACR,GAAGkF,kBAAgB,CACjB,WAAY,CAAC,OAAO,CACxB,CAAG,EACD,GAAGC,kBAAiB,EACpB,GAAG7E,EAAAA,KAAK8E,EAAAA,oBAAoB,CAC1B,WAAY,KACZ,KAAM,UACP,CAAA,EAAG,CAAC,kBAAmB,QAAS,iBAAiB,CAAC,EACnD,GAAGC,sBAAoB,CACrB,WAAY,EACb,CAAA,CACH,EAAG,eAAe,EACLC,GAAgB7E,EAAgB,iBAAA,EAAG,CAC9C,KAAM,gBACN,MAAOwE,GAAwB,EAC/B,MAAO,CACL,iBAAkBM,GAAW,GAC7B,gBAAiBC,GAAS,GAC1B,oBAAqBA,GAAS,GAC9B,cAAeA,GAAS,EACzB,EACD,MAAMvH,EAAO0C,EAAM,CACjB,GAAI,CACF,MAAAC,CACN,EAAQD,EACJ,KAAM,CACJ,EAAA8E,CACD,EAAGC,YAAW,EACTC,EAAgB9D,EAAAA,IAAK,EACrB+D,EAAYzG,EAAU,WAAC,EAAK,EAC5B0G,EAAa1G,EAAU,WAAC,EAAI,EAC5B2G,EAAe3G,EAAU,WAAC,EAAK,EAC/B4G,EAAWlE,EAAAA,IAAK,EAChBmE,EAAoBnE,EAAAA,IAAK,EACzBoE,EAAiB9G,EAAU,WAAC,EAAE,EAC9B,CACJ,MAAA+G,EACA,YAAAC,EACA,aAAAC,CACN,EAAQC,EAAAA,SAASpI,CAAK,EACZ,CACJ,iBAAAqI,EACA,gBAAAC,CACD,EAAGC,eAAa,IAAA,OAAM,OAAApC,EAAAuB,EAAc,QAAd,YAAAvB,EAAqB,MAAK,EAC3CqC,EAAS3F,EAAe,gBAAC7C,EAAO,SAAU,EAAE,EAC5CyI,EAAQ5F,EAAAA,gBAAgB7C,EAAO,aAAc,CAAA,EAAIyC,GAAKyF,EAAYzF,IAAM,KAAO,CAAC,IAAI,EAAIiG,EAAW,YAACjG,CAAC,CAAC,EAAGA,GAAK,CAClH,MAAMkG,EAAcR,EAAa1F,CAAC,EAClC,OAAOzC,EAAM,SAAW2I,EAAcA,EAAY,CAAC,GAAK,IAC9D,CAAK,EACKC,EAAetD,EAAAA,SAAS,IACrB,OAAOtF,EAAM,cAAiB,WAAaA,EAAM,aAAayI,EAAM,KAAK,EAAI,OAAOzI,EAAM,cAAiB,SAAWA,EAAM,aAAeyI,EAAM,MAAM,MAC/J,EACKI,EAAOC,EAAO,QAAC9I,CAAK,EACpB,CACJ,cAAA+I,EACA,WAAAC,CACN,EAAQC,EAAS,UAACjJ,EAAOiI,EAAO,IAAML,EAAW,MAAQ,GAAKY,EAAO,KAAK,EAChEU,EAAe5D,EAAAA,SAAS,IACxBtF,EAAM,aACD+I,EAAc,MAAM,OAAOI,GAAgB,CAACV,EAAM,MAAM,KAAKW,GAAKA,EAAE,QAAUD,EAAa,KAAK,CAAC,EAEnGJ,EAAc,KACtB,EACKM,EAAW/D,EAAQ,SAAC,IAAM,CAAC,EAAEtF,EAAM,OAAS2C,EAAM,KAAK,EACvD2G,EAAmBhE,EAAAA,SAAS,IAAM+D,EAAS,OAAS,CAAC,CAAC1G,EAAM,SAAS,EACrE4G,EAAiBjE,EAAAA,SAAS,IAAMmD,EAAM,MAAM,IAAIe,GAAaA,EAAU,MAAM,KAAK,CAAC,EACnFC,EAAiBnE,EAAAA,SAAS,IAAM,OAEpC,OADoBtF,EAAM,kBAAoB,IAAQA,EAAM,kBAAoB,SAAWwI,EAAO,UAAUrC,EAAA+C,EAAa,MAAM,CAAC,IAApB,YAAA/C,EAAuB,SAC7G+C,EAAa,MAAM,OAAS,GAAK,CAACtB,EAAW,OAAS,CAACC,EAAa,KAChG,CAAK,EACK6B,EAAepE,EAAAA,SAAS,IAAMtF,EAAM,YAAc,CAACkJ,EAAa,MAAM,QAAUL,EAAK,WAAW,OAASA,EAAK,WAAW,KAAK,EAC9Hc,EAAQ9G,EAAAA,gBAAgB7C,EAAO,MAAM,EACrC4J,EAAOtE,EAAAA,SAAS,CACpB,IAAK,IAAMqE,EAAM,MACjB,IAAKlH,GAAK,OACJkH,EAAM,OAAS,CAAClH,KAAK0D,EAAA2B,EAAS,QAAT,MAAA3B,EAAgB,cAAc,OACnD1D,GAAKiH,EAAa,QACtBC,EAAM,MAAQlH,EACtB,CACA,CAAK,EACKoH,EAAQvE,EAAQ,SAAC,IAAMsE,EAAK,MAAQ5J,EAAM,UAAYA,EAAM,QAAQ,EACpE8J,EAAUlG,EAAAA,IAAK,EACfmG,GAAaC,EAAAA,aAAaF,EAASpC,CAAa,EACtD,SAASuC,GAAQC,EAAG,CACdlK,EAAM,cACR4J,EAAK,MAAQ,IAEfpB,EAAO,MAAQ,EACrB,CACI,SAAS2B,IAAqB,CACxBT,EAAa,QACjBE,EAAK,MAAQ,GACnB,CACI,SAASQ,GAAoBF,EAAG,CAC1BR,EAAa,QACb/B,EAAU,QACZuC,EAAE,eAAgB,EAClBA,EAAE,gBAAiB,GAErBN,EAAK,MAAQ,CAACA,EAAK,MACzB,CACI,SAASS,GAAcH,EAAG,OACpBA,EAAE,MAAQ,KAAOI,EAAc,eAACJ,CAAC,KACnC/D,EAAAuB,EAAc,QAAd,MAAAvB,EAAqB,QAE7B,CACI,SAASoE,GAAUL,EAAG,eACpB,GAAIrB,EAAK,WAAW,MAAO,OAC3B,MAAM2B,GAAiBrE,EAAAuB,EAAc,QAAd,YAAAvB,EAAqB,eACtCsE,EAAShC,EAAM,MAAM,OAqB3B,GApBI,CAAC,QAAS,YAAa,SAAS,EAAE,SAASyB,EAAE,GAAG,GAClDA,EAAE,eAAgB,EAEhB,CAAC,QAAS,WAAW,EAAE,SAASA,EAAE,GAAG,IACvCN,EAAK,MAAQ,IAEX,CAAC,QAAQ,EAAE,SAASM,EAAE,GAAG,IAC3BN,EAAK,MAAQ,IAEXH,EAAe,OAAS,CAAC,QAAS,KAAK,EAAE,SAASS,EAAE,GAAG,GAAK,CAACzB,EAAM,MAAM,KAAKiC,GAAS,CACzF,GAAI,CACF,MAAAnD,CACV,EAAYmD,EACJ,OAAOnD,IAAU2B,EAAa,MAAM,CAAC,EAAE,KAC/C,CAAO,GACCyB,EAAOzB,EAAa,MAAM,CAAC,CAAC,EAE1BgB,EAAE,MAAQ,aAAeT,EAAe,SAC1CrD,EAAA0D,EAAQ,QAAR,MAAA1D,EAAe,MAAM,SAEnB,CAAC,YAAa,QAAQ,EAAE,SAAS8D,EAAE,GAAG,EAAG,CAC3C,GAAI,CAAClK,EAAM,UAAYsJ,EAAiB,OAASb,EAAM,MAAM,OAAS,GAAK,CAACD,EAAO,MAAO,OAAOmC,EAAOlC,EAAM,MAAM,CAAC,EAAG,EAAK,EAC7H,GAAI,CAACT,EAAe,MAAO,CACzBkC,EAAE,eAAgB,EAClB,MAAMU,EAAyB5C,EAAe,MAC9C2C,EAAOlC,EAAM,MAAMT,EAAe,KAAK,EAAG,EAAK,EAC/CA,EAAe,MAAQ4C,GAA0BH,EAAS,EAAIA,EAAS,EAAIG,CACrF,MAAmBV,EAAE,MAAQ,aAAe,CAAC1B,EAAO,QAC1CR,EAAe,MAAQyC,EAAS,GAElC,MACR,CACM,GAAKzK,EAAM,SACX,GAAIkK,EAAE,MAAQ,YAAa,CACzB,GAAIlC,EAAe,MAAQ,GAAKwC,GAAkBA,EAAiB,EAAG,OACtE,MAAMK,EAAO7C,EAAe,MAAQ,GAAKA,EAAe,MAAQ,EAAIyC,EAAS,EAC7E,GAAIhC,EAAM,MAAMoC,CAAI,EAClB7C,EAAe,MAAQ6C,MAClB,CACL,MAAMC,IAAeC,EAAAvC,EAAO,QAAP,YAAAuC,EAAc,SAAU,KAC7C/C,EAAe,MAAQ,IACvBgD,EAAAtD,EAAc,QAAd,MAAAsD,EAAqB,kBAAkBF,EAAcA,EAC/D,CACA,SAAiBZ,EAAE,MAAQ,aAAc,CACjC,GAAIlC,EAAe,MAAQ,EAAG,OAC9B,MAAMiD,EAAOjD,EAAe,MAAQ,EAChCS,EAAM,MAAMwC,CAAI,EAClBjD,EAAe,MAAQiD,GAEvBjD,EAAe,MAAQ,IACvBkD,EAAAxD,EAAc,QAAd,MAAAwD,EAAqB,kBAAkB,EAAG,GAE7C,KAAU,CAAClD,EAAe,OAASsC,EAAc,eAACJ,CAAC,IAClDlC,EAAe,MAAQ,GAE/B,CACI,SAASmD,GAASjB,EAAG,CACnB,GAAIkB,EAAe,gBAAC1D,EAAc,MAAO,WAAW,GAAK0D,EAAAA,gBAAgB1D,EAAc,MAAO,mBAAmB,EAAG,CAClH,MAAM7G,EAAOoH,EAAM,MAAM,KAAKpH,GAAQA,EAAK,QAAUqJ,EAAE,OAAO,KAAK,EAC/DrJ,GACF8J,EAAO9J,CAAI,CAErB,CACA,CACI,SAASwK,IAAe,OAClBrL,EAAM,SACRmG,EAAA4B,EAAkB,QAAlB,MAAA5B,EAAyB,wBAEjC,CACI,SAASf,IAAe,OAClBuC,EAAU,QACZC,EAAW,MAAQ,IACnBzB,EAAAuB,EAAc,QAAd,MAAAvB,EAAqB,QAE7B,CACI,SAASmF,GAAUpB,EAAG,CACpBvC,EAAU,MAAQ,GAClB,WAAW,IAAM,CACfE,EAAa,MAAQ,EAC7B,CAAO,CACP,CACI,SAAS0D,GAAWrB,EAAG,CACrBrC,EAAa,MAAQ,EAC3B,CACI,SAAS2D,GAAmB/I,EAAG,EACzBA,GAAK,MAAQA,IAAM,IAAM,CAACzC,EAAM,UAAY,CAACsJ,EAAiB,SAAOb,EAAM,MAAQ,CAAE,EAC/F,CACI,MAAMgD,EAAcvK,EAAU,WAAC,EAAK,EAGpC,SAASyJ,EAAO9J,EAAM,CACpB,IAAI6K,EAAM,UAAU,OAAS,GAAK,UAAU,CAAC,IAAM,OAAY,UAAU,CAAC,EAAI,GAC9E,GAAI,GAAC7K,GAAQA,EAAK,MAAM,UACxB,GAAIb,EAAM,SAAU,CAClB,MAAM2L,EAAQlD,EAAM,MAAM,UAAUe,IAAcxJ,EAAM,iBAAmB4L,EAAS,WAAEpC,EAAU,MAAO3I,EAAK,KAAK,CAAC,EAC5GgL,EAAMH,GAAc,CAAC,CAACC,EAC5B,GAAI,CAACA,EAAO,CACV,MAAMpE,EAAQsE,EAAM,CAAC,GAAGpD,EAAM,MAAO5H,CAAI,EAAI,CAAC,GAAG4H,EAAM,KAAK,EAC5DlB,EAAM,OAAOoE,EAAO,CAAC,EACrBlD,EAAM,MAAQlB,CACf,MAAUsE,IACTpD,EAAM,MAAQ,CAAC,GAAGA,EAAM,MAAO5H,CAAI,GAEjCb,EAAM,gBACRwI,EAAO,MAAQ,GAEzB,KAAa,CACL,MAAMqD,EAAMH,IAAQ,GACpBjD,EAAM,MAAQoD,EAAM,CAAChL,CAAI,EAAI,CAAE,EAC/B2H,EAAO,MAAQqD,GAAO,CAACvC,EAAiB,MAAQzI,EAAK,MAAQ,GAG7DS,EAAAA,SAAS,IAAM,CACbsI,EAAK,MAAQ,GACbhC,EAAW,MAAQ,EAC7B,CAAS,CACT,CACA,CACIrD,OAAAA,EAAAA,MAAMoD,EAAW,CAACmE,EAAKC,IAAW,OAC5BD,IAAQC,IACRD,GACFL,EAAY,MAAQ,GACpBjD,EAAO,MAAQxI,EAAM,UAAYsJ,EAAiB,MAAQ,GAAK,SAAOnD,EAAAsC,EAAM,MAAM,GAAG,EAAE,IAAjB,YAAAtC,EAAoB,MAAM,QAAS,EAAE,EAC3GyB,EAAW,MAAQ,GACnBtG,EAAAA,SAAS,IAAMmK,EAAY,MAAQ,EAAK,IAEpC,CAACzL,EAAM,UAAYwI,EAAO,OAAS,OAAMC,EAAM,MAAQ,CAAE,GAC7DmB,EAAK,MAAQ,IACT5J,EAAM,UAAYsJ,EAAiB,SAAOd,EAAO,MAAQ,IAC7DR,EAAe,MAAQ,IAE/B,CAAK,EACDzD,EAAK,MAACiE,EAAQsD,GAAO,CACf,CAACnE,EAAU,OAAS8D,EAAY,QAChCK,IAAKlC,EAAK,MAAQ,IACtBhC,EAAW,MAAQ,CAACkE,EAC1B,CAAK,EACDvH,EAAK,MAACqF,EAAM,IAAM,CAChB,GAAI,CAAC5J,EAAM,cAAgB4J,EAAK,OAASnB,EAAM,MAAM,OAAQ,CAC3D,MAAMkD,EAAQzC,EAAa,MAAM,UAAUrI,GAAQ4H,EAAM,MAAM,KAAKW,GAAKvI,EAAK,QAAUuI,EAAE,KAAK,CAAC,EAChG4C,cAAc,OAAO,sBAAsB,IAAM,OAC/CL,GAAS,KAAKxF,EAAA4B,EAAkB,QAAlB,MAAA5B,EAAyB,cAAcwF,GAC/D,CAAS,CACT,CACA,CAAK,EACDpH,EAAAA,MAAM,IAAMvE,EAAM,MAAO,CAACiM,EAAQF,IAAW,CACvCnC,EAAK,OACLjC,EAAU,OAAS,CAACoE,EAAO,QAAUE,EAAO,SAC9CrC,EAAK,MAAQ,GAErB,CAAK,EACDrF,EAAK,MAACkE,EAAOlB,GAAS,OAChB,CAACvH,EAAM,UAAY,CAACsJ,EAAiB,QACvCd,EAAO,QAAQrC,EAAAoB,EAAM,CAAC,IAAP,YAAApB,EAAU,QAAS,GAE1C,CAAK,EACDV,EAAAA,UAAU,IAAM,CACd,MAAMyG,EAAU,CAAC,EAAE,CAAClM,EAAM,YAAckJ,EAAa,MAAM,QAAUvG,EAAM,cAAc,GAAKA,EAAM,aAAa,GAAKA,EAAM,SAAS,GAC/HwJ,EAAU1D,EAAM,MAAM,OAAS,EAC/B2D,EAAiBC,EAAAA,WAAW,YAAYrM,CAAK,EACnD,OAAO6F,EAAY,YAACwG,EAAU,WAAEvG,aAAY,CAC1C,IAAO4B,CACR,EAAE0E,EAAgB,CACjB,WAAc5D,EAAO,MACrB,sBAAuB,CAACzC,GAAUyC,EAAO,MAAQzC,EAAQyF,EAAkB,EAC3E,QAAW7D,EAAU,MACrB,mBAAoB5B,GAAU4B,EAAU,MAAQ5B,EAChD,gBAAmB0C,EAAM,cACzB,aAAgBG,EAAa,MAC7B,MAASuD,EACT,SAAYhB,GACZ,MAAS,CAAC,iBAAkB,mBAAmBnL,EAAM,SAAW,WAAa,QAAQ,GAAI,CACvF,8BAA+B4J,EAAK,MACpC,wBAAyB,CAAC,CAAC5J,EAAM,MACjC,iCAAkC,CAAC,CAACsJ,EAAiB,MACrD,kCAAmCtB,EAAe,MAAQ,EACpE,EAAWhI,EAAM,KAAK,EACd,MAASA,EAAM,MACf,SAAY6I,EAAK,WAAW,MAC5B,YAAesD,EAAU,OAAYnM,EAAM,YAC3C,gBAAiBiK,GACjB,sBAAuBE,GACvB,UAAaI,EACrB,CAAO,EAAG,CACF,GAAG5H,EACH,QAAS,IAAMkD,EAAAA,YAAayG,EAAS,SAAE,KAAM,CAACzG,EAAY,YAAC0G,EAAK,MAAEzG,aAAY,CAC5E,IAAOgC,EACP,WAAc8B,EAAK,MACnB,sBAAuB7D,GAAU6D,EAAK,MAAQ7D,EAC9C,UAAa,SACb,aAAgB,0BAChB,SAAY2D,EAAa,MACzB,MAAS1J,EAAM,MACf,UAAa,IACb,YAAe,GACf,oBAAuB,GACvB,WAAcA,EAAM,WACpB,aAAgBqL,GAChB,aAAgBjG,EAC1B,EAAWpF,EAAM,SAAS,EAAG,CACnB,QAAS,IAAM,CAACkM,GAAWrG,EAAAA,YAAa2G,EAAAA,MAAO1G,EAAAA,WAAY,CACzD,IAAOgE,EACP,SAAYP,EAAe,MAC3B,eAAkBvJ,EAAM,SAAW,cAAgB,qBACnD,YAAekK,GAAKA,EAAE,eAAgB,EACtC,UAAaG,GACb,UAAaiB,GACb,WAAcC,GACd,SAAY,KACZ,YAAa,SACb,MAASvL,EAAM,WAAaA,EAAM,KAC9C,EAAa+J,GAAY/J,EAAM,SAAS,EAAG,CAC/B,QAAS,IAAM,WAAA,QAACmG,EAAAxD,EAAM,kBAAN,YAAAwD,EAAA,KAAAxD,GAA2B,CAACuG,EAAa,MAAM,QAAU,CAAClJ,EAAM,eAAeoG,EAAAzD,EAAM,aAAN,YAAAyD,EAAA,KAAAzD,KAAwBkD,EAAY,YAAC4G,YAAW,CAC7I,IAAO,UACP,MAASjF,EAAExH,EAAM,UAAU,CAC5B,EAAE,IAAI,GAAI6F,EAAY,YAAC6G,iBAAgB,CACtC,IAAO3E,EACP,WAAc,GACd,MAASmB,EAAa,MACtB,QAAW,OACzB,EAAe,CACD,QAASyD,GAAS,QAChB,GAAI,CACF,KAAA9L,EACA,MAAA8K,EACA,QAAAiB,CAClB,EAAoBD,EACJ,MAAME,GAAY7G,EAAAA,WAAWnF,EAAK,MAAO,CACvC,IAAK+L,EACL,IAAK/L,EAAK,MACV,OAAQ4I,EAAe,OAASkC,IAAU,EAAI,GAAO,OACrD,QAAS,IAAMhB,EAAO9J,EAAM,IAAI,CAClD,CAAiB,EACD,QAAOsF,GAAAxD,EAAM,OAAN,YAAAwD,GAAA,KAAAxD,EAAa,CAClB,KAAA9B,EACA,MAAA8K,EACA,MAAOkB,EACR,KAAKhH,EAAY,YAAC4G,YAAW3G,EAAAA,WAAY+G,GAAW,CACnD,KAAQ,QAC1B,CAAiB,EAAG,CACF,QAASC,GAAS,CAChB,GAAI,CACF,WAAAC,EACtB,EAAwBD,EACJ,OAAOjH,cAAayG,EAAAA,SAAW,KAAM,CAACtM,EAAM,UAAY,CAACA,EAAM,aAAe6F,EAAY,YAACmH,eAAc,CACvG,IAAOnM,EAAK,MACZ,WAAckM,GACd,OAAU,GACV,SAAY,IAClC,EAAuB,IAAI,EAAI,OAAWlM,EAAK,MAAM,eAAiBgF,EAAY,YAACoH,UAAS,CACtE,MAASpM,EAAK,MAAM,aAC1C,EAAuB,IAAI,EAAGA,EAAK,MAAM,aAAegF,EAAY,YAACqH,QAAO,CACtD,KAAQrM,EAAK,MAAM,WACzC,EAAuB,IAAI,CAAC,CAAC,CACV,EACD,MAAO,IAAM,OACX,OAAO+G,EAAW,MAAQ/G,EAAK,MAAQsM,EAAe,gBAAC,iBAAkBtM,EAAK,OAAOsF,EAAA6C,EAAWnI,CAAI,IAAf,YAAAsF,EAAkB,KAAK,CAChI,CACA,CAAiB,CACjB,CACA,CAAa,GAAG4E,EAAApI,EAAM,iBAAN,YAAAoI,EAAA,KAAApI,EAAwB,EACxC,CAAW,CAAC,CACZ,CAAS,EAAG8F,EAAM,MAAM,IAAI,CAAC5H,EAAM8K,IAAU,CACnC,SAASyB,EAAYlD,EAAG,CACtBA,EAAE,gBAAiB,EACnBA,EAAE,eAAgB,EAClBS,EAAO9J,EAAM,EAAK,CAC9B,CACU,MAAMwM,EAAY,CAChB,gBAAiBD,EACjB,UAAUlD,EAAG,CACPA,EAAE,MAAQ,SAAWA,EAAE,MAAQ,MACnCA,EAAE,eAAgB,EAClBA,EAAE,gBAAiB,EACnBkD,EAAYlD,CAAC,EACd,EACD,YAAYA,EAAG,CACbA,EAAE,eAAgB,EAClBA,EAAE,gBAAiB,CACpB,EACD,WAAY,GACZ,sBAAuB,MACxB,EACKoD,EAAUjE,EAAS,MAAQ,CAAC,CAAC1G,EAAM,KAAO,CAAC,CAACA,EAAM,UAClD4K,EAAcD,EAAUE,EAAgB,iBAACnE,EAAS,MAAQ1G,EAAM,KAAK,CACzE,KAAA9B,EACA,MAAA8K,EACA,MAAO0B,CACnB,CAAW,EAAI1K,EAAM,UAAU,CACnB,KAAA9B,EACA,MAAA8K,CACD,CAAA,CAAC,EAAI,OACN,GAAI,EAAA2B,GAAW,CAACC,GAChB,OAAO1H,EAAAA,YAAa,MAAO,CACzB,IAAOhF,EAAK,MACZ,MAAS,CAAC,4BAA6B8K,IAAU3D,EAAe,OAAS,CAAC,sCAAuCK,EAAiB,KAAK,CAAC,EACxI,MAASsD,IAAU3D,EAAe,MAAQM,EAAgB,MAAQ,CAAA,CAC9E,EAAa,CAACe,EAAS,MAAS1G,EAAM,KAMLkD,EAAAA,YAAaQ,EAAAA,kBAAmB,CACrD,IAAO,gBACP,SAAY,CACV,MAAO,CACL,SAAUrG,EAAM,cAChB,KAAM,QACN,KAAMa,EAAK,KAC3B,CACA,CACA,EAAa,CACD,QAAS,IAAM,CAAC0M,CAAW,CACvC,CAAW,EAjBkC1H,EAAY,YAAC4H,EAAK,MAAE3H,aAAY,CACjE,IAAO,OACP,SAAY9F,EAAM,cAClB,KAAQ,QACR,KAAQa,EAAK,MACb,SAAYA,EAAK,MAAM,QACxB,EAAEwM,CAAS,EAAG,IAAI,EAWdE,GAAe1H,EAAY,YAAC,OAAQ,CACvC,MAAS,gCACV,EAAE,CAAChF,EAAK,MAAOb,EAAM,UAAY2L,EAAQlD,EAAM,MAAM,OAAS,GAAK5C,EAAAA,YAAa,OAAQ,CACvF,MAAS,iCACV,EAAE,CAAC6H,EAAAA,gBAAiB,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAC/B,CAAA,CAAC,CAAC,EACH,eAAgB,UAAY,SAC1B,QAASC,EAAO,UAAU,OAAQC,EAAO,IAAI,MAAMD,CAAI,EAAGE,EAAO,EAAGA,EAAOF,EAAME,IAC/ED,EAAKC,CAAI,EAAI,UAAUA,CAAI,EAE7B,OAAOhI,EAAY,YAACyG,EAAS,SAAE,KAAM,EAACnG,EAAAxD,EAAM,kBAAN,YAAAwD,EAAA,KAAAxD,EAAwB,GAAGiL,GAAO5N,EAAM,SAAW6F,EAAAA,YAAaqH,EAAAA,MAAO,CAC3G,MAAS,4BACT,OAAS9G,EAAAsB,EAAc,QAAd,YAAAtB,EAAqB,eAC9B,KAAQpG,EAAM,SACd,YAAeoK,GACf,QAAW0D,EAAI,KACf,aAActG,EAAEqC,EAAM,KAAK,EAC3B,MAASrC,EAAEqC,EAAM,KAAK,EACtB,SAAY,IACxB,EAAa,IAAI,EAAI,MAAS,CAAC,CAC/B,CACA,CAAO,CACP,CAAK,EACMvD,cAAY,CACjB,UAAAqB,EACA,WAAAC,EACA,KAAAgC,EACA,OAAApB,EACA,cAAAO,EACA,OAAA4B,CACD,EAAEjD,CAAa,CACpB,CACA,CAAC,4YC7dD,QAAQ,IAAI,OAAO,EAOnB,MAAM/E,EAAQ7B,EAAAA,SAAS,EACjByG,EAAQwG,EAAAA,SAAY9N,EAAA,YAAA,EACpBuI,EAAS5E,MAAI,EAAE,EAiBf5D,EAAQC,EAGRU,EAAQN,SAAO,OAAO,EAEtB2N,EAAkB,CAAC,QAAS,OAAQ,WAAY,cAAe,UAAW,YAAa,WAAW,EAClGC,EAAc3I,EAAAA,SAAS,IAAM4I,EAAa,aAAAlO,EAAOgO,CAAe,CAAC,EAEjE,CAAC,KAAAG,EAAM,MAAAlG,CAAK,EAAImG,eAAa,CAC/B,GAAGC,EAAAA,cAAcrO,EAAO,CAAC,OAAQ,SAAU,GAAGgO,CAAe,CAAC,EAC9D,QAAShO,EAAM,SAAW,CAAC,EAC3B,MAAOsO,EAAA,MAAMtO,EAAM,KAAMW,CAAK,CAAA,CACjC,EACD,OAAAwN,EAAK,KAAK,EAEJ5J,QAAAiE,EAASjB,GAAU,CAGrB,MAAMgH,EAASJ,EAAK,QAAQnO,EAAM,MAAM,EACxBmO,EAAK,QAEH5G,GAASA,GAAS,kBAAoBA,GAASgH,IAE7D,CAACA,GAAU,CAACA,EAAO,WAAWhH,CAAK,GAAK,CAAC4G,EAAK,WAIzCA,EAAA,QAAQnO,EAAM,MAAM,EAAIuH,EACxB4G,EAAA,KAAA,EAAO,KAAUK,GAAA,CAAEhG,EAAO,MAAQjB,CAAA,CAAM,EACjD,CACH,gfC/DIkH,GAAU,CACX,MAAO,CACH,IAAK,OACL,GAAI,MACP,EAED,MAAMzO,EAAO,CACT,MAAM0O,EAAYxN,EAAAA,WAAW,IAAI,EAE3ByN,EAAKrJ,EAAAA,SAAS,IAAM,CACtB,GAAGtF,EAAM,GACL,OAAOA,EAAM,GAEjB,IAAI4O,EAAO5O,EAAM,IAAI,UAAUA,EAAM,IAAI,YAAY,GAAG,EAAE,CAAC,EAG3D,GAFG4O,IACCA,EAAOA,EAAK,UAAU,EAAGA,EAAK,QAAQ,GAAG,CAAC,GAC3C,CAACA,EACA,MAAM,MACF,yDACJ,EACJ,OAAOA,CACV,CAAA,EAED,SAASvN,GAAQ,CACbqN,EAAU,MAAQG,EAAoB,qBAAC7O,EAAM,IAAK2O,EAAG,KAAK,CAC9D,CAEApK,OAAAA,QAAM,IAAMvE,EAAM,IAAKqB,CAAK,EAE5BA,EAAK,EACE,IAAMyN,EAAC,EAACJ,EAAU,MAAO1O,CAAK,CACxC,CACL,gGCzBA,MAAMA,EAAQC,4WCad,MAAMkO,EAAO9N,EAAM,OAAC,MAAM,EACpBL,EAAQC,EAIR8O,EAAazJ,EAAQ,SAAC,IAAM,CAC9B,MAAM0J,EAAUb,EAAK,QACrB,OAAOa,GAAW,OAAO,QAAQA,CAAO,EAAE,KACtC,CAAC,CAACC,EAAExM,CAAC,IAAM,CAACwM,EAAE,WAAW,MAAM,GAAK,CAACA,EAAE,WAAW,UAAU,GAAK,CAAC,CAACxM,CAC3E,CACA,CAAC,EACKyM,EAAO5J,EAAAA,SAAS,IAAMyJ,EAAW,MAAQ,mBAAqB,oBAAoB,EAExF,SAAS1N,GAAQ,CACb8M,EAAK,QAAU,CAAA,EACfA,EAAK,KAAI,CACb,CAEA5J,OAAAA,EAAAA,MAAM,IAAM,OAAO,OAAO4J,EAAK,OAAO,EAAG,IAAMA,EAAK,KAAM,CAAA,EAC1DgB,EAAa,CAAE,KAAAD,EAAM,WAAAH,EAAY,MAAA1N,CAAK,CAAC,q4CCmBjC,MAAA4G,EAAQ8F,EAAAA,SAAY9N,EAAA,YAAA,EACpBmP,EAAUxL,EAAI,IAAA,EAAE,EAChB5D,EAAQC,EAIR,CAAC,SAAAoP,CAAA,EAAYC,EAAA,OAAOtP,CAAK,EAEzBuP,EAAS3L,EAAI,IAAA,EAAE,GAEjBuC,EAAA8B,EAAM,QAAN,MAAA9B,EAAa,QACNoJ,EAAA,MAAM,KAAK,EAAE,EAExB,SAASC,GAAU,CACTvH,EAAA,MAAM,KAAKmH,EAAQ,KAAK,EAC9BA,EAAQ,MAAQ,CAAC,CAAA,CAGrB,SAASK,EAAW9D,EAAO,CACpB,QAAQnE,IAAE,wBAAwB,CAAC,GAClCxH,EAAM,UAAYiI,EAAM,MAAM,OAAO0D,CAAK,CAAA,s3EC9ErC+D,GAAkBlN,EAAgB,iBAAA,EAAG,CAChD,KAAM,kBACN,MAAOmN,EAAAA,mBAAoB,EAC3B,MAAO,CACL,iBAAkB7D,GAAO,EAC1B,EACD,MAAM9L,EAAO0C,EAAM,CACjB,GAAI,CACF,MAAAC,CACN,EAAQD,EACJ,MAAMkN,EAAiBC,EAAAA,aAAa7P,EAAO8P,mBAAiB,EAC5D,MAAO,IAAA,OAAM,OAAA3J,EAAAxD,EAAM,UAAN,YAAAwD,EAAA,KAAAxD,EAAgB,CAC3B,WAAYiN,EAAe,WAAW,MACtC,OAAQA,EAAe,OACvB,OAAQA,EAAe,OACvB,cAAeA,EAAe,cAAc,KAClD,GACA,CACA,CAAC,4XCSD,MAAM1P,EAAQC,EACDE,EAAAA,OAAO,MAAM,EAC1B,MAAM4H,EAAQ5H,EAAM,OAAC,OAAO,EAEtBL,EAAQC,EAcd,SAAS8P,EAAMC,EAAK,CAEhB,OADAA,EAAMA,EAAMhQ,EAAM,OAAO,OACtBA,EAAM,aACEA,EAAM,OAAOgQ,CAAG,EAAI,IAAMhQ,EAAM,aACpCA,EAAM,OAAOgQ,CAAG,CAC3B,CAGA,SAASC,EAAOC,EAAQrP,EAAMiL,EAAK,CAC5BoE,EAAOpE,CAAG,EACT,CAACoE,EAAOpE,CAAG,EAAE,SAASjL,CAAI,GAAKqP,EAAOpE,CAAG,EAAE,KAAKjL,CAAI,EAEpDqP,EAAOpE,CAAG,EAAI,CAACjL,CAAI,CAC3B,CAEA,MAAMsP,EAAS7K,EAAQ,SAAC,IAAM,CAC1B,MAAM4K,EAAS,CAAA,EACf,GAAGjI,EAAM,MACL,QAAQpH,KAAQoH,EAAM,MAAO,CACzB,MAAMmI,EAAOvP,EAAKb,EAAM,KAAK,EAC7B,GAAG,MAAM,QAAQoQ,CAAI,EACjB,GAAGA,EAAK,OACJ,QAAQtE,KAAOsE,EACXH,EAAOC,EAAQrP,EAAMiL,CAAG,OAE5BmE,EAAOC,EAAQrP,EAAM,IAAI,OAG7BoP,EAAOC,EAAQrP,EAAMuP,CAAI,CACzC,CACI,OAAOF,CACX,CAAC,+rCCvCD,MAAMvN,EAAQ7B,EAAAA,SAAS,EACjBuP,EAAYC,cAAY3N,EAAO,QAAS,CAAC,QAAS,CAAC,cAAc,EAAE,EAEnEjC,EAAQL,SAAO,OAAO,EACtB8N,EAAO9N,SAAO,MAAM,EACpB4H,EAAQ5H,SAAO,OAAO,EAEtBkQ,EAAc,CAAC,QAAQ,EACvBvQ,EAAQC,EASRuQ,EAAUlL,EAAAA,SAAS,IACdtF,EAAM,QAAQ,OAAO,CAACyQ,EAAKC,KAC1BD,EAAA,KACC,OAAOC,GAAU,SAClB,CAAC,IAAKA,EAAO,MAAOlJ,EAAA,EAAEmJ,QAAM,MAAMD,CAAK,CAAC,GAAKA,CACjD,EACOD,GACR,EAAE,CACR,EAGD,SAASG,EAAc1L,EAAO,CACrBiJ,EAAA,QAAQ,KAAOjJ,EAAM,KAC1BiJ,EAAK,QAAQ,UAAYjJ,EAAM,aAC/BiJ,EAAK,QAAQ,SAAWjJ,EAAM,OAAO,IAAI,CAAC,CAAC,IAAA2L,EAAK,MAAAC,CAAW,IAAAA,GAAS,MAAQD,EAAM,IAAIA,CAAG,EAAE,CAAA,CAGtF,SAAAE,EAAQnQ,EAAMC,EAAM,CACzBH,EAAM,KAAK,CAAC,KAAM,cAAe,MAAOG,EAAK,CAAA,8oCCtCjD,MAAM8B,EAAQ7B,EAAQ,SAAA,EAChBd,EAAQC,EAWd,IAAI+Q,EAAUpN,EAAG,IAAC,EAAK,EAEvBW,EAAK,MAAC,IAAMvE,EAAM,MAAM,MAAQ8L,GAAQ,CAIhC9L,EAAM,OAGP8L,GAAOmF,EAAM,OAAC,aACbD,EAAQ,MAAQ,GAChB,OAAO,WAAW,IAAM,CAAEA,EAAQ,MAAQ,EAAI,EAAI,GAAI,EAE9D,CAAC,EAED,MAAME,EAAoB5L,EAAAA,SAAS,IAAM,OAAA,QAAAa,EAAAnG,EAAM,QAAN,YAAAmG,EAAa,gBAAiB,CAACnG,EAAM,OAASgR,EAAQ,OAAM,EAC/FG,EAAW7L,EAAAA,SAAS,IAAA,SAAM,OAAAc,GAAAD,EAAAnG,EAAM,QAAN,YAAAmG,EAAa,OAAb,YAAAC,EAAmB,SAAQ,gvEC5C3D,MAAMgL,EAAOjR,EACPH,EAAQC,iiCC2Bd,MAAMoR,EAAgBC,EAAc,eAAC,UAAU,EAEzCtR,EAAQC,EAMRsR,EAAc/K,EAAAA,SAAS,CACzB,SAAU,GACV,SAAU,EACd,CAAC,EACKgL,EAAe5N,EAAG,IAAC,EAAK,EACxB6N,EAAQjL,EAAAA,SAAS,IAAIkL,OAAO,EAElC,SAASrQ,EAAMsQ,EAAW,GAAM,CAC5BC,EAAM,MAACL,EAAa,CAAC,SAAY,GAAI,SAAU,EAAE,CAAC,EAClDI,GAAcF,EAAM,KAAI,CAC5B,CAEA,eAAeI,GAAQ,CACnBJ,EAAM,WAAU,EAEhB,GAAI,CACA,MAAMK,EAAO,MAAM,MAAM9R,EAAM,IAAK,CAChC,OAAQ,OACR,QAAS+R,EAAAA,SAAO,YAAY,QAC5B,KAAM,KAAK,UAAUR,CAAW,CACnC,CAAA,EACEO,EAAK,QAAU,KACdP,EAAY,YAAc,GAC1BA,EAAY,SAAW,GACvBE,EAAM,GAAG,MAAMK,EAAK,KAAM,CAAA,EAEvB9R,EAAM,OACL,OAAO,SAAS,KAAOA,EAAM,OAGjCyR,EAAM,MAAM,MAAMK,EAAK,KAAM,CAAA,CACzC,OACUE,EAAO,CACTP,EAAM,IAAGO,GAAA,YAAAA,EAAO,UAAWA,CAAK,CACxC,CACA,q2DCpDA,MAAMrP,EAAQ7B,EAAAA,SAAS,EACjBd,EAAQC,EACRgS,EAAQ3B,EAAAA,YAAY3N,EAAO,QAAQ,EAGnCuP,EAAUtO,MAAI,EAAK,EACzBa,EAAAA,UAAU,IAAM,CAAEyN,EAAQ,MAAQ,EAAA,CAAM,EACxCC,EAAAA,YAAY,IAAM,CAAED,EAAQ,MAAQ,EAAA,CAAO,EAErC,MAAAxL,EAASrG,SAAO,QAAQ,EACxBK,EAAQL,SAAO,OAAO,4gDCX5B,MAAML,EAAQC,EAMRmS,EAAMxO,MAAI,IAAI,EAEdjB,EAAQ7B,EAAAA,SAAS,EACjBuR,EAAO/B,EAAAA,YAAY3N,EAAO,OAAQ,CAAC,QAAS,cAAc,EAC1D2P,EAAUhC,EAAAA,YAAY3N,EAAO,SAAS,m3CC9B5C,MAAM3C,EAAQC,EACR,CAAC,OAAAsS,EAAQ,OAAAC,CAAA,EAAUC,EAAAA,eAAe,CAAC,MAAAzS,EAAM,EACjCsF,WAAS,IAAMiN,EAAO,KAAK,GAAG,EAC5C,KAAM,CAAC,MAAAhL,CAAA,EAAS+H,EAAA,OAAOiD,CAAM,EAE7B,OAAApD,EAAa,CAAC,OAAAoD,EAAQ,OAAAC,EAAQ,MAAAjL,CAAA,CAAM,2zBCwGpC,MAAM5E,EAAQ7B,EAAAA,SAAS,EACjB4R,EAAiBpC,EAAAA,YAAY3N,EAAO,aAAa,EACjD0N,EAAYC,EAAAA,YAAY3N,EAAO,OAAO,EACtCgQ,EAAYrC,EAAAA,YAAY3N,EAAO,oBAAoB,EAEnDqM,EAAUsC,iBAAe,SAAS,EAClCtR,EAAQC,EAIRG,EAAUC,SAAO,SAAS,EAC1B,CAAC,MAAAK,EAAO,KAAAyN,EAAM,MAAAlG,EAAO,KAAAgD,EAAM,KAAAJ,GAAQxK,EAAAA,OAAO,OAAO,GAAKuS,gBAAc,CAAC,MAAA5S,EAAM,EAC3E0G,EAAShG,EAAM,OAEfmS,EAAUvN,EAAAA,SAAS,IAAA,OAAO,OAAAlF,EAAQ,KAAK,IAAI,CAACM,EAAM,OAAOyF,EAAAzF,EAAM,QAAN,MAAAyF,EAAa,GAAK,SAAU,KAAK,CAAC,EAAC,EAE5F,CAAC,YAAA2M,CAAA,EAAexD,EAAA,OAAO5O,CAAK,EAG5B8P,EAAUlL,EAAAA,SAAS,IAAM,CAC3B,GAAGtF,EAAM,QACT,CAAC,IAAK,UAAW,MAAOwH,EAAAA,EAAE,SAAS,CAAC,CAAA,CACvC,EAGD,SAASuL,EAAMlS,EAAM,CACjBH,EAAM,MAAM,MAAQG,CAAA,CAGlB,MAAAmS,EAAO1N,EAAAA,SAAS,KACV,CACJ,MAAA5E,EAAO,OAAAgG,EAAQ,KAAAyH,EAAM,MAAAlG,EAAO,QAAA7H,EAC5B,MAAOM,EAAM,KACjB,EACH,gyLCzJD,MAAMV,EAAQC,EAERyG,EAASrG,SAAO,QAAQ,EACdiF,OAAAA,WAAS,IAAM,CAACtF,EAAM,MAAQ,MAAM,MAAQA,EAAM,IAAI,gmBCUzDiT,GAAM,CACf,GAAI,OACJ,WAAY,CAAC,KAAM,IAAI,EACvB,WAAY,CAAC,GAAGC,GAAI,GAAGC,GAAM,UAAA,CACjC","x_google_ignoreList":[3,5,11]}
